(function(t){function e(e){for(var r,n,i=e[0],l=e[1],c=e[2],d=0,m=[];d<i.length;d++)n=i[d],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&m.push(a[n][0]),a[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],r=!0,n=1;n<s.length;n++){var l=s[n];0!==a[l]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=s[0]))}return t}var r={},a={0:0},o=[];function n(t){return i.p+"js/"+({}[t]||t)+"."+{2:"97da1bd5"}[t]+".js"}function i(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.e=function(t){var e=[],s=a[t];if(0!==s)if(s)e.push(s[2]);else{var r=new Promise((function(e,r){s=a[t]=[e,r]}));e.push(s[2]=r);var o,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=n(t);var c=new Error;o=function(e){l.onerror=l.onload=null,clearTimeout(d);var s=a[t];if(0!==s){if(s){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",c.name="ChunkLoadError",c.type=r,c.request=o,s[1](c)}a[t]=void 0}};var d=setTimeout((function(){o({type:"timeout",target:l})}),12e4);l.onerror=l.onload=o,document.head.appendChild(l)}return Promise.all(e)},i.m=t,i.c=r,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var u=c;o.push([0,1]),s()})({0:function(t,e,s){t.exports=s("2f39")},"0c9a":function(t,e,s){"use strict";s("7bcc")},"2c7b":function(t,e,s){"use strict";s("f345")},"2f39":function(t,e,s){"use strict";s.r(e);s("e6cf"),s("5319"),s("9f29"),s("e54f"),s("985d"),s("31cd");var r=s("2b0e"),a=s("1f91"),o=s("42d2"),n=s("b05d"),i=s("2a19"),l=s("18d6"),c=s("a639");r["a"].use(n["a"],{config:{notify:{}},lang:a["a"],iconSet:o["a"],plugins:{Notify:i["a"],LocalStorage:l["a"],SessionStorage:c["a"]}});var d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"q-app"}},[s("router-view")],1)},u=[],m={name:"App"},p=m,_=s("2877"),h=Object(_["a"])(p,d,u,!1,null,null,null),g=h.exports,v=s("2f62");r["a"].use(v["a"]);var f=new v["a"].Store({state:{instruments:[],vendors:[],bottom_sheet:!1,bottom_best_limit_sheet:!1,order_details_bottom_sheet:!1,order_details_selected:void 0,snackbar_message:"",snackbar:!1,token:"",order_item:null,user_details:null,gold_ask:0,silver_ask:0,dollar:0,gold_comex:0},mutations:{push_instruments(t,e){t.instruments=e},update_prices(t,e){t.gold_comex=e.gold_comex.ask,t.gold_ask=e.gold_tick.ask,t.silver_ask=e.silver_tick.ask,t.dollar=e.dollar.ask,t.instruments=t.instruments.map((function(t){return t.bid=e.gold_tick.bid+t.buy_premium,t.ask=e.gold_tick.ask+t.sell_premium,t.high=Math.max(t.bid,t.high,t.ask),t.low=Math.min(t.bid,t.low,t.ask),t}))},set_token(t,e){t.token=e},set_sheet(t,e){t.bottom_sheet=e},update_instrument(t,e){for(var s=0;s<t.instruments.length;s++)t.instruments[s].instrument_id===e.instrument_id&&(t.instruments[s]=e,console.log("updating instrument"))},show_snackbar(t,e){t.snackbar=!0,t.snackbar_message=e},push_vendors(t,e){t.vendors=e},set_selected(t,e){t.order_item=e},set_best_limit_sheet(t,e){t.bottom_best_limit_sheet=e},set_order_details(t,e){t.order_details_selected=e}},actions:{push_instruments({commit:t},e){t("push_instruments",e)},update_prices({commit:t},e){t("update_prices",e)},update_instrument({commit:t},e){t("update_instrument",e)},push_vendors({commit:t},e){t("push_vendors",e)},set_sheet({commit:t},e){t("set_sheet",e)},set_best_limit_sheet({commit:t},e){t("set_best_limit_sheet",e)},set_order_item({commit:t},e){t("set_selected",e)},show_snackbar({commit:t},e){t("show_snackbar",e)},set_token({commit:t},e){t("set_token",e)},set_order_details({commit:t},e){t("set_order_details",e)}},modules:{},getters:{get_instruments:t=>t.instruments,get_instrument:t=>e=>t.instruments.find((t=>t.instrument_id===e)),get_all_vendors:t=>t.vendors,get_vendor_instruments:t=>e=>{var s={};return s.instruments=t.instruments.filter((t=>t.vendor_id===e)),console.log(e),console.log(t.vendors),s.vendor=t.vendors.find((t=>t.vendor_id===e)),s},get_favourite_instruments:t=>{console.log(t)},get_order_item:t=>t.order_item,get_sheet:t=>t.bottom_sheet,get_vendor_from_id:t=>e=>{const s=t.vendors.find((t=>t.vendor_id===e));return s},get_best_limit_sheet:t=>t.bottom_best_limit_sheet}}),b=s("8c4f"),q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("q-pull-to-refresh",{on:{refresh:t.refresher}},[t.orders_to_rate.length>0?s("div",t._l(t.orders_to_rate,(function(t){return s("div",{key:t.order_id},[s("Rating",{attrs:{data:[t.instrument_id.vendor_id,t.instrument_id.vendor,!0]}})],1)})),0):t._e(),s("div",{},[s("div",{staticClass:"q-gutter-y-md"},[s("q-card",{attrs:{flat:""}},[s("q-tabs",{staticClass:"text-grey",attrs:{"active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":"",stretch:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab",{attrs:{name:"executed",label:"Executed"}}),s("q-tab",{attrs:{name:"pending",label:"Pending"}}),s("q-tab",{attrs:{name:"closed",label:"Closed"}})],1),s("q-separator"),s("q-tab-panels",{attrs:{swipeable:"",animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab-panel",{attrs:{name:"executed"}},[s("ExecutedOrders",{attrs:{waiting:t.executed_orders_waiting,confirmed:t.executed_orders_confirmed}})],1),s("q-tab-panel",{attrs:{name:"pending"}},[s("PendingOrders",{attrs:{pending:t.active_orders,refresh:this.get_orders}})],1),s("q-tab-panel",{attrs:{name:"closed"}},[s("ClosedOrders",{attrs:{closed:t.closed_orders}})],1)],1)],1)],1)])])],1)},w=[],y=(s("4e82"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.waiting.length>0||t.confirmed.length>0?s("div",[s("div",{},[s("OrderItemTable",{attrs:{orders:t.confirmed,title:"Confirmed"}}),s("OrderItemTable",{attrs:{orders:t.waiting,title:"Waiting"}})],1)]):s("div",[s("div",{staticClass:"row align-middle"},[s("div",{staticClass:"center"},[s("q-img",{staticClass:"q-ml-lg",attrs:{width:"200px",src:"Human.png"}})],1),s("q-card",{staticClass:"q-ma-md"},[s("div",{staticClass:"text-h6 font-bold q-ma-lg"},[t._v("No Executed orders")]),s("div",{staticClass:" q-ma-lg"},[t._v("To place an order. Please go to  "),s("q-btn",{on:{click:function(e){return t.$router.push("Home")}}},[t._v("Home")])],1)])],1)])])}),k=[],C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.orders.length>0?s("div",[s("q-table",{attrs:{grid:"","card-class":"bg-primary text-white",title:t.title,data:t.orders,"row-key":"name",filter:t.filter,"hide-header":"","hide-no-data":"",pagination:t.pagination},scopedSlots:t._u([{key:"top-right",fn:function(){return[s("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"search"}})]},proxy:!0}],null,!1,4009527860),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"item",fn:function(t){return[s("div",{staticClass:"q-pa-xs col-xs-12 col-sm-12 col-md-6"},[s("OrderItem",{attrs:{order:t.row}})],1)]}}],null,!1,402120872)})],1):s("div",[t.show_illustration?s("div",[s("div",{staticClass:"row align-middle"},[s("div",{staticClass:"center"},[s("q-img",{staticClass:"q-ml-lg",attrs:{width:"200px",src:"Human.png"}})],1),s("q-card",{staticClass:"q-ma-md"},[s("div",{staticClass:"text-h6 font-bold q-ma-lg"},[t._v("No "+t._s(t.title)+" orders")]),s("div",{staticClass:" q-ma-lg"},[t._v("To place an order. Please go to\n          "),s("q-btn",{on:{click:function(e){return t.$router.push("Home")}}},[t._v("Home")])],1)])],1)]):t._e()]),void 0!==t.best_limit_orders?s("div",[t.best_limit_orders.length>0?s("div",[s("q-table",{attrs:{grid:"","card-class":"bg-primary text-white",title:t.title,data:t.best_limit_orders,"row-key":"name",filter:t.filter,"hide-header":"","hide-no-data":"",pagination:t.pagination},scopedSlots:t._u([{key:"top-right",fn:function(){return[s("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"search"}})]},proxy:!0}],null,!1,4009527860),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"item",fn:function(t){return[s("div",{staticClass:"q-pa-xs col-xs-12 col-sm-12 col-md-6"},[s("BestLimitOrderItem",{attrs:{order:t.row}})],1)]}}],null,!1,1504375389)})],1):t._e()]):t._e()])},x=[],S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("q-card",{staticClass:"my-card",attrs:{square:"",flat:"",bordered:""}},[s("q-card-actions",{attrs:{align:"right"}},[s("div",{staticClass:"justify-start"},[s("q-chip",{attrs:{outline:"",color:"black",dense:""}},[t._v("ID : "+t._s(t.order.transaction_id))])],1),"EXECUTED"===t.order.status?s("div",["BEST_LIMIT"===t.order.type?s("q-chip",{attrs:{outline:"",color:"orange",dense:""}},[t._v("BEST_LIMIT")]):t._e(),s("q-chip",{attrs:{outline:"",size:"md",color:"green",dense:""}},[t._v("Payment confirmed")]),s("q-chip",{attrs:{outline:"",color:"blue",dense:""}},[t._v("OTP:"+t._s(t.order.otp))])],1):t._e(),"OPEN"===t.order.status?s("div",["BEST_LIMIT"===t.order.type?s("q-chip",{attrs:{outline:"",color:"orange",dense:""}},[t._v("BEST_LIMIT")]):t._e(),s("q-chip",{attrs:{outline:"",color:"blue",dense:""}},[t._v("Waiting for payment")])],1):t._e(),"WAITING_FOR_LIMIT"===t.order.status?s("div",["BEST_LIMIT"===t.order.type?s("q-chip",{attrs:{outline:"",color:"orange",dense:""}},[t._v("BEST_LIMIT")]):t._e(),s("q-chip",{attrs:{outline:"",color:"blue",dense:""}},[t._v("Limit Order waiting")]),t.is_cancelled?s("q-chip",{attrs:{outline:"",color:"red",dense:""}},[t._v("Cancelled")]):s("q-btn",{attrs:{outline:"",color:"black",dense:""},on:{click:function(e){return t.cancel_limit_order()}}},[t._v("CANCEL")])],1):t._e(),"CLOSED"===t.order.status?s("div",[s("q-chip",{attrs:{outline:"",color:"green",dense:""}},[t._v("Closed")])],1):t._e()]),s("q-separator"),s("div",{on:{click:function(e){return t.set_order_details()}}},[s("div",{staticClass:"row q-ma-sm"},[s("div",{staticClass:"col"},[s("strong",[t._v(t._s(t.order.instrument.vendor))]),s("span",{staticClass:"font-bold q-ml-xs-sm "},[t._v(" "+t._s(t.order.instrument.name))])]),s("div",{staticClass:"col"},[s("div",{staticClass:"text-right align-right"},[s("div",{staticClass:"col text-right"},[t._v("Price:"+t._s(t.order.price))])])])]),s("div",{staticClass:"row q-ma-sm"},[s("div",{staticClass:"col"},[s("q-chip",{attrs:{dense:"",outline:"",color:"orange"}},[t._v(t._s(t.order.side)+" ")]),t._v(" "+t._s(t.order.quantity)+"\n        "),s("span",{staticClass:"q-ml-sm",staticStyle:{color:"grey"}},[s("q-icon",{attrs:{name:"mdi-clock"}}),t._v(t._s(t.get_formated_time))],1)],1),s("span",{staticClass:"text-sm q-ml-sm",staticStyle:{color:"grey"}},[t._v("ltp: "+t._s(t.order.instrument.ask))])])])],1)],1)},Q=[];function $(t){return 204===t.status||404===t.status||400===t.status||500===t.status?t:t.data}function I(t,e,r){console.log("requesting with token"+l["a"].getItem("token"));var a=s("bc3a"),o={method:e||"GET",url:t,headers:{Authorization:"Token "+l["a"].getItem("token"),"Content-Type":"application/json"},data:r};return a(o).then((t=>$(t)))}const T="http://52.15.217.184:8080",O="52.15.217.184:8080";function E(t){const e=T+"/api/favourites/";return I(e,"POST",t)}function P(t){const e=T+"/api/favourites/";var s={instrument_id:t};return I(e,"DELETE",s)}function L(){const t=T+"/order/api/orders";return I(t,"GET",null)}function j(t){const e=T+"/order/api/orders";return I(e,"POST",t)}function B(t){const e=T+"/order/api/orders";return I(e,"DELETE",t)}function M(){const t=T+"/order/api/usermargins";return I(t,"GET",null)}function A(){const t=T+"/api/rest-auth/user";return I(t,"GET",null)}function D(t){const e=T+"/api/ratevendor/";return I(e,"POST",t)}function N(t){const e=T+"/user/api/activateUser";return I(e,"POST",t)}var R={name:"OrderItem",props:["order"],computed:{get_formated_time(){const t=new Date(this.order.created_at);return t.toLocaleString("en-GB")},logged_in:function(){const t=this.$q.localStorage.getItem("token");return""!==t&&null!==t&&"null"!==t},is_cancelled:function(){return this.cancelled}},methods:{set_order_details(){this.$store.dispatch("set_order_details",this.order),console.log(this.$store.state.order_details_selected),this.$store.state.order_details_bottom_sheet=!0},cancel_limit_order(){console.log("limit order cancellation request for"+this.order),B({order_id:this.order.order_id}).then((t=>{this.cancelled=!0}))}},data:function(){return{cancelled:!1}}},z=R,H=s("f09f"),F=s("4b7e"),V=s("b047"),J=s("9c40"),U=s("eb85"),G=s("0016"),W=s("eebe"),Y=s.n(W),K=Object(_["a"])(z,S,Q,!1,null,"77c96c0a",null),X=K.exports;Y()(K,"components",{QCard:H["a"],QCardActions:F["a"],QChip:V["a"],QBtn:J["a"],QSeparator:U["a"],QIcon:G["a"]});var Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("q-card",{staticClass:"my-card",attrs:{square:"",flat:"",bordered:""}},[s("q-card-actions",{attrs:{align:"right"}},[s("div",{staticClass:"justify-start"},[s("q-chip",{attrs:{outline:"",color:"black",dense:""}},[t._v("ID : "+t._s(t.order.best_limit_id))])],1),s("q-chip",{attrs:{outline:"",color:"orange",dense:""}},[t._v("BEST_LIMIT")]),t.is_cancelled?s("q-chip",{attrs:{outline:"",color:"red",dense:""}},[t._v("Cancelled")]):s("q-btn",{attrs:{outline:"",color:"black",dense:""},on:{click:function(e){return t.cancel_limit_order()}}},[t._v("CANCEL")])],1),s("q-expansion-item",{staticClass:"font-bold",attrs:{label:t.order.orders[0].instrument.vendor+" :"+t.order.orders[0].instrument.name+"  +"+(t.order.orders.length-1)+" more"}},t._l(t.order.orders,(function(e){return s("div",{key:e.order_id},[s("q-separator"),s("div",{staticClass:"row q-ma-sm"},[s("div",{staticClass:"col"},[s("strong",[t._v(t._s(e.instrument.vendor))]),s("span",{staticClass:"font-bold q-ml-xs-sm "},[t._v(" "+t._s(e.instrument.name))])]),s("span",{staticClass:"text-right text-sm q-ml-sm",staticStyle:{color:"grey"}},[t._v("ltp: "+t._s(e.instrument.ask))])])],1)})),0),s("q-separator"),s("div",{staticClass:"row q-ma-sm"},[s("div",{staticClass:"col"},[s("q-chip",{attrs:{dense:"",outline:"",color:"orange"}},[t._v(t._s(t.order.orders[0].side)+" ")]),t._v(" "+t._s(t.order.orders[0].quantity)+"\n          "),s("span",{staticClass:"q-ml-sm",staticStyle:{color:"grey"}},[s("q-icon",{attrs:{name:"mdi-clock"}}),t._v(t._s(t.get_formated_time))],1)],1),s("div",{staticClass:"col"},[s("div",{staticClass:"text-right align-right"},[s("div",{staticClass:"col text-right"},[t._v("Price:"+t._s(t.order.orders[0].price))])])])])],1)],1)},tt=[],et={name:"BestLimitOrderItem",props:["order"],computed:{get_formated_time(){const t=new Date(this.order.orders[0].created_at);return t.toLocaleString("en-GB")},logged_in:function(){const t=this.$q.localStorage.getItem("token");return""!==t&&null!==t&&"null"!==t},is_cancelled:function(){return this.cancelled}},methods:{cancel_limit_order(){console.log(this.order.orders),this.order.orders.map((t=>{B({order_id:t.order_id}).then((t=>{this.cancelled=!0}))}))}},data:function(){return{cancelled:!1}},created(){}},st=et,rt=s("3b73"),at=Object(_["a"])(st,Z,tt,!1,null,"eeae11ec",null),ot=at.exports;Y()(at,"components",{QCard:H["a"],QCardActions:F["a"],QChip:V["a"],QBtn:J["a"],QExpansionItem:rt["a"],QSeparator:U["a"],QIcon:G["a"]});var nt={name:"OrderItemTable",components:{BestLimitOrderItem:ot,OrderItem:X},props:["orders","best_limit_orders","title","show_illustration"],data:function(){return{filter:"",pagination:{rowsPerPage:0}}},created(){}},it=nt,lt=s("eaac"),ct=s("27f9"),dt=s("068f"),ut=Object(_["a"])(it,C,x,!1,null,"56ece881",null),mt=ut.exports;Y()(ut,"components",{QTable:lt["a"],QInput:ct["a"],QIcon:G["a"],QImg:dt["a"],QCard:H["a"],QBtn:J["a"]});var pt={name:"ExecutedOrders",props:["confirmed","waiting"],components:{OrderItemTable:mt},created(){console.log(this.waiting.length),console.log(this.confirmed.length)}},_t=pt,ht=Object(_["a"])(_t,y,k,!1,null,"0582aaf8",null),gt=ht.exports;Y()(ht,"components",{QImg:dt["a"],QCard:H["a"],QBtn:J["a"]});var vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("OrderItemTable",{attrs:{orders:t.pending_orders,best_limit_orders:t.best_limit,show_illustration:!0,title:"Pending limit"}})],1)},ft=[],bt={name:"PendingOrders",components:{OrderItemTable:mt},props:["pending"],data:function(){return{pending_orders:[],best_limit:[]}},created(){var t={};for(var e in this.pending.map((e=>{"BEST_LIMIT"===e.type?(e.best_limit_id in t||(t[e.best_limit_id]=[]),t[e.best_limit_id].push(e)):this.pending_orders.push(e)})),t){var s={best_limit_id:e,orders:t[e]};this.best_limit.push(s)}}},qt=bt,wt=Object(_["a"])(qt,vt,ft,!1,null,null,null),yt=wt.exports,kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("OrderItemTable",{attrs:{show_illustration:!0,orders:t.closed}})},Ct=[],xt={name:"ClosedOrders",components:{OrderItemTable:mt},props:["closed"]},St=xt,Qt=Object(_["a"])(St,kt,Ct,!1,null,"05a4a288",null),$t=Qt.exports,It=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("q-dialog",{model:{value:t.card,callback:function(e){t.card=e},expression:"card"}},[s("q-card",[s("q-card-section",{staticClass:"bg-primary text-h6",staticStyle:{color:"white"}},[t._v("\n            "+t._s(t.order.instrument_id.vendor)+"\n          ")]),s("q-card-section",[s("q-rating",{attrs:{"aria-placeholder":"Please provide a rating for the Vendor!",max:5,size:"32px"},model:{value:t.stars,callback:function(e){t.stars=e},expression:"stars"}})],1),s("q-card-section",[s("div",[s("q-input",{attrs:{label:"Please leave a review here ...",filled:"",type:"textarea",cols:"33",rows:"10",autogrow:""},model:{value:t.rating_text,callback:function(e){t.rating_text=e},expression:"rating_text"}})],1)]),s("q-separator"),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{attrs:{flat:"",color:"primary",label:"Submit"},on:{click:t.rateVendor}})],1)],1)],1)],1)},Tt=[],Ot={name:"Rating",props:["data"],methods:{rateVendor(){if(!this.stars)return void i["a"].create({message:"Please provide a rating for the given vendor",position:"top-right"});if(this.stars>2)this.card=!1;else if(this.stars<3&&0===this.rating_text.length)return void i["a"].create({message:"Please provide a review for rating below 3",position:"top-right"});this.card=!1;const t={vendor_id:this.order.instrument_id.vendor_id,rating:this.stars,rating_text:this.rating_text,is_rated:!0,order_id:this.order.order_id};D(t).then((t=>{console.log(t),i["a"].create({message:"Your review has been successfully delivered!",position:"top-right"}),this.order.is_rated=!0})).catch((t=>{console.log(t),i["a"].create({message:"Your rating could not be submitted!",position:"top-right"})}))}},data(){return{order:[],card:!1,rating_text:"",stars:""}},created(){this.order=this.data[0],this.card=this.data[1],console.log("Created of rating!"),console.log(this.data)}},Et=Ot,Pt=s("24e8"),Lt=s("a370"),jt=s("daf4"),Bt=Object(_["a"])(Et,It,Tt,!1,null,"0fd9c923",null),Mt=Bt.exports;Y()(Bt,"components",{QDialog:Pt["a"],QCard:H["a"],QCardSection:Lt["a"],QRating:jt["a"],QInput:ct["a"],QSeparator:U["a"],QCardActions:F["a"],QBtn:J["a"]});var At={name:"Orders",components:{ClosedOrders:$t,PendingOrders:yt,ExecutedOrders:gt,Rating:Mt},data(){return{tab:"executed",orders:[],active_orders:[],executed_orders_confirmed:[],executed_orders_waiting:[],closed_orders:[],orders_to_rate:[]}},methods:{refresher(t){this.get_orders().then(t())},get_orders(){return L().then((t=>{this.orders=t,console.log(t)})).then((()=>{this.orders=this.orders.map((t=>(t.instrument=this.$store.getters.get_instrument(t.instrument_id),console.log(t.instrument),t)))})).then((()=>{this.orders.sort(((t,e)=>new Date(e.created_at)-new Date(t.created_at)))})).then((()=>{console.log("Timestamp : "),console.log(this.orders)})).then((()=>{this.active_orders=this.orders.filter((t=>"WAITING_FOR_LIMIT"===t.status)),this.executed_orders_waiting=this.orders.filter((t=>"OPEN"===t.status)),this.executed_orders_waiting.sort(((t,e)=>new Date(e.created_at)-new Date(t.created_at))),this.executed_orders_confirmed=this.orders.filter((t=>"EXECUTED"===t.status)),this.closed_orders=this.orders.filter((t=>"CLOSED"===t.status)),this.orders_to_rate=this.orders.filter((t=>(console.log(t.status),console.log(t.is_rated),"CLOSED"===t.status&&!1===t.is_rated))),console.log(this.orders_to_rate)}))}},created(){this.get_orders()}},Dt=At,Nt=s("59d7"),Rt=s("429b"),zt=s("7460"),Ht=s("adad"),Ft=s("823b"),Vt=Object(_["a"])(Dt,q,w,!1,null,"ab26fb68",null),Jt=Vt.exports;Y()(Vt,"components",{QPullToRefresh:Nt["a"],QCard:H["a"],QTabs:Rt["a"],QTab:zt["a"],QSeparator:U["a"],QTabPanels:Ht["a"],QTabPanel:Ft["a"]});var Ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.logged_in?s("div",[s("div",{staticClass:"Favourites"},[s("TickerPriceTable",{attrs:{render_best:!0,title:"Favourites",instruments_to_render:t.favourite_items}})],1)]):s("div",[s("LoginRequired",{attrs:{page:"or add Favourites"}})],1)])},Gt=[],Wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"q-ml-md q-mr-md q-mt-md row text-h6"},[s("div",{staticClass:"col"},[null==t.title?s("div",[t._v("\n            Watchlist\n        ")]):s("div",[t._v("\n        "+t._s(t.title)+"\n      ")])]),s("div",{staticClass:"col"},[s("q-input",{staticClass:"q-ml-lg",attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)]),s("div",{staticClass:"row q-ml-md"},[t._v("\n          Please click on Bid/Ask to place orders\n      ")]),s("div",[s("q-tabs",{staticStyle:{width:"available"},attrs:{"no-caps":"",dense:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.types,(function(t){return s("div",{key:t},[s("q-tab",{attrs:{name:t,label:t,on:""}})],1)})),0)],1),t.render_best?s("q-card",{staticClass:"bg-light-blue-2 row q-pa-sm",attrs:{square:"",bordered:"",flat:""}},[t.$q.platform.is.mobile?t._e():s("div",{staticClass:"col-3 vendor_link",on:{click:function(e){return t.open_vendor_dialog(t.lowest.vendor_id)}}},[t._v("\n            Best : "+t._s(t.lowest.vendor)+"\n          ")]),t.$q.platform.is.mobile?s("div",{staticClass:"col-6",on:{click:function(e){return t.open_vendor_dialog(t.lowest.vendor_id)}}},[s("div",{staticClass:"q-pl-md "},[s("div",{staticClass:"row vendor_link"},[s("span",{staticStyle:{"font-size":"small"}},[t._v("Best: "+t._s(t.lowest.vendor))])]),s("div",{staticClass:"row"},[s("span",{staticStyle:{"font-size":"small"}},[t._v(t._s(t.lowest.name))])])])]):s("div",{staticClass:"col",on:{click:function(e){return t.open_vendor_dialog(t.lowest.vendor_id)}}},[t._v("\n              "+t._s(t.lowest.name)+"\n            ")]),s("div",{staticClass:"col",on:{click:function(e){return t.open_order_sheet(t.lowest)}}},[t.$q.platform.is.mobile?s("div",[s("div",{staticClass:"row"},[s("span",{staticStyle:{"font-size":"large"}},[t._v(" "+t._s(t.lowest.bid))])]),s("div",{staticClass:"row"},[s("span",{staticStyle:{"font-size":"small"}},[t._v("L:"+t._s(t.lowest.low))])])]):s("div",[s("div",{staticClass:"col"},[t._v("\n              "+t._s(t.lowest.bid)+"\n                ")])])]),s("div",{staticClass:"col",on:{click:function(e){return t.open_order_sheet(t.lowest)}}},[t.$q.platform.is.mobile?s("div",[s("div",{staticClass:"row"},[s("span",{staticStyle:{"font-size":"large"}},[t._v(" "+t._s(t.lowest.ask))])]),s("div",{staticClass:"row"},[s("span",{staticStyle:{"font-size":"small"}},[t._v("H:"+t._s(t.lowest.high))])])]):s("div",[t._v("\n              "+t._s(t.lowest.ask)+"\n              ")])]),t.$q.platform.is.mobile?t._e():s("div",{staticClass:"col"},[t._v("\n              "+t._s(t.lowest.high)+"\n          ")]),t.$q.platform.is.mobile?t._e():s("div",{staticClass:"col"},[t._v("\n              "+t._s(t.lowest.low)+"\n          ")])]):t._e(),s("q-table",{directives:[{name:"touch-swipe",rawName:"v-touch-swipe.mouse.horizontal",value:t.handleSwipe,expression:"handleSwipe",modifiers:{mouse:!0,horizontal:!0}}],staticStyle:{"max-height":"600px"},attrs:{title:"Ticker Prices",data:t.data_render,columns:t.headers,filter:t.filter,"row-key":"instrument_id",bordered:"",flat:"",pagination:t.pagination,"virtual-scroll":"","hide-bottom":""},scopedSlots:t._u([{key:"top",fn:function(){},proxy:!0},{key:"header",fn:function(e){return[s("q-tr",{staticClass:"text-left",attrs:{props:e}},[t.$q.platform.is.mobile?t._e():s("q-th",[t._v("\n            Vendor\n          ")]),s("q-th",[t._v("\n            Symbol\n          ")]),s("q-th",[t._v("\n            Bid\n          ")]),s("q-th",[t._v("\n            Ask\n          ")]),t.$q.platform.is.mobile?t._e():s("q-th",[t._v("\n            High\n          ")]),t.$q.platform.is.mobile?t._e():s("q-th",[t._v("\n            Low\n          ")]),s("q-th"),s("q-th")],1)]}},{key:"body",fn:function(e){return[s("q-tr",{attrs:{props:e}},[t.$q.platform.is.mobile?t._e():s("q-td",{key:"Vendor",staticClass:"vendor_link",attrs:{props:e},on:{click:function(s){return t.open_vendor_dialog(e.row.vendor_id)}}},[t._v("\n            "+t._s(e.row.vendor)+"\n          ")]),s("q-td",{key:"Symbol",attrs:{props:e},on:{click:function(s){return t.open_vendor_dialog(e.row.vendor_id)}}},[t.$q.platform.is.mobile?s("div",[s("div",{staticClass:"col"},[s("div",{staticClass:"row vendor_link"},[s("span",{staticStyle:{"font-size":"small"}},[t._v(" "+t._s(e.row.vendor))])]),s("div",{staticClass:"row"},[s("span",{staticStyle:{"font-size":"small"}},[t._v(t._s(e.row.name))])])])]):s("div",[t._v("\n              "+t._s(e.row.name)+"\n            ")])]),s("q-td",{key:"Bid",attrs:{props:e},on:{click:function(s){return t.open_order_sheet(e.row)}}},[t.$q.platform.is.mobile?s("div",[s("div",{staticClass:"col"},[s("div",{staticClass:"row"},[s("span",{staticStyle:{"font-size":"large"}},[t._v(" "+t._s(e.row.bid))])]),s("div",{staticClass:"row"},[s("span",{staticStyle:{"font-size":"small"}},[t._v("L:"+t._s(e.row.low))])])])]):s("div",[t._v("\n              "+t._s(e.row.bid)+"\n            ")])]),s("q-td",{key:"Ask",attrs:{props:e},on:{click:function(s){return t.open_order_sheet(e.row)}}},[t.$q.platform.is.mobile?s("div",[s("div",{staticClass:"col"},[s("div",{staticClass:"row"},[s("span",{staticStyle:{"font-size":"large"}},[t._v(" "+t._s(e.row.ask))])]),s("div",{staticClass:"row"},[s("span",{staticStyle:{"font-size":"small"}},[t._v("H:"+t._s(e.row.high))])])])]):s("div",[t._v("\n              "+t._s(e.row.ask)+"\n              ")])]),t.$q.platform.is.mobile?t._e():s("q-td",{key:"High",attrs:{props:e}},[t._v("\n              "+t._s(e.row.high)+"\n          ")]),t.$q.platform.is.mobile?t._e():s("q-td",{key:"Low",attrs:{props:e}},[t._v("\n              "+t._s(e.row.low)+"\n          ")]),s("q-td",{key:"favourite",attrs:{props:e},on:{click:function(s){return t.toggleFavourite(e.row)}}},[e.row.is_favourite?s("div",[s("q-icon",{attrs:{size:"sm",name:"mdi-star"}})],1):s("div",[s("q-icon",{attrs:{size:"sm",name:"mdi-star-outline"}})],1)])],1)]}}])})],1)},Yt=[],Kt=(s("ddb0"),s("4082")),Xt=s.n(Kt),Zt={name:"TickerPriceTable",props:["instruments_to_render","title","render_best"],computed:{data_render:function(){let t="";return"All"!==this.tab?(t=this.tab,this.instruments_to_render.filter((e=>e.type===t))):this.instruments_to_render},lowest:function(){let t="";var e=[];return"All"!==this.tab?(t=this.tab,e=this.instruments_to_render.filter((e=>e.type===t))):e=this.instruments_to_render,e.filter((t=>t.ask===Math.min(...e.map((t=>t.ask)))))[0]}},data(){return{pagination:{rowsPerPage:0},filter:"",tab:"All",tabIndex:0,types:["All","Gold 999","Gold 999 1kg","Gold 995","Gold 995 1kg"],headers:[{name:"Vendor",align:"start",field:"vendor",label:"Vendor"},{name:"Symbol",align:"start",field:"name",label:"Symbol"},{name:"Bid",align:"start",field:"bid",filterable:!0,label:"Bid",sortable:!0},{name:"Ask",align:"start",field:"ask",filterable:!0,label:"Ask",sortable:!0},{name:"High",align:"start",field:"high",filterable:!0,label:"High",sortable:!0},{name:"Low",align:"start",field:"low",filterable:!0,label:"Low",sortable:!0},{name:"favourite",align:"start",field:"is_favourite",label:""}],selectedFilters:""}},methods:{handleSwipe(t){let{evt:e}=t,s=Xt()(t,["evt"]);console.log(s),"right"===s.direction?(this.tabIndex=Math.max(0,this.tabIndex-1),this.tab=this.types[Math.min(this.tabIndex,this.types.length-1)]):"left"===s.direction&&(this.tabIndex=Math.min(this.types.length-1,this.tabIndex+1),this.tabIndex<0&&(this.tabIndex=0),this.tab=this.types[Math.max(this.tabIndex,0)])},toggleFavourite:function(t){console.log(t),t.is_favourite=!t.is_favourite,!1===t.is_favourite?P(t.instrument_id).then((t=>{console.log(t),i["a"].create({message:"Removed from favourites ",position:"top-right"})})):E(t).then((t=>{i["a"].create({message:"Added to favourites ",position:"top-right"})}))},open_order_sheet:function(t){this.$store.dispatch("set_order_item",t),this.$store.dispatch("set_sheet",!0)},open_vendor_dialog:function(t){console.log("open vendor called");var e=this.$store.getters.get_vendor_instruments(t);this.$router.push({name:"Vendor",params:{vendor_object:e}})}}},te=Zt,ee=(s("0c9a"),s("bd08")),se=s("db86"),re=s("357e"),ae=s("12c5"),oe=Object(_["a"])(te,Wt,Yt,!1,null,"34dacf98",null),ne=oe.exports;Y()(oe,"components",{QInput:ct["a"],QTabs:Rt["a"],QTab:zt["a"],QCard:H["a"],QIcon:G["a"],QTable:lt["a"],QTr:ee["a"],QTd:se["a"],QTh:re["a"]}),Y()(oe,"directives",{TouchSwipe:ae["a"]});var ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row q-ma-md text-center justify-center items-center align-middle"},[s("div",{staticClass:"column q-pa-lg"},[s("q-card",{attrs:{flat:""}},[s("div",{staticClass:"row"},[s("q-img",{attrs:{width:"",src:"laptop.png"}})],1),s("div",{staticClass:"row q-mt-md"},[s("strong",{staticClass:"text-h6"},[t._v("Please login to view "+t._s(t.page))])]),s("div",{staticClass:"row justify-center"},[s("q-btn",{staticClass:"bg-primary text-white",attrs:{align:"",flat:""},on:{click:function(e){return t.$router.push("Login")}}},[t._v("Login")])],1)])],1)])},le=[],ce={name:"LoginRequired",props:["page"]},de=ce,ue=Object(_["a"])(de,ie,le,!1,null,"4a57fb93",null),me=ue.exports;Y()(ue,"components",{QCard:H["a"],QImg:dt["a"],QBtn:J["a"]});var pe={name:"Favourites",components:{LoginRequired:me,TickerPriceTable:ne},data(){return{favourite_items:[]}},computed:{logged_in:function(){const t=this.$q.localStorage.getItem("token");return""!==t&&null!==t&&"null"!==t}},created(){this.favourite_items=this.$store.state.instruments.filter((t=>!0===t.is_favourite)),console.log(this.favourite_items)}},_e=pe,he=(s("2c7b"),Object(_["a"])(_e,Ut,Gt,!1,null,"21a426ec",null)),ge=he.exports,ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{},[t.logged_in?s("div",[t.$store.state.is_activated?t._e():s("q-card",{attrs:{square:""}},[s("div",{staticClass:"q-pa-sm bg-primary"},[s("div",{staticClass:"text-white",staticStyle:{"font-weight":"bold"}},[t.$store.state.requested_registration?s("div",[t._v("We will register this account as soon as possible")]):s("div",[s("q-btn",{staticClass:"text-black bg-white",on:{click:function(e){return t.$router.push("Registration")}}},[t._v(" Activate ")]),t._v("   your account to place orders")],1)])])])],1):t._e()]),t.orders_to_rate.length>0?s("div",t._l(t.orders_to_rate,(function(t){return s("div",{key:t.order_id},[s("Rating",{attrs:{data:[t,!0]}})],1)})),0):t._e(),s("q-dialog",{attrs:{persistent:""},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}},[s("q-card",{},[s("q-card-section"),s("q-card-section",{staticStyle:{"background-color":"white"}},[s("q-btn",{staticClass:"q-ml-md btn-danger",on:{click:function(e){t.filter=!1}}},[t._v("Close")]),s("q-btn",{staticClass:"q-ml-md btn-primary",attrs:{color:"primary"},on:{click:t.setFilters}},[t._v("Apply Filters")])],1)],1)],1),s("TickerPriceTable",{attrs:{render_best:!0,title:"Bullion prices",instruments_to_render:t.instruments_to_render}}),s("TopVendors",{staticClass:"mobile-hide",attrs:{vendors:t.vendors_computed}}),s("div",{staticClass:"row"},[s("MobileMarketing")],1)],1)},fe=[],be=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"q-ma-md row text-h6"},[t._v("All vendors")]),s("div",{staticClass:" row q-pa-md"},t._l(t.vendors,(function(e){return s("div",{key:e.vendor_id},[s("q-card",{staticClass:"q-ml-md",on:{click:function(s){return t.open_vendor_dialog(e.vendor_id)}}},[s("q-card-section",{style:{backgroundColor:e.theme.css_header_background_color,height:"150px",width:"120px"}},[s("q-img",{attrs:{width:"80px",src:t.base_url+e.theme.logo}}),s("span",{staticClass:"text-white",staticStyle:{"font-weight":"bold"}},[t._v(t._s(e.name))])],1)],1)],1)})),0)])},qe=[],we={name:"TopVendors",props:["vendors"],data(){return{base_url:T}},methods:{open_vendor_dialog:function(t){var e=this.$store.getters.get_vendor_instruments(t);this.$router.push({name:"Vendor",params:{vendor_object:e}})}}},ye=we,ke=Object(_["a"])(ye,be,qe,!1,null,"f92127a2",null),Ce=ke.exports;Y()(ke,"components",{QCard:H["a"],QCardSection:Lt["a"],QImg:dt["a"]});var xe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("q-card",{staticClass:"q-ma-sm col-6",attrs:{bordered:"",flat:""}},[t.$q.platform.is.mobile?t._e():s("div",{staticClass:"bg-light-blue-2"},[s("div",{staticClass:"bg-white row  text-white"},[s("div",{},[s("span",{staticClass:"q-ma-sm font-bold text-primary row text-h6"},[t._v("\n        Experience zlato on the go\n      ")]),s("span",{staticClass:"q-ma-sm font-bold text-primary row "},[t._v("\n        Convenience is garunteed with our robust order placement engines\n        and high priority on experience\n      ")]),s("q-btn",{staticClass:"q-pl-sm q-pr-sm q-ma-sm bg-primary",attrs:{dense:"",flat:"",icon:"mdi-apple"}},[t._v("IOS")]),s("q-btn",{staticClass:"q-pl-sm q-pr-sm q-ma-sm bg-primary",attrs:{dense:"",flat:"",icon:"mdi-android"}},[t._v("Android")])],1)])])])],1)},Se=[],Qe={name:"MobileMarketing"},$e=Qe,Ie=Object(_["a"])($e,xe,Se,!1,null,"95d8b012",null),Te=Ie.exports;Y()(Ie,"components",{QCard:H["a"],QImg:dt["a"],QBtn:J["a"]});var Oe={name:"Home",components:{MobileMarketing:Te,TickerPriceTable:ne,TopVendors:Ce,Rating:Mt},data(){return{slide:"gold 999",tab:"All",filter:!1,headers:[{name:"Vendor",align:"start",field:"vendor",label:"Vendor"},{name:"Symbol",align:"start",field:"name",label:"Symbol"},{name:"Bid",align:"start",field:"bid",filterable:!0,label:"Bid"},{name:"Ask",align:"start",field:"ask",filterable:!0,label:"Ask"},{name:"High",align:"start",field:"high",filterable:!0,label:"High"},{name:"Low",align:"start",field:"low",filterable:!0,label:"Low"},{name:"favourite",align:"start",field:"is_favourite",label:""}],orders_to_rate:[],orders:[]}},computed:{instruments_to_render:function(){return this.$store.getters.get_instruments},bottom_sheet:function(){return this.$store.getters.get_sheet},vendors_computed:function(){return this.$store.getters.get_all_vendors},logged_in:function(){const t=this.$q.localStorage.getItem("token");return""!==t&&null!==t&&"null"!==t}},methods:{setFilters:function(){},toggleFavourite:function(t){t.is_favourite=!t.is_favourite,!1===t.is_favourite?P(t.instrument_id).then((e=>{this.$q.notify({message:"Removed "+t.vendor+" "+t.name+" from favourites",timeout:2e3,position:"top-right",color:"primary"})})):E(t).then((e=>{this.$q.notify({message:"Added "+t.vendor+" "+t.name+" from favourites",timeout:2e3,position:"top-right",color:"primary"})}))},open_order_sheet:function(t){console.log("open order sheet called"),this.$store.dispatch("set_order_item",t),this.$store.dispatch("set_sheet",!0)},filter_dialog(){this.filter=!this.filter},get_orders(){return L().then((t=>{this.orders=t,console.log("Inside get_orders")})).then((()=>{this.orders=this.orders.map((t=>(t.instrument_id=this.$store.getters.get_instrument(t.instrument_id),t)))})).then((()=>{this.orders_to_rate=this.orders.filter((t=>"CLOSED"===t.status&&!1===t.is_rated))}))}},created(){this.get_orders()}},Ee=Oe,Pe=(s("7b0f"),Object(_["a"])(Ee,ve,fe,!1,null,"4b5fbffc",null)),Le=Pe.exports;Y()(Pe,"components",{QCard:H["a"],QBtn:J["a"],QDialog:Pt["a"],QCardSection:Lt["a"]});var je=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{},[t.logged_in?s("div",[s("div",{staticClass:"col"},[s("div",{staticClass:"col-12"}),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("q-card",{attrs:{square:"",flat:""}},[s("q-card-section",{},[s("strong",[t._v("  Account margins")])]),s("q-separator"),s("q-card-section",{},[s("q-item",{attrs:{clickable:"",tag:"a",target:"_blank"},on:{click:function(e){return t.$router.push("Margins")}}},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{staticClass:"text-primary",attrs:{name:"mdi-locker"}})],1),s("q-item-section",{staticClass:"text-primary"},[t._v("Margins available from each vendors")])],1)],1)],1)],1),s("div",{staticClass:"col-12"},[s("q-separator"),s("q-card",{staticClass:" ",attrs:{square:"",flat:""},on:{click:function(e){return t.support_request_method()}}},[s("q-card-section",{},[s("strong",[t._v("Support")])]),s("q-separator"),s("q-card-section",{},[s("q-item",{attrs:{clickable:"",tag:"a",target:"_blank"},on:{click:function(e){return t.support_request_method()}}},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{staticClass:"text-primary",attrs:{name:"mdi-account-arrow-right"}})],1),s("q-item-section",{staticClass:"text-primary"},[t._v("Send a request for support")])],1)],1)],1)],1),s("div",{staticClass:"col-12"},[s("q-separator"),s("q-card",{attrs:{square:"",flat:""}},[s("div",{staticClass:"col col-sm-6 col-md-6 col-xs-12"}),s("q-card-section",{},[s("strong",[t._v("Account Settings")])]),s("q-separator"),s("q-card-section",{},[s("q-list",[s("q-item",{attrs:{clickable:"",tag:"a",target:"_blank"},on:{click:function(e){return t.logout()}}},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{staticClass:"text-primary",attrs:{name:"mdi-logout"}})],1),s("q-item-section",{staticClass:"text-primary"},[t._v("Logout")])],1),s("q-item",{attrs:{clickable:"",tag:"a",target:"_blank"},on:{click:function(e){t.reset=!0}}},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{staticClass:"text-primary",attrs:{name:"mdi-lock-reset"}})],1),s("q-item-section",{staticClass:"text-primary"},[t._v("Reset Password")])],1)],1)],1)],1)],1)])])]):s("div",{},[s("LoginRequired",{attrs:{page:"Account Settings"}})],1),s("q-dialog",{model:{value:t.reset,callback:function(e){t.reset=e},expression:"reset"}},[s("q-card",{},[s("q-card-section",{staticClass:"bg-primary text-h6",staticStyle:{color:"white"}},[t._v("\n        Reset Password\n      ")]),s("q-card-section",{staticClass:"q-ma-md q-gutter-y-md",staticStyle:{"background-color":"white"}},[s("q-input",{attrs:{outlined:"",label:"Enter New Password"},model:{value:t.new_password1,callback:function(e){t.new_password1=e},expression:"new_password1"}}),s("q-input",{attrs:{outlined:"",label:"Re-enter new password"},model:{value:t.new_password2,callback:function(e){t.new_password2=e},expression:"new_password2"}})],1),s("q-card-section",[s("q-btn",{staticClass:"q-ml-md btn-danger",on:{click:function(e){t.reset=!1}}},[t._v("Close")]),s("q-btn",{staticClass:"q-ml-md btn-primary",attrs:{color:"primary"},on:{click:t.changePassword}},[t._v("Confirm")])],1)],1)],1),s("q-dialog",{model:{value:t.support,callback:function(e){t.support=e},expression:"support"}},[s("q-card",{},[s("q-card-section",{staticClass:"bg-primary text-h6",staticStyle:{color:"white"}},[t._v("\n        Support\n      ")]),s("q-card-section",[s("q-input",{attrs:{outlined:"",label:"Title"},model:{value:t.request_title,callback:function(e){t.request_title=e},expression:"request_title"}}),s("br"),s("q-input",{attrs:{outlined:"",label:"Message",type:"textarea",id:"",cols:"33",rows:"10"},model:{value:t.request_message,callback:function(e){t.request_message=e},expression:"request_message"}})],1),s("q-card-section",{staticStyle:{"background-color":"white"}},[s("q-btn",{staticClass:"q-ml-md btn-danger",on:{click:function(e){t.support=!1}}},[t._v("Close")]),s("q-btn",{staticClass:"q-ml-md btn-primary",attrs:{color:"primary"},on:{click:t.sendRequest}},[t._v("Send request")])],1)],1)],1)],1)])},Be=[],Me={name:"Account",components:{LoginRequired:me},methods:{logout:function(){return this.$q.localStorage.set("token",""),i["a"].create({message:"You have been logged out",position:"top-right"}),this.$router.push("Home")},reset_password:function(){},support_request_method:function(){this.support=!0},changePassword(){const t=s("bc3a"),e={new_password1:this.new_password1,new_password2:this.new_password2},r={method:"post",url:"http://127.0.0.1:8000/api/rest-auth/password/change/",headers:{Authorization:`Token ${this.$q.localStorage.getItem("token")}`},data:e};t(r).then((t=>{console.log(t),i["a"].create({message:"New password has been set!",position:"top-right",timeout:1e3})})).catch((function(t){t.response&&(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)),i["a"].create({message:t.response.data.new_password2,position:"top-right",timeout:1e3})}))},sendRequest(){const t=s("bc3a"),e={title:this.request_title,message:this.request_message},r={method:"post",url:"http://127.0.0.1:8000/api/support/",headers:{Authorization:`Token ${this.$q.localStorage.getItem("token")}`},data:e};t(r).then((t=>{console.log(t),i["a"].create({message:"Request has been succesfully sent!",position:"top-right",timeout:1e3})})).catch((t=>{console.log(t),i["a"].create({message:"Error while sending the request",position:"top-right",timeout:1e3})}))}},data:function(){return{reset:!1,support:!1,new_password1:"",new_password2:"",request_title:"",request_message:""}},created(){console.log(this.$q.localStorage.getItem("token"))},computed:{logged_in:function(){const t=this.$q.localStorage.getItem("token");return""===t||null===t||"null"===t?(console.log("returning false"),!1):(console.log("returning true"),!0)}}},Ae=Me,De=s("66e5"),Ne=s("4074"),Re=s("1c1c"),ze=Object(_["a"])(Ae,je,Be,!1,null,"121200de",null),He=ze.exports;Y()(ze,"components",{QCard:H["a"],QCardSection:Lt["a"],QSeparator:U["a"],QBtn:J["a"],QItem:De["a"],QItemSection:Ne["a"],QIcon:G["a"],QList:Re["a"],QDialog:Pt["a"],QInput:ct["a"]});var Fe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("q-card",{staticClass:"q-ma-md",staticStyle:{height:"100%"}},[s("q-img",{staticStyle:{"max-height":"250px"},attrs:{alt:"https://source.unsplash.com/featured?nature,water",src:t.get_vendor_background_image(t.vendor_object.vendor.theme.background_image)}},[s("div",{staticClass:"absolute-bottom"},[s("div",{staticClass:"row"},[s("q-img",{staticStyle:{width:"15%","max-width":"80px"},attrs:{alt:"https://source.unsplash.com/featured?nature,water",src:t.get_vendor_background_image(t.vendor_object.vendor.theme.logo)}}),s("div",{staticClass:"col-9 q-ml-md"},[s("div",{staticClass:"text-h6"},[t._v(t._s(t.vendor_object.vendor.name))]),s("div",{staticClass:"text-subtitle2"},[t._v(t._s(t.vendor_object.vendor.vendor_details.collection_address))]),s("div",{staticClass:"text-subtitle2"},[t._v("Call: "+t._s(t.vendor_object.vendor.vendor_details.mobile_number_1)+" /"+t._s(t.vendor_object.vendor.vendor_details.mobile_number_2))])])],1)])]),s("TickerPriceTable",{attrs:{title:"Our symbols",instruments_to_render:t.vendor_object.instruments}}),s("q-card",{attrs:{flat:"",bordered:""}},[s("div",{staticClass:"q-ma-md text-h6"},[t._v("Messages from "+t._s(t.vendor_object.vendor.name))]),s("div",{staticClass:"q-ma-md"},[s("span",{domProps:{innerHTML:t._s(t.vendor_object.vendor.vendor_details.messages)}})])]),s("q-card",[s("div",{staticClass:"q-ma-md text-h6"},[t._v("Company info from "+t._s(t.vendor_object.vendor.name))]),s("q-tabs",{staticClass:"text-grey",attrs:{"active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab",{attrs:{name:"About-us",label:"About us"}}),s("q-tab",{attrs:{name:"Contact-info",label:"Contact info"}}),s("q-tab",{attrs:{name:"Delivery-charges",label:"Delivery charges"}})],1),s("q-separator"),s("q-tab-panels",{attrs:{swipeable:"",animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab-panel",{attrs:{name:"About-us"}},[s("span",{domProps:{innerHTML:t._s(t.vendor_object.vendor.vendor_details.about_us)}})]),s("q-tab-panel",{attrs:{name:"Contact-info"}},[s("span",{domProps:{innerHTML:t._s(t.vendor_object.vendor.vendor_details.contact_details)}})]),s("q-tab-panel",{attrs:{name:"Delivery-charges"}},[s("span",{domProps:{innerHTML:t._s(t.vendor_object.vendor.vendor_details.delivery_charges)}})])],1)],1)],1)],1)},Ve=[],Je={name:"VendorDetails",props:["vendor_object","vendor"],components:{TickerPriceTable:ne},data(){return{tab:"About-us",headers:[{text:"Symbol",value:"name"},{text:"Bid",value:"bid",filterable:!1},{text:"Ask",value:"ask",filterable:!1},{text:"High",value:"high",filterable:!1},{text:"Low",value:"low",filterable:!1}],selected_item:null}},methods:{get_vendor_background_image(t){return null===t?"https://source.unsplash.com/featured?nature,water":T.concat(t)}}},Ue=Je,Ge=Object(_["a"])(Ue,Fe,Ve,!1,null,"44f2af8c",null),We=Ge.exports;Y()(Ge,"components",{QCard:H["a"],QImg:dt["a"],QTabs:Rt["a"],QTab:zt["a"],QSeparator:U["a"],QTabPanels:Ht["a"],QTabPanel:Ft["a"]});var Ye=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"window-height window-width row justify-center items-center"},[s("div",{staticClass:"column q-pa-lg"},[s("strong",{staticClass:"text-h6"},[t._v(t._s(t.message))]),s("q-card-section",{},[s("div",{staticClass:"row"},[s("q-img",{attrs:{src:t.imageSrc,transition:"scale-transition",width:"50px"}}),s("strong",{staticClass:"text-h6 q-ml-md q-my-md"},[t._v("Zlato")])],1)]),s("q-separator",{attrs:{color:"orange",size:"5px"}}),s("q-card-section",[s("q-form",{staticClass:"q-gutter-y-md"},[s("q-input",{attrs:{color:"primary",outlined:"",type:"email",label:"Username"},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"mdi-account"}})]},proxy:!0}]),model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("q-input",{attrs:{color:"primary",outlined:"",type:"password",label:"Password"},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"mdi-lock"}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),s("q-card-actions",{staticClass:"q-px-lg"},[s("q-btn",{staticClass:"full-width text-white",attrs:{unelevated:"",size:"lg",color:"primary",label:"Sign In"},on:{click:function(e){return t.login_action()}}})],1),s("q-card-section",{staticClass:"text-center q-pa-sm"},[s("p",{staticClass:"text-grey-6"},[t._v(" Forgot your password? ")]),s("p",[t._v("Not a registered user ? Register "),s("router-link",{attrs:{to:"/register"}},[t._v("here")])],1)])],1)])])},Ke=[],Xe={name:"Login",data(){return{email:"",password:"",imageSrc:"logo.png"}},methods:{login_action:function(){console.log(this.email+this.password),this.connect_jwt()},connect_websocket:function(){const t=this.$store;document.cookie="authorization="+this.$q.localStorage.getItem("token")+";";const e="ws://127.0.0.1:8000/ws/ticker/?"+this.$q.localStorage.getItem("token"),s=new WebSocket(e);s.onopen=function(){s.send(JSON.stringify({type:"ticker_request",message:"Please send all symbols"})),s.send(JSON.stringify({type:"vendor_request",message:"Please send all vendors"}))},s.onmessage=function(e){var s=JSON.parse(e.data);if(s.instruments){var r=JSON.parse(s.instruments);let e=JSON.parse(s.favourites);e=e.map((t=>t.instrument_id)),r=r.map((t=>(t.is_favourite=!1,t)));for(let t=0;t<r.length;t++)for(let s=0;s<e.length;s++)e[s]===r[t].instrument_id&&(console.log("setting instrument"),r[t].is_favourite=!0);console.log(e),console.log(r),t.dispatch("push_instruments",r)}if(s.gold_tick&&t.dispatch("update_prices",s),s.instrument_update){console.log("instrument_update received"),console.log(s);var a=JSON.parse(s.instrument_update);console.log(a),t.dispatch("update_instrument",a)}if(s.vendors){console.log(s.vendors);var o=s.vendors.map((t=>(t.theme=JSON.parse(t.theme)[0],t.vendor_details=JSON.parse(t.vendor_details)[0],t)));t.dispatch("push_vendors",o)}s.order_update&&console.log(s)},s.onclose=function(t){console.log(t),setTimeout((function(){this.connect_jwt()}),2e3)}},connect_jwt:function(){const t=this.$store,e=this.$router;console.log(t);var r=s("bc3a"),a={username:this.email,password:this.password},o={method:"post",url:T+"/api/rest-auth/login/",headers:{"Content-Type":"application/json"},data:a};const n=this.$q;r(o).then((function(s){console.log(n.localStorage.getItem("token")),t.dispatch("set_token",s.data.key),console.log("before checking"+n.localStorage.getItem("token")),n.localStorage.set("token",s.data.key),console.log("pushing to home"),e.push("Home")})).catch((function(t){console.log(t),i["a"].create({message:t.toString(),position:"top",timeout:5e3})}))}},props:["message"]},Ze=Xe,ts=(s("ecaf"),s("0378")),es=Object(_["a"])(Ze,Ye,Ke,!1,null,"7460e67c",null),ss=es.exports;Y()(es,"components",{QCardSection:Lt["a"],QImg:dt["a"],QSeparator:U["a"],QForm:ts["a"],QInput:ct["a"],QIcon:G["a"],QCardActions:F["a"],QBtn:J["a"],QCard:H["a"]});var rs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"window-height window-width row justify-center items-center"},[s("div",{staticClass:"column q-pa-lg"},[s("div",{staticClass:"row"},[s("q-card",{staticClass:"shadow-24",staticStyle:{width:"300px",height:"485px"},attrs:{square:""}},[s("q-card-section",{staticStyle:{"background-color":"lightgrey"}},[s("q-img",{attrs:{src:t.imageSrc,transition:"scale-transition",width:"40px"}}),s("div",{staticClass:"absolute-bottom-right q-pr-md",staticStyle:{transform:"translateY(50%)"}},[s("q-btn",{attrs:{fab:"",icon:"add",color:"primary"}})],1)],1),s("q-"),s("q-card-section",[s("q-form",{staticClass:"q-px-sm q-pt-xl"},[s("q-input",{attrs:{square:"",clearable:"",type:"text",label:"Username"},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"email"}})]},proxy:!0}]),model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("q-input",{attrs:{square:"",clearable:"",type:"email",label:"Email"},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"email"}})]},proxy:!0}]),model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("q-input",{attrs:{square:"",clearable:"",type:"password",label:"Password"},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"lock"}})]},proxy:!0}]),model:{value:t.password1,callback:function(e){t.password1=e},expression:"password1"}}),s("q-input",{attrs:{square:"",clearable:"",type:"password",label:"Re-type your password"},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"lock"}})]},proxy:!0}]),model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}})],1)],1),s("q-card-actions",{staticClass:"q-px-lg"},[s("q-btn",{staticClass:"full-width text-white",attrs:{unelevated:"",size:"lg",color:"primary",label:"Sign Up"},on:{click:function(e){return t.registerUser()}}})],1),s("q-card-section",{staticClass:"text-center q-pa-sm"},[s("p",{staticClass:"text-grey-6"},[t._v(" Forgot your password? ")])])],1)],1)])])])},as=[],os={data(){return{username:"",email:"",password1:"",password2:""}},methods:{registerUser(){const t=s("bc3a"),e=this.$router,r={username:this.username,email:this.email,password1:this.password1,password2:this.password2},a=this.$q,o={method:"post",url:"http://127.0.0.1:8000/api/rest-auth/registration",headers:{"Content-Type":"application/json"},data:r};t(o).then((t=>{a.localStorage.set("token",t.data.key),console.log("Pushed to home"),e.push("Home")})).catch((function(t){console.log(t),i["a"].create({message:"Incorrect format of registration details",position:"top-right",timeout:1e3})}))}}},ns=os,is=Object(_["a"])(ns,rs,as,!1,null,"32cf52ca",null),ls=is.exports;Y()(is,"components",{QCard:H["a"],QCardSection:Lt["a"],QImg:dt["a"],QBtn:J["a"],QForm:ts["a"],QInput:ct["a"],QIcon:G["a"],QCardActions:F["a"]});var cs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("router-link",{attrs:{to:"/login"}},[t._v("Login")]),s("router-link",{attrs:{to:"/register"}},[t._v("Register")])],1)},ds=[],us={name:"Marketing"},ms=us,ps=Object(_["a"])(ms,cs,ds,!1,null,"edffc2bc",null),_s=ps.exports,hs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"q-app"}},[s("q-layout",{attrs:{view:"lHh Lpr fFf"}},[s("q-header",{staticClass:"bg-white text-dark",attrs:{elevated:"",bordered:""}},[s("q-toolbar",{staticClass:"shadow-2"},[s("q-toolbar-title",{staticClass:"font-bold"},[s("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"menu"},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}}),s("q-img",{attrs:{src:t.imageSrc,transition:"scale-transition",width:"50px"}}),"Home"===t.currentRouteName?s("span",{staticClass:"font-extrabold q-ml-sm "},[t._v("Zlato")]):s("span",{staticClass:"font-extrabold q-ml-sm "},[t._v(" "+t._s(t.currentRouteName))])],1),s("div",[s("span",{staticClass:"color:grey mobile-hide"},[s("q-btn",{attrs:{flat:""}},[s("router-link",{staticClass:"text-primary",staticStyle:{"text-decoration":"None"},attrs:{to:"Home"}},[s("q-icon",{staticClass:"lt-md",attrs:{size:"md",name:"mdi-home"}})],1)],1),s("q-btn",{attrs:{flat:""}},[s("router-link",{staticClass:"text-primary",staticStyle:{"text-decoration":"None"},attrs:{to:"Orders"}},[s("q-icon",{staticClass:"lt-md",attrs:{size:"md",name:"mdi-cart"}})],1)],1),s("q-btn",{attrs:{flat:""}},[s("router-link",{staticClass:"text-primary",staticStyle:{"text-decoration":"None"},attrs:{to:"Favourites"}},[s("q-icon",{staticClass:"lt-md",attrs:{size:"md",name:"mdi-star"}})],1)],1),s("q-btn",{attrs:{flat:""}},[s("router-link",{staticClass:"text-primary",staticStyle:{"text-decoration":"None"},attrs:{to:"Account"}},[s("q-icon",{staticClass:"lt-md",attrs:{size:"md",name:"mdi-account"}})],1)],1)],1)])],1),s("q-toolbar",{staticClass:"text-dark bg-white",staticStyle:{"font-weight":"bold"},attrs:{inset:""}},[s("q-space"),s("span",{},[t._v("Gold :"+t._s(t.$store.state.gold_comex))]),s("q-space"),s("span",[t._v("Silver: "+t._s(t.$store.state.silver_ask))]),s("q-space"),s("span",[t._v("Dollar: "+t._s(t.$store.state.dollar))]),s("q-space")],1)],1),s("q-drawer",{attrs:{"show-if-above":"",bordered:"","content-class":"bg-grey-1"},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[s("q-img",{staticClass:"absolute-top",staticStyle:{height:"150px"},attrs:{src:"https://source.unsplash.com/featured?nature,water"}},[s("div",{staticClass:"absolute-bottom "},[s("div",{staticClass:"text-weight-bold"},[t._v("Zlato")]),s("div",[t._v("Mumbai")])])]),s("q-scroll-area",{staticStyle:{height:"calc(100% - 150px)","margin-top":"150px","border-right":"1px solid #ddd"}},[s("q-list",[t._l(t.essentialLinks,(function(e){return s("EssentialLink",t._b({key:e.title},"EssentialLink",e,!1))})),t._l(t.extraLinks,(function(e){return s("EssentialLink",t._b({key:e.title},"EssentialLink",e,!1))}))],2)],1)],1),s("q-page-container",[s("router-view")],1),t.$q.platform.is.mobile?s("q-footer",{staticClass:" bg-white text-white"},[s("q-tabs",{staticClass:"bg-white text-grey-9 shadow-2",attrs:{"indicator-color":"transparent","active-color":"primary",align:"justify"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.essentialLinks,(function(e){return s("q-tab",{key:e.title,attrs:{name:e.title,icon:e.icon,label:e.alias,"indicator-color":"transparent","active-color":"white"},on:{click:function(s){return t.$router.push(e.title)}}})})),1)],1):t._e()],1),s("BottomOrderDialog"),s("BestLimitBottomOrderDialog"),s("OrderDetailsBottom")],1)])},gs=[],vs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-dialog",{staticStyle:{width:"50%"},attrs:{position:"bottom"},model:{value:t.$store.state.bottom_sheet,callback:function(e){t.$set(t.$store.state,"bottom_sheet",e)},expression:"$store.state.bottom_sheet"}},[t.order_item?s("div",[s("q-card",{},[s("q-card-section",{staticClass:"bg-primary",staticStyle:{color:"white"}},[s("div",{staticClass:"q-pa-md"},[s("span",{staticClass:"text-h6"},[t._v(t._s(t.order_item.vendor))]),s("span",{staticClass:"q-ml-md font-bold"},[t._v(t._s(t.order_item.name))]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("span",{staticClass:" text-right q-ml-sm"},[t._v("B:"+t._s(t.order_item.bid))]),s("span",{staticClass:"text-right q-ml-sm"},[t._v("A:"+t._s(t.order_item.ask))])]),s("div",{staticClass:"col-6"},[s("q-btn",{staticClass:"bg-white text-primary text-right q-pl-sm q-pr-sm",attrs:{size:"sm",flat:"",dense:""},on:{click:function(e){return t.open_best_limit_sheet()}}},[t._v("Add multiple")])],1)])])]),s("q-tabs",{staticClass:"text-grey",attrs:{"active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab",{attrs:{name:"MARKET",label:"MARKET"}}),s("q-tab",{attrs:{name:"LIMIT",label:"LIMIT"}})],1),s("q-separator"),s("q-tab-panels",{attrs:{swipeable:"",animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab-panel",{attrs:{name:"MARKET"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{type:"number",standout:"text-white",label:"Quantity(gms)",rules:t.quantity_rules},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}})],1),s("div",{staticClass:"col"},[s("q-input",{staticClass:"q-ml-lg",attrs:{type:"number","stack-label":"",readonly:"",label:"Price"},model:{value:t.order_item.ask,callback:function(e){t.$set(t.order_item,"ask",e)},expression:"order_item.ask"}})],1)])]),s("q-tab-panel",{attrs:{name:"LIMIT"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{type:"number",standout:"text-white",label:"Quantity(gms)",rules:t.quantity_rules},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}})],1),s("div",{staticClass:"col"},[s("q-input",{staticClass:"q-ml-md",attrs:{type:"number",standout:"text-white","stack-label":"",label:t.order_item.ask.toString()},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1)])])],1),s("q-card-section",{staticStyle:{"background-color":"white"}},[s("q-btn",{staticClass:"bg-primary text-white",on:{click:function(e){return t.place_order()}}},[t._v("Buy")]),s("q-btn",{staticClass:"q-ml-md btn-danger",on:{click:function(e){return t.set_sheet_close()}}},[t._v("Close")])],1)],1)],1):t._e()])},fs=[];const bs=[{title:"Home",caption:"HomePage",icon:"mdi-home",link:"https://quasar.dev"},{title:"Orders",caption:"See your orders",icon:"mdi-bag-checked",link:"https://github.com/quasarframework"},{title:"Favourites",caption:"See your favourites and compare",icon:"mdi-heart",link:"https://chat.quasar.dev"},{title:"Account",caption:"Settings for your account",icon:"mdi-account",link:"https://forum.quasar.dev"}];var qs={name:"BottomOrderDialog",computed:{logged_in:function(){const t=this.$q.localStorage.getItem("token");return""!==t&&null!==t&&"null"!==t},get_set_sheet:function(){return this.$store.getters.get_sheet},order_item:function(){return this.$store.getters.get_order_item}},methods:{set_sheet_close:function(){this.$store.state.bottom_sheet=!1},open_best_limit_sheet:function(){this.$store.state.bottom_sheet=!1,this.$store.state.bottom_best_limit_sheet=!0},place_order:function(){if(this.logged_in){if(console.log("logged in hence placing order"),console.log("placing order for "+this.order_item.instrument_id+this.quantity+this.price+this.tab+"BUY"),this.$store.state.bottom_sheet=!1,"MARKET"===this.tab)var t={side:"BUY",instrument_id:this.order_item.instrument_id,quantity:this.quantity,price:this.order_item.ask,type:this.tab,status:"OPEN"};else t={side:"BUY",instrument_id:this.order_item.instrument_id,quantity:this.quantity,price:this.price,type:this.tab,status:"WAITING_FOR_LIMIT"};const e=this.$store;j(t).then((t=>{console.log(t);const s=this.$q.notify({spinner:!0,group:!1,message:"Please wait...",timeout:1e4,position:"top-right",color:"primary"});void 0!==t.order_id?(s({spinner:!1,html:!0,message:"<h6> Order has been placed </h6>",caption:"Please check orders for details",position:"top-right",color:"positive",timeout:2e3}),t.instrument=e.getters.get_instrument(t.instrument_id),e.state.order_details_selected=t,e.state.order_details_bottom_sheet=!0):s({spinner:!1,html:!0,message:"Order could not be placed due to :",caption:"<h6>"+t+"<h6>",position:"top-right",color:"negative",timeout:1e4})}))}else this.$router.push({name:"Login",params:{message:"Please login to place orders"}})}},data(){return{tab:"MARKET",quantity:100,price:"",imageSrc:"/logo.png",leftDrawerOpen:!1,essentialLinks:bs,quantity_rules:[t=>!!t||"* Required",t=>parseInt(t)%100===0||"Should be multiple of 100gms"]}}},ws=qs,ys=Object(_["a"])(ws,vs,fs,!1,null,"0ec6db78",null),ks=ys.exports;Y()(ys,"components",{QDialog:Pt["a"],QCard:H["a"],QCardSection:Lt["a"],QBtn:J["a"],QTabs:Rt["a"],QTab:zt["a"],QSeparator:U["a"],QTabPanels:Ht["a"],QTabPanel:Ft["a"],QInput:ct["a"]});var Cs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:t.title}},[s("q-item",{attrs:{clickable:"",tag:"a",target:"_blank"}},[t.icon?s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{staticClass:"text-primary",attrs:{name:t.icon}})],1):t._e(),s("q-item-section",{staticClass:"text-primary"},[t._v("\n      "+t._s(t.title)+"\n    ")])],1)],1)},xs=[],Ss={name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""}}},Qs=Ss,$s=Object(_["a"])(Qs,Cs,xs,!1,null,null,null),Is=$s.exports;Y()($s,"components",{QItem:De["a"],QItemSection:Ne["a"],QIcon:G["a"]});var Ts=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-dialog",{staticStyle:{width:"50%"},attrs:{position:"bottom"},model:{value:t.$store.state.bottom_best_limit_sheet,callback:function(e){t.$set(t.$store.state,"bottom_best_limit_sheet",e)},expression:"$store.state.bottom_best_limit_sheet"}},[s("q-card",{},[s("q-card-section",{staticClass:"bg-primary",staticStyle:{color:"white"}},[s("div",{staticClass:"q-pa-md"},[s("span",{staticClass:"text-h6"},[t._v("Best limit order")]),s("q-select",{attrs:{filled:"",multiple:"",options:t.order_items,"use-chips":"","stack-label":"",label:"Multiple selection"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)]),s("q-separator"),s("div",{staticClass:"q-ma-md row"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{type:"number",standout:"text-white",label:"Quantity(gms)",rules:t.quantity_rules},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}})],1),s("div",{staticClass:"col"},[s("q-input",{staticClass:"q-ml-md",attrs:{standout:"text-white",type:"number"},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1)]),s("q-card-section",{staticStyle:{"background-color":"white"}},[s("q-btn",{staticClass:"bg-primary text-white",on:{click:function(e){return t.place_order()}}},[t._v("Buy")]),s("q-btn",{staticClass:"q-ml-md btn-danger",on:{click:function(e){return t.set_sheet_close()}}},[t._v("Close")])],1)],1)],1)},Os=[];const Es=[{title:"Home",caption:"HomePage",icon:"mdi-home",link:"https://quasar.dev"},{title:"Orders",caption:"See your orders",icon:"mdi-bag-checked",link:"https://github.com/quasarframework"},{title:"Favourites",caption:"See your favourites and compare",icon:"mdi-heart",link:"https://chat.quasar.dev"},{title:"Account",caption:"Settings for your account",icon:"mdi-account",link:"https://forum.quasar.dev"}];var Ps={name:"BestLimitBottomOrderDialog",computed:{min_quantity:function(){var t=100;return this.selected.forEach((e=>{parseInt(e.value.quantity)>t&&(t=parseInt(e.value.quantity))})),console.log(t),t},logged_in:function(){const t=this.$q.localStorage.getItem("token");return""!==t&&null!==t&&"null"!==t},favourite_items:function(){return this.$store.state.instruments.filter((t=>!0===t.is_favourite))},get_set_sheet:function(){return this.$store.getters.get_best_limit_sheet},order_item:function(){return this.$store.getters.get_order_item},order_items:function(){return this.$store.state.instruments.filter((t=>!0===t.is_favourite)).map((t=>({label:t.vendor+":"+t.name,value:t})))}},methods:{set_sheet_close:function(){this.$store.state.bottom_best_limit_sheet=!1},place_order:function(){if(this.logged_in){console.log("logged in hence placing order"),console.log(this.selected);var t={side:"BUY",instrument_id:this.selected.map((t=>t.value.instrument_id)),quantity:this.quantity,price:this.price,type:"BEST_LIMIT",status:"WAITING_FOR_LIMIT"};j(t).then((t=>{console.log(t);const e=this.$q.notify({spinner:!0,group:!1,message:"Please wait...",timeout:1e4,position:"top-right",color:"primary"});void 0!==t.order_id?e({spinner:!1,html:!0,message:"<h6> Order has been placed </h6>",caption:"Please check orders for details",position:"top-right",color:"positive",timeout:2e3}):e({spinner:!1,html:!0,message:"Order could not be placed due to :",caption:"<h6>"+t+"<h6>",position:"top-right",color:"negative",timeout:1e4})}))}else this.$router.push({name:"Login",params:{message:"Please login to place orders"}})}},data(){return{tab:"MARKET",quantity:100,price:"",imageSrc:"/logo.png",leftDrawerOpen:!1,essentialLinks:Es,quantity_rules:[t=>!!t||"* Required",t=>parseInt(t)%100===0||"Should be multiple of 100gms",t=>parseInt(t)>=this.min_quantity||"Min Quantity for this order is"+this.min_quantity],options:[],selected:[]}},created(){console.log("created best limit order form bottom ")}},Ls=Ps,js=s("ddd8"),Bs=Object(_["a"])(Ls,Ts,Os,!1,null,"633f6a70",null),Ms=Bs.exports;Y()(Bs,"components",{QDialog:Pt["a"],QCard:H["a"],QCardSection:Lt["a"],QSelect:js["a"],QSeparator:U["a"],QInput:ct["a"],QBtn:J["a"]});var As=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-dialog",{attrs:{position:"bottom"},model:{value:t.$store.state.order_details_bottom_sheet,callback:function(e){t.$set(t.$store.state,"order_details_bottom_sheet",e)},expression:"$store.state.order_details_bottom_sheet"}},[s("q-card",{},[s("q-card-section",{staticClass:"bg-white",staticStyle:{color:"white"}},[s("div",{staticClass:"q-pa-sm"},[s("span",{staticClass:"text-h6 text-grey-10"},[t._v("Order details")]),s("q-chip",{staticClass:"q-ml-lg",attrs:{outline:"",color:"black",dense:""}},[t._v("ID : "+t._s(t.order.transaction_id))]),s("q-chip",{attrs:{outline:"",color:"primary",dense:""}},[t._v("Price : "+t._s(t.order.price))])],1)]),s("q-separator"),s("div",{staticClass:"row q-ma-sm"},[s("div",{staticClass:"col q-ml-sm"},[t._v(t._s(t.order.instrument.name))]),s("span",{staticClass:" q-ml-sm"},[s("q-chip",{attrs:{dense:"",outline:"",color:"orange"}},[t._v(t._s(t.order.side)+" ")]),t._v(t._s(t.order.quantity))],1)]),s("q-separator"),s("div",{staticClass:"row q-ma-sm"},[s("span",{staticClass:"q-ml-sm",staticStyle:{color:"grey"}},[s("q-icon",{attrs:{name:"mdi-clock"}}),t._v(t._s(t.get_formated_time))],1),"EXECUTED"===t.order.status?s("div",["BEST_LIMIT"===t.order.type?s("q-chip",{attrs:{outline:"",color:"orange",dense:""}},[t._v("BEST_LIMIT")]):t._e(),s("q-chip",{attrs:{outline:"",size:"md",color:"green",dense:""}},[t._v("Payment confirmed")]),s("q-chip",{attrs:{outline:"",color:"blue",dense:""}},[t._v("OTP:"+t._s(t.order.otp))])],1):t._e(),"OPEN"===t.order.status?s("div",["BEST_LIMIT"===t.order.type?s("q-chip",{attrs:{outline:"",color:"orange",dense:""}},[t._v("BEST_LIMIT")]):t._e(),s("q-chip",{attrs:{outline:"",color:"blue",dense:""}},[t._v("Waiting for payment")])],1):t._e(),"WAITING_FOR_LIMIT"===t.order.status?s("div",["BEST_LIMIT"===t.order.type?s("q-chip",{attrs:{outline:"",color:"orange",dense:""}},[t._v("BEST_LIMIT")]):t._e(),s("q-chip",{attrs:{outline:"",color:"blue",dense:""}},[t._v("Limit Order waiting")]),t.is_cancelled?s("q-chip",{attrs:{outline:"",color:"red",dense:""}},[t._v("Cancelled")]):s("q-btn",{attrs:{outline:"",color:"black",dense:""},on:{click:function(e){return t.cancel_limit_order()}}},[t._v("CANCEL")])],1):t._e(),"CLOSED"===t.order.status?s("div",[s("q-chip",{attrs:{outline:"",color:"green",dense:""}},[t._v("Closed")])],1):t._e()]),s("q-separator"),s("div",{staticClass:"q-pa-sm"},["OPEN"===this.order.status?s("div",{staticClass:"q-ma-sm"},[t._v("\n          Please make payment at\n        ")]):t._e(),"EXECUTED"===this.order.status?s("div",{staticClass:"q-ma-sm"},[t._v("\n          Please collect delivery using the otp from\n        ")]):t._e(),s("q-card",[s("q-card-section",{style:{backgroundColor:t.vendor.theme.css_header_background_color}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-3"},[s("q-img",{attrs:{width:"80px",src:t.base_url+t.vendor.theme.logo}})],1),s("div",{staticClass:"col-9"},[s("div",{staticClass:"q-ml-sm text-white",staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.vendor.name))]),s("q-separator",{attrs:{color:"white"}}),s("div",{staticClass:"q-ml-sm text-white"},[t._v(t._s(t.vendor.vendor_details.collection_address))]),s("div",{staticClass:"q-ml-sm text-white"},[t._v("Bank: "+t._s(t.vendor.vendor_details.bank_details))]),s("div",{staticClass:"q-ml-sm text-white"},[t._v("Call: "+t._s(t.vendor.vendor_details.mobile_number_1)+" /"+t._s(t.vendor.vendor_details.mobile_number_2)+" ")])],1)])])],1)],1),s("q-separator")],1)],1)},Ds=[],Ns={name:"OrderDetailsBottom",computed:{logged_in:function(){const t=this.$q.localStorage.getItem("token");return""!==t&&null!==t&&"null"!==t},get_formated_time(){const t=new Date(this.order.created_at);return t.toLocaleString("en-GB")},get_set_sheet:function(){return this.$store.state.order_details_bottom_sheet},order_item:function(){return this.$store.getters.get_order_item},order_items:function(){return this.$store.state.instruments.filter((t=>!0===t.is_favourite)).map((t=>({label:t.vendor+":"+t.name,value:t})))},order:function(){return this.$store.state.order_details_selected},vendor:function(){return this.$store.getters.get_vendor_from_id(this.$store.state.order_details_selected.instrument.vendor_id)}},methods:{set_sheet_close:function(){this.$store.state.order_details_bottom_sheet=!1}},data(){return{base_url:T}},created(){}},Rs=Ns,zs=Object(_["a"])(Rs,As,Ds,!1,null,"9a568d84",null),Hs=zs.exports;Y()(zs,"components",{QDialog:Pt["a"],QCard:H["a"],QCardSection:Lt["a"],QChip:V["a"],QSelect:js["a"],QSeparator:U["a"],QIcon:G["a"],QBtn:J["a"],QImg:dt["a"]});var Fs=s("8e27");const Vs=[{title:"Vendors",icon:"mdi-gold",mobile:!1}],Js=[{title:"Home",icon:"mdi-home",alias:"Home",mobile:!0},{title:"Favourites",alias:"Favs",icon:"mdi-star",mobile:!0},{title:"Orders",icon:"mdi-cart",alias:"Orders",mobile:!0},{title:"Account",icon:"mdi-account",alias:"Account",mobile:!0}];var Us={name:"Main",components:{OrderDetailsBottom:Hs,BestLimitBottomOrderDialog:Ms,EssentialLink:Is,BottomOrderDialog:ks},computed:{is_activated:function(){return!this.$store.getters.get_is_activated},logged_in:function(){const t=this.$q.localStorage.getItem("token");return""===t||null===t||"null"===t?(console.log("returning false"),!1):(console.log("returning true"),!0)},currentRouteName:function(){return console.log(this.$route.name),this.$route.name}},methods:{login_action:function(){console.log(this.email+this.password),this.connect_jwt()},connect_data:function(){const t=Object(Fs["io"])("http://209.59.158.15:3001/",{secure:!0,transports:["websocket"],rejectUnauthorized:!1,reconnect:!0});t.on("mcxratesupdate:App\\Events\\MCXRateUpdates",(function(t){t.updatedata,console.log(t)})),t.io.on("connection",(function(t){console.log("connected")}))},connect_websocket:function(){const t=this.connect_websocket,e=this.$store;document.cookie="authorization="+this.$q.localStorage.getItem("token")+";";const s="ws://"+O+"/ws/ticker/?"+this.$q.localStorage.getItem("token"),r=new WebSocket(s);r.onopen=function(){i["a"].create({message:"Connected to high speed market data ",position:"top-right",timeout:1e3}),r.send(JSON.stringify({type:"ticker_request",message:"Please send all symbols"})),r.send(JSON.stringify({type:"vendor_request",message:"Please send all vendors"}))},r.onmessage=function(t){var s=JSON.parse(t.data);if(s.instruments){var r=JSON.parse(s.instruments);if(s.favourites){let t=JSON.parse(s.favourites);t=t.map((t=>t.instrument_id)),r=r.map((t=>(t.is_favourite=!1,t)));for(let e=0;e<r.length;e++)for(let s=0;s<t.length;s++)t[s]===r[e].instrument_id&&(console.log("setting instrument"),r[e].is_favourite=!0);console.log(t),console.log(r)}e.dispatch("push_instruments",r)}if(s.gold_tick&&(e.dispatch("update_prices",s),console.log(s)),s.instrument_update){console.log("instrument_update received"),console.log(s);var a=JSON.parse(s.instrument_update);console.log(a),e.dispatch("update_instrument",a)}if(s.vendors){console.log(s.vendors);var o=s.vendors.map((t=>(t.theme=JSON.parse(t.theme)[0],t.vendor_details=JSON.parse(t.vendor_details)[0],t)));e.dispatch("push_vendors",o)}if(s.order_update){const t=JSON.parse(s.order_update);i["a"].create({message:"order update recieved "+t.status,position:"top-right"})}},r.onclose=function(e){console.log(e),setTimeout((function(){console.log("websocket disconnected reconnecting "),t()}),2e3)}},connect_jwt:function(){const t=this.$store,e=this.$router;var r=s("bc3a"),a={username:this.email,password:this.password},o={method:"post",url:"http://127.0.0.1:8000/api/rest-auth/login/",headers:{"Content-Type":"application/json"},data:a};const n=this.connect_websocket,i=this.$q;r(o).then((function(s){console.log(i.localStorage.getItem("token")),t.dispatch("set_token",s.data.key),console.log("before checking"+i.localStorage.getItem("token")),i.localStorage.set("token",s.data.key),console.log("pushing to home"),e.push("/"),n()})).catch((function(t){console.log(t)}))},get_orders(){return L().then((t=>{this.orders=t,console.log(t),console.log("Inside get_orders")})).then((()=>{this.orders=this.orders.map((t=>(t.instrument_id=this.$store.getters.get_instrument(t.instrument_id),console.log(t.instrument_id),t)))})).then((()=>{this.orders_to_rate=this.orders.filter((t=>"CLOSED"===t.status&&!1===t.is_rated)),console.log("Orders to be rated"),console.log(this.orders_to_rate)}))},get_user_details(){}},data(){return{email:"",password:",",essentialLinks:Js,extraLinks:Vs,imageSrc:"logo.png",leftDrawerOpen:!1,tab:"Home",orders_to_rate:[],orders:[]}},created(){this.$router.push("Home"),this.connect_websocket();const t=this.$store;this.logged_in?A().then((e=>{t.state.is_activated=e.is_activated,t.state.requested_registration=e.requested_registration,t.state.user_details=e})).catch((t=>{console.log(t),this.$store.state.token=""})):this.$q.is.mobile&&this.$router.push()}},Gs=Us,Ws=s("4d5a"),Ys=s("e359"),Ks=s("65c6"),Xs=s("6ac5"),Zs=s("2c91"),tr=s("9404"),er=s("cb32"),sr=s("4983"),rr=s("0170"),ar=s("7f41"),or=s("09e3"),nr=s("7ff0"),ir=Object(_["a"])(Gs,hs,gs,!1,null,null,null),lr=ir.exports;Y()(ir,"components",{QLayout:Ws["a"],QHeader:Ys["a"],QToolbar:Ks["a"],QToolbarTitle:Xs["a"],QBtn:J["a"],QImg:dt["a"],QIcon:G["a"],QSpace:Zs["a"],QDrawer:tr["a"],QAvatar:er["a"],QScrollArea:sr["a"],QList:Re["a"],QItemLabel:rr["a"],QTree:ar["a"],QPageContainer:or["a"],QFooter:nr["a"],QTabs:Rt["a"],QTab:zt["a"]});var cr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"q-pa-md"},[s("q-table",{attrs:{grid:"","card-class":"bg-primary text-white",title:"Margins from vendors",data:t.margins,columns:t.columns,"row-key":"name",filter:t.filter,"hide-header":""},scopedSlots:t._u([{key:"top-right",fn:function(){return[s("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"item",fn:function(e){return[s("div",{staticClass:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},[s("q-card",[s("q-card-section",{staticClass:"text-center"},[s("q-img",{attrs:{width:"40px",src:t.get_logo_url(e.row.vendor.theme.logo)}}),s("strong",{staticClass:"q-pa-sm"},[t._v(t._s(e.row.vendor.name))])],1),s("q-separator"),s("q-card-section",{},[s("div",{staticClass:"row"},[t._v("Margin: "+t._s(e.row.margin)+" gms")]),s("div",{staticClass:"row"},[t._v("Available: "+t._s(e.row.margin_available)+" gms")])])],1)],1)]}}])})],1)])},dr=[],ur={name:"UserMargins",methods:{get_logo_url(t){return T.concat(t)}},data:function(){return{margins:[],filter:"",columns:[{name:"vendor",required:!0,label:"Vendor",align:"left",field:t=>t.vendor.name,format:t=>`${t}`,sortable:!0},{name:"margin",align:"center",label:"Margin",field:"margin",sortable:!0},{name:"margin_available",label:"Margin Available",field:"margin_available",sortable:!0}]}},created(){console.log("requesting for margins"),M().then((t=>{t.map((t=>{t.vendor=this.$store.getters.get_vendor_from_id(t.vendor)})),this.margins=t}))}},mr=ur,pr=Object(_["a"])(mr,cr,dr,!1,null,"015e7b2c",null),_r=pr.exports;Y()(pr,"components",{QTable:lt["a"],QInput:ct["a"],QIcon:G["a"],QCard:H["a"],QCardSection:Lt["a"],QImg:dt["a"],QSeparator:U["a"]});var hr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"q-app"}},[s("div",{staticClass:"row justify-center items-center"},[s("div",{staticClass:"column q-pa-lg"},[s("q-card-section",{},[s("div",{staticClass:"column items-center"},[s("strong",{staticClass:"text-h6 "},[t._v("User Activation")])])]),s("q-separator",{attrs:{color:"orange",size:"15px"}}),s("q-card-section",[s("q-form",{staticClass:"q-px-sm q-pt-xl",attrs:{enctype:"multipart/form-data"},on:{submit:t.submitForm}},[s("q-input",{attrs:{name:"phone_number",square:"",clearable:"",outlined:"",label:"Your phone number ","lazy-rules":"",rules:[function(t){return t&&10===t.length||"Please provide a 10 digit phone number"}]},model:{value:t.phone_number,callback:function(e){t.phone_number=e},expression:"phone_number"}}),s("q-file",{attrs:{name:"profile_picture",square:"",clearable:"",label:"Profile picture",outlined:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"image"}})]},proxy:!0}]),model:{value:t.profile_picture,callback:function(e){t.profile_picture=e},expression:"profile_picture"}}),s("br"),s("q-file",{attrs:{name:"pan_card",square:"",clearable:"",label:"Pan Card",outlined:"","lazy-rules":"",rules:[function(t){return t||"Please attach your pancard"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"attach_file"}})]},proxy:!0}]),model:{value:t.pan_card,callback:function(e){t.pan_card=e},expression:"pan_card"}}),s("q-file",{attrs:{name:"business_card",square:"",clearable:"",label:"Business Card",outlined:"","lazy-rules":"",rules:[function(t){return t||"Please attach your pancard"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"attach_file"}})]},proxy:!0}]),model:{value:t.business_card,callback:function(e){t.business_card=e},expression:"business_card"}}),s("div",{staticClass:"row q-gutter-md"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{name:"reference_1_name",square:"",clearable:"",outlined:"",label:"Name for reference "},model:{value:t.reference_1_name,callback:function(e){t.reference_1_name=e},expression:"reference_1_name"}})],1),s("div",{staticClass:"col"},[s("q-input",{attrs:{name:"reference_1_mobile",square:"",clearable:"",outlined:"",label:"Phone number for reference ","lazy-rules":"",rules:[function(t){return t&&10===t.length||"Please provide a 10 digit phone number"}]},model:{value:t.reference_1_mobile,callback:function(e){t.reference_1_mobile=e},expression:"reference_1_mobile"}})],1)]),s("div",{staticClass:"row q-gutter-md"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{name:"reference_2_name",square:"",clearable:"",outlined:"",label:"Name for reference "},model:{value:t.reference_2_name,callback:function(e){t.reference_2_name=e},expression:"reference_2_name"}})],1),s("div",{staticClass:"col"},[s("q-input",{attrs:{name:"reference_2_mobile",square:"",clearable:"",outlined:"",label:"Phone number for reference "},model:{value:t.reference_2_mobile,callback:function(e){t.reference_2_mobile=e},expression:"reference_2_mobile"}})],1)]),s("br"),s("input",{staticClass:"full-width text",attrs:{type:"submit",unelevated:"",size:"lg",color:"primary",label:"Activate"}})],1)],1)],1)])])},gr=[],vr={name:"RegistrationForm",data(){return{phone_number:"",profile_picture:"",pan_card:"",business_card:"",reference_1_name:"",reference_1_mobile:"",reference_2_name:"",reference_2_mobile:""}},methods:{submitForm(){console.log("helloololololo");var t=new FormData;t.append("profile_picture",this.profile_picture),t.append("pan_card",this.pan_card),t.append("business_card",this.business_card),t.append("phone_number",this.phone_number),t.append("reference_1_name",this.reference_1_name),t.append("reference_1_mobile",this.reference_1_mobile),t.append("reference_2_name",this.reference_2_name),t.append("reference_2_mobile",this.reference_2_mobile),N(t).then((t=>{console.log(t),i["a"].create({message:"Your account has been activated!",position:"top-right",timeout:1e3})}))}}},fr=vr,br=s("7d53"),qr=Object(_["a"])(fr,hr,gr,!1,null,"db1681b8",null),wr=qr.exports;Y()(qr,"components",{QCardSection:Lt["a"],QImg:dt["a"],QSeparator:U["a"],QForm:ts["a"],QInput:ct["a"],QFile:br["a"],QIcon:G["a"],QCardActions:F["a"],QBtn:J["a"]});var yr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("TopVendors",{attrs:{vendors:t.vendors_computed}})},kr=[],Cr={name:"Vendors",components:{TopVendors:Ce},computed:{vendors_computed:function(){return this.$store.getters.get_all_vendors}}},xr=Cr,Sr=Object(_["a"])(xr,yr,kr,!1,null,"41bc89d4",null),Qr=Sr.exports;const $r=[{path:"/main",name:"Marketing",component:_s},{path:"/login",name:"Login",component:ss,props:!0},{path:"/register",name:"Register",component:ls},{path:"/",component:lr,name:"Main",children:[{path:"home",component:Le,name:"Home"},{path:"orders",component:Jt,name:"Orders"},{path:"favourites",component:ge,name:"Favourites"},{path:"account",component:He,name:"Account"},{path:"vendor",name:"Vendor",component:We,props:!0},{path:"margins",name:"Margins",component:_r},{path:"registration",name:"Registration",component:wr},{path:"vendors",name:"Vendors",component:Qr}]},{path:"*",component:()=>s.e(2).then(s.bind(null,"e51e"))}];var Ir=$r;r["a"].use(b["a"]);var Tr=function(){const t=new b["a"]({scrollBehavior:()=>({x:0,y:0}),routes:Ir,mode:"hash",base:""});return t},Or=async function(){const t="function"===typeof f?await f({Vue:r["a"]}):f,e="function"===typeof Tr?await Tr({Vue:r["a"],store:t}):Tr;t.$router=e;const s={router:e,store:t,render:t=>t(g),el:"#q-app"};return{app:s,store:t,router:e}},Er=s("bc3a"),Pr=s.n(Er);r["a"].prototype.$axios=Pr.a;const Lr="";async function jr(){const{app:t,store:e,router:s}=await Or();let a=!1;const o=t=>{a=!0;const e=Object(t)===t?s.resolve(t).route.fullPath:t;window.location.href=e},n=window.location.href.replace(window.location.origin,""),i=[void 0];for(let c=0;!1===a&&c<i.length;c++)if("function"===typeof i[c])try{await i[c]({app:t,router:s,store:e,Vue:r["a"],ssrContext:null,redirect:o,urlPath:n,publicPath:Lr})}catch(l){return l&&l.url?void(window.location.href=l.url):void console.error("[Quasar] boot error:",l)}!0!==a&&new r["a"](t)}jr()},"31cd":function(t,e,s){},4620:function(t,e,s){},"7b0f":function(t,e,s){"use strict";s("4620")},"7bcc":function(t,e,s){},"9e1c":function(t,e,s){},ecaf:function(t,e,s){"use strict";s("9e1c")},f345:function(t,e,s){}});