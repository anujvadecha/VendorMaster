(function(t){function e(e){for(var s,r,a=e[0],l=e[1],c=e[2],d=0,u=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&u.push(i[r][0]),i[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);m&&m(e);while(u.length)u.shift()();return n.push.apply(n,c||[]),o()}function o(){for(var t,e=0;e<n.length;e++){for(var o=n[e],s=!0,r=1;r<o.length;r++){var a=o[r];0!==i[a]&&(s=!1)}s&&(n.splice(e--,1),t=l(l.s=o[0]))}return t}var s={},r={1:0},i={1:0},n=[];function a(t){return l.p+"js/"+({}[t]||t)+"."+{2:"476de19c",3:"d7175a20",4:"e63771bf",5:"f9ab3586",6:"8ae18d2c",7:"78f37a6a",8:"6291fbf9",9:"80038409",10:"f182dcbc",11:"daf88ec9"}[t]+".js"}function l(e){if(s[e])return s[e].exports;var o=s[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,l),o.l=!0,o.exports}l.e=function(t){var e=[],o={2:1,3:1};r[t]?e.push(r[t]):0!==r[t]&&o[t]&&e.push(r[t]=new Promise((function(e,o){for(var s="css/"+({}[t]||t)+"."+{2:"c0aeb12d",3:"48107e48",4:"31d6cfe0",5:"31d6cfe0",6:"31d6cfe0",7:"31d6cfe0",8:"31d6cfe0",9:"31d6cfe0",10:"31d6cfe0",11:"31d6cfe0"}[t]+".css",i=l.p+s,n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var c=n[a],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===s||d===i))return e()}var u=document.getElementsByTagName("style");for(a=0;a<u.length;a++){c=u[a],d=c.getAttribute("data-href");if(d===s||d===i)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var s=e&&e.target&&e.target.src||i,n=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");n.code="CSS_CHUNK_LOAD_FAILED",n.request=s,delete r[t],m.parentNode.removeChild(m),o(n)},m.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){r[t]=0})));var s=i[t];if(0!==s)if(s)e.push(s[2]);else{var n=new Promise((function(e,o){s=i[t]=[e,o]}));e.push(s[2]=n);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=a(t);var u=new Error;c=function(e){d.onerror=d.onload=null,clearTimeout(m);var o=i[t];if(0!==o){if(o){var s=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+s+": "+r+")",u.name="ChunkLoadError",u.type=s,u.request=r,o[1](u)}i[t]=void 0}};var m=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(e)},l.m=t,l.c=s,l.d=function(t,e,o){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(o,s,function(e){return t[e]}.bind(null,s));return o},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var m=d;n.push([0,0]),o()})({0:function(t,e,o){t.exports=o("2f39")},"02e2":function(t,e,o){"use strict";o("279c")},"279c":function(t,e,o){},"2f39":function(t,e,o){"use strict";o.r(e);o("e6cf"),o("5319"),o("9f29"),o("e54f"),o("985d"),o("31cd");var s=o("2b0e"),r=o("1f91"),i=o("42d2"),n=o("b05d"),a=o("2a19"),l=o("18d6"),c=o("a639");s["a"].use(n["a"],{config:{notify:{}},lang:r["a"],iconSet:i["a"],plugins:{Notify:a["a"],LocalStorage:l["a"],SessionStorage:c["a"]}});var d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"q-app"}},[o("router-view")],1)},u=[],m=o("ab80");function p(t,e,o,s){var r="undefined"===typeof s?100:s,i=setTimeout((function(){"function"===typeof t?t().then((function(s){null!==s&&""!==s||r<0?e(s):p(t,e,o,r-1)})).catch((function(t){clearInterval(i),o(t)})):e("Unavailable")}),100)}function _(){m["FCMPlugin"].eventTarget.addEventListener("tokenRefresh",(function(t){console.log(t)}),!1)}function h(){m["FCMPlugin"].eventTarget.addEventListener("notification",(function(t){cordova.plugins.notification.local.schedule({title:"My first notification",text:t})}),!1),m["FCMPlugin"].getInitialPushPayload().then((t=>{cordova.plugins.notification.local.schedule({title:"My first notification",text:t})})).catch((t=>{cordova.plugins.notification.local.schedule({title:"My first notification",text:t})}))}function f(){console.log("Trying for fcm token"),p(m["FCMPlugin"].getToken,(function(t){console.log("token is "+t.toString()),cordova.plugins.notification.local.schedule({title:"My token is",text:t})}),(function(t){cordova.plugins.notification.local.schedule({title:"Error creating token",text:t})}))}function v(){"ios"===cordova.platformId&&m["FCMPlugin"].getAPNSToken((function(t){console.log(t)}),(function(t){console.log(t)}))}function g(t){m["FCMPlugin"].requestPushPermission().then((function(e){e&&t()})).catch((t=>{console.log(t)}))}function b(){g((function(){m["FCMPlugin"].createNotificationChannel({id:"sound_alert6",name:"Sound Alert6",importance:"high",sound:"elet_mp3"}),f(),v(),_(),h()}))}document.addEventListener("deviceready",(()=>{try{b().then(cordova.plugins.notification.local.schedule({title:"Welcome to zlato",text:"Your experience is high priority , We shall connect you to high speed data. "}))}catch(t){}cordova.plugins.notification.local.schedule({title:"Welcome to bullion exchange",text:"Your experience is high priority , We shall connect you to high speed data. "})}),!1);var y={name:"App",created(){}},q=y,w=o("2877"),k=Object(w["a"])(q,d,u,!1,null,null,null),C=k.exports,x=o("2f62");s["a"].use(x["a"]);var S=new x["a"].Store({state:{instruments:[],vendors:[],bottom_sheet:!1,bottom_best_limit_sheet:!1,order_details_bottom_sheet:!1,order_details_selected:void 0,snackbar_message:"",snackbar:!1,token:"",order_item:null,user_details:null,gold_ask:0,silver_ask:0,dollar:0,gold_comex:0,selected_filters:{delivery_to:""}},mutations:{push_instruments(t,e){t.instruments=e},update_prices(t,e){t.gold_comex=e.gold_comex.ask,t.gold_ask=e.gold_tick.ask,t.silver_ask=e.silver_tick.ask,t.dollar=e.dollar.ask,t.instruments=t.instruments.map((function(t){return t.bid=e.gold_tick.bid+t.buy_premium,t.ask=e.gold_tick.ask+t.sell_premium,t.high=Math.max(t.bid,t.high,t.ask),t.low=Math.min(t.bid,t.low,t.ask),t}))},set_token(t,e){t.token=e},set_sheet(t,e){t.bottom_sheet=e},update_instrument(t,e){for(var o=0;o<t.instruments.length;o++)t.instruments[o].instrument_id===e.instrument_id&&(t.instruments[o]=e,console.log("updating instrument"))},show_snackbar(t,e){t.snackbar=!0,t.snackbar_message=e},push_vendors(t,e){t.vendors=e},set_selected(t,e){t.order_item=e},set_best_limit_sheet(t,e){t.bottom_best_limit_sheet=e},set_order_details(t,e){t.order_details_selected=e}},actions:{push_instruments({commit:t},e){t("push_instruments",e)},update_prices({commit:t},e){t("update_prices",e)},update_instrument({commit:t},e){t("update_instrument",e)},push_vendors({commit:t},e){t("push_vendors",e)},set_sheet({commit:t},e){t("set_sheet",e)},set_best_limit_sheet({commit:t},e){t("set_best_limit_sheet",e)},set_order_item({commit:t},e){t("set_selected",e)},show_snackbar({commit:t},e){t("show_snackbar",e)},set_token({commit:t},e){t("set_token",e)},set_order_details({commit:t},e){t("set_order_details",e)}},modules:{},getters:{get_instruments:t=>t.instruments,get_filtered_instruments:t=>{console.log(t.selected_filters.delivery_to);var e={};return e=t.selected_filters.delivery_to.length>0?t.instruments.filter((e=>new Date(e.delivery_to)>=new Date(t.selected_filters.delivery_to))):t.instruments,console.log(e),e},get_instrument:t=>e=>t.instruments.find((t=>t.instrument_id===e)),get_all_vendors:t=>t.vendors,get_vendor_instruments:t=>e=>{var o={};return o.instruments=t.instruments.filter((t=>t.vendor_id===e)),console.log(e),console.log(t.vendors),o.vendor=t.vendors.find((t=>t.vendor_id===e)),o},get_favourite_instruments:t=>{console.log(t)},get_order_item:t=>t.order_item,get_sheet:t=>t.bottom_sheet,get_vendor_from_id:t=>e=>{const o=t.vendors.find((t=>t.vendor_id===e));return o},get_best_limit_sheet:t=>t.bottom_best_limit_sheet}}),$=o("8c4f"),T=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{},[t.logged_in?o("div",[t.$store.state.is_activated?t._e():o("q-card",{attrs:{square:""}},[o("div",{staticClass:"q-pa-sm bg-primary"},[o("div",{staticClass:"text-white",staticStyle:{"font-weight":"bold"}},[t.$store.state.requested_registration?o("div",[t._v("We will register this account as soon as possible")]):o("div",[o("q-btn",{staticClass:"text-black bg-white",on:{click:function(e){return t.$router.push("Registration")}}},[t._v(" Activate ")]),t._v(" Â  your account to place orders")],1)])])])],1):t._e()]),o("div",{staticClass:"row"},[o("q-space")],1),o("TickerPriceTable",{attrs:{render_best:!0,title:"Bullion prices",instruments_to_render:t.instruments_to_render}}),o("TopVendors",{staticClass:"mobile-hide",attrs:{vendors:t.vendors_computed}}),o("div",{staticClass:"row"},[o("MobileMarketing")],1)],1)},O=[],I=o("6428"),Q=o("4bff"),P=o("c993"),E=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("q-card",{staticClass:"q-ma-sm col-6",attrs:{bordered:"",flat:""}},[t.$q.platform.is.mobile?t._e():o("div",{staticClass:"bg-light-blue-2"},[o("div",{staticClass:"bg-white row  text-white"},[o("div",{},[o("span",{staticClass:"q-ma-sm font-bold text-primary row text-h6"},[t._v("\n        Experience zlato on the go\n      ")]),o("span",{staticClass:"q-ma-sm font-bold text-primary row "},[t._v("\n        Convenience is garunteed with our robust order placement engines\n        and high priority on experience\n      ")]),o("q-btn",{staticClass:"q-pl-sm q-pr-sm q-ma-sm bg-primary",attrs:{dense:"",flat:"",icon:"mdi-apple"}},[t._v("IOS")]),o("q-btn",{staticClass:"q-pl-sm q-pr-sm q-ma-sm bg-primary",attrs:{dense:"",flat:"",icon:"mdi-android"}},[t._v("Android")])],1)])])])],1)},D=[],M={name:"MobileMarketing"},L=M,A=o("f09f"),B=o("068f"),F=o("9c40"),N=o("eebe"),j=o.n(N),z=Object(w["a"])(L,E,D,!1,null,"95d8b012",null),R=z.exports;j()(z,"components",{QCard:A["a"],QImg:B["a"],QBtn:F["a"]});var H={name:"Home",components:{MobileMarketing:R,TickerPriceTable:Q["a"],TopVendors:I["a"]},data(){return{slide:"gold 999",tab:"All",filter:!1,headers:[{name:"Vendor",align:"start",field:"vendor",label:"Vendor"},{name:"Symbol",align:"start",field:"name",label:"Symbol"},{name:"Bid",align:"start",field:"bid",filterable:!0,label:"Bid"},{name:"Ask",align:"start",field:"ask",filterable:!0,label:"Ask"},{name:"High",align:"start",field:"high",filterable:!0,label:"High"},{name:"Low",align:"start",field:"low",filterable:!0,label:"Low"},{name:"favourite",align:"start",field:"is_favourite",label:""}],instruments:[]}},computed:{instruments_to_render:function(){return this.$store.getters.get_filtered_instruments},bottom_sheet:function(){return this.$store.getters.get_sheet},vendors_computed:function(){return this.$store.getters.get_all_vendors},logged_in:function(){const t=this.$q.localStorage.getItem("token");return""!==t&&null!==t&&"null"!==t}},methods:{setFilters:function(){},toggleFavourite:function(t){t.is_favourite=!t.is_favourite,!1===t.is_favourite?Object(P["k"])(t.instrument_id).then((e=>{this.$q.notify({message:"Removed "+t.vendor+" "+t.name+" from favourites",timeout:2e3,position:"top-right",color:"primary"})})):Object(P["b"])(t).then((e=>{this.$q.notify({message:"Added "+t.vendor+" "+t.name+" from favourites",timeout:2e3,position:"top-right",color:"primary"})}))},open_order_sheet:function(t){console.log("open order sheet called"),this.$store.dispatch("set_order_item",t),this.$store.dispatch("set_sheet",!0)}}},V=H,G=(o("6bb2"),o("2c91")),J=Object(w["a"])(V,T,O,!1,null,"23c4fb7c",null),U=J.exports;j()(J,"components",{QCard:A["a"],QBtn:F["a"],QSpace:G["a"]});var W=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{attrs:{id:"q-app"}},[o("q-dialog",{model:{value:t.filterDialog,callback:function(e){t.filterDialog=e},expression:"filterDialog"}},[o("q-card",[o("q-card-section",{staticClass:"row items-center q-pb-none"},[o("div",{staticClass:"text-h6"},[t._v("Filters")]),o("q-space"),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),o("q-card-section",[o("div",{staticClass:"text-h6"},[t._v("Delivery Till")]),o("div",{staticClass:"q-pa-md"},[o("div",{staticClass:"q-pb-sm"}),o("q-date",{model:{value:t.custom_delivery_date,callback:function(e){t.custom_delivery_date=e},expression:"custom_delivery_date"}})],1)]),o("q-card-section",[o("q-btn",{attrs:{label:"Apply"},on:{click:function(e){return t.applyFilters()}}})],1)],1)],1),o("q-layout",{attrs:{view:"lHh Lpr fFf"}},[o("q-header",{staticClass:"bg-white text-dark",attrs:{elevated:"",bordered:""}},[o("q-toolbar",{staticClass:"shadow-2"},[o("q-toolbar-title",{staticClass:"font-bold"},[o("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"menu"},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}}),o("q-img",{attrs:{src:t.imageSrc,transition:"scale-transition",width:"50px"}}),"Home"===t.currentRouteName?o("span",{staticClass:"font-extrabold q-ml-sm "},[t._v("DeltaBX")]):o("span",{staticClass:"font-extrabold q-ml-sm "},[t._v(" "+t._s(t.currentRouteName))])],1),o("div",[o("span",{staticClass:"color:grey mobile-hide"},[o("q-btn",{attrs:{flat:""}},[o("router-link",{staticClass:"text-primary",staticStyle:{"text-decoration":"None"},attrs:{to:"Home"}},[o("q-icon",{staticClass:"lt-md",attrs:{size:"md",name:"mdi-home"}})],1)],1),o("q-btn",{attrs:{flat:""}},[o("router-link",{staticClass:"text-primary",staticStyle:{"text-decoration":"None"},attrs:{to:"Orders"}},[o("q-icon",{staticClass:"lt-md",attrs:{size:"md",name:"mdi-cart"}})],1)],1),o("q-btn",{attrs:{flat:""}},[o("router-link",{staticClass:"text-primary",staticStyle:{"text-decoration":"None"},attrs:{to:"Favourites"}},[o("q-icon",{staticClass:"lt-md",attrs:{size:"md",name:"mdi-star"}})],1)],1),o("q-btn",{attrs:{flat:""}},[o("router-link",{staticClass:"text-primary",staticStyle:{"text-decoration":"None"},attrs:{to:"Account"}},[o("q-icon",{staticClass:"lt-md",attrs:{size:"md",name:"mdi-account"}})],1)],1)],1)])],1),o("q-toolbar",{staticClass:"text-dark bg-white",staticStyle:{"font-weight":"bold"},attrs:{inset:""}},[o("q-space"),o("span",{},[t._v("Gold :"+t._s(t.$store.state.gold_comex))]),o("q-space"),o("span",[t._v("Silver: "+t._s(t.$store.state.silver_ask))]),o("q-space"),o("span",[t._v("Dollar: "+t._s(t.$store.state.dollar))]),o("q-space")],1)],1),o("q-drawer",{attrs:{"show-if-above":"",bordered:"","content-class":"bg-grey-1"},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[o("q-img",{staticClass:"absolute-top",staticStyle:{height:"150px"},attrs:{src:"https://source.unsplash.com/featured?nature,water"}},[o("div",{staticClass:"absolute-bottom "},[o("div",{staticClass:"text-weight-bold"},[t._v("Zlato")]),o("div",[t._v("Mumbai")])])]),o("q-scroll-area",{staticStyle:{height:"calc(100% - 150px)","margin-top":"150px","border-right":"1px solid #ddd"}},[o("q-list",[t._l(t.essentialLinks,(function(e){return o("EssentialLink",t._b({key:e.title},"EssentialLink",e,!1))})),t._l(t.extraLinks,(function(e){return o("EssentialLink",t._b({key:e.title},"EssentialLink",e,!1))}))],2)],1)],1),o("q-drawer",{attrs:{side:"right","show-if-above":"",bordered:"","content-class":"bg-grey-1"},model:{value:t.$store.state.rightDrawerOpen,callback:function(e){t.$set(t.$store.state,"rightDrawerOpen",e)},expression:"$store.state.rightDrawerOpen"}},[o("q-scroll-area",{staticStyle:{height:"calc(100% - 0px)","margin-top":"0px","border-right":"1px solid #ddd"}},[o("q-list",[o("q-tree",{attrs:{"default-expand-all":"",nodes:t.filters,"selected-color":"primary",selected:t.active_label,"node-key":"label","no-connectors":""},on:{"update:selected":function(e){t.active_label=e}},scopedSlots:t._u([{key:"default-header",fn:function(e){return[o("div",{staticClass:"row items-center"},[o("div",{staticClass:"text-weight-bold text-primary"},[t._v(t._s(e.node.label))])])]}}])})],1)],1)],1),o("q-page-container",[o("router-view")],1),t.$q.platform.is.mobile?o("q-footer",{staticClass:" bg-white text-white"},[o("q-tabs",{staticClass:"bg-white text-grey-9 shadow-2",attrs:{"indicator-color":"transparent","active-color":"primary",align:"justify"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.essentialLinks,(function(e){return o("q-tab",{key:e.title,attrs:{name:e.title,icon:e.icon,label:e.alias,"indicator-color":"transparent","active-color":"white"},on:{click:function(o){return t.$router.push(e.title)}}})})),1)],1):t._e()],1),o("BottomOrderDialog"),o("BestLimitBottomOrderDialog"),o("OrderDetailsBottom")],1)])},Y=[],K=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-dialog",{staticStyle:{width:"50%"},attrs:{position:"bottom"},model:{value:t.$store.state.bottom_sheet,callback:function(e){t.$set(t.$store.state,"bottom_sheet",e)},expression:"$store.state.bottom_sheet"}},[t.order_item?o("div",[o("q-card",{},[o("q-card-section",{staticClass:"bg-primary",staticStyle:{color:"white"}},[o("div",{staticClass:"q-pa-md"},[o("span",{staticClass:"text-h6"},[t._v(t._s(t.order_item.vendor))]),o("span",{staticClass:"q-ml-md font-bold"},[t._v(t._s(t.order_item.name))]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-6"},[o("span",{staticClass:" text-right q-ml-sm"},[t._v("B:"+t._s(t.order_item.bid))]),o("span",{staticClass:"text-right q-ml-sm"},[t._v("A:"+t._s(t.order_item.ask))])]),o("div",{staticClass:"col-6"},[o("q-btn",{staticClass:"bg-white text-primary text-right q-pl-sm q-pr-sm",attrs:{size:"sm",flat:"",dense:""},on:{click:function(e){return t.open_best_limit_sheet()}}},[t._v("Add multiple")])],1)])])]),o("q-tabs",{staticClass:"text-grey",attrs:{"active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[o("q-tab",{attrs:{name:"MARKET",label:"MARKET"}}),o("q-tab",{attrs:{name:"LIMIT",label:"LIMIT"}})],1),o("q-separator"),o("q-tab-panels",{attrs:{swipeable:"",animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[o("q-tab-panel",{attrs:{name:"MARKET"}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("q-input",{attrs:{type:"number",standout:"text-white",label:"Quantity(gms)",rules:t.quantity_rules},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}})],1),o("div",{staticClass:"col"},[o("q-input",{staticClass:"q-ml-lg",attrs:{type:"number","stack-label":"",readonly:"",label:"Price"},model:{value:t.order_item.ask,callback:function(e){t.$set(t.order_item,"ask",e)},expression:"order_item.ask"}})],1)])]),o("q-tab-panel",{attrs:{name:"LIMIT"}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("q-input",{attrs:{type:"number",standout:"text-white",label:"Quantity(gms)",rules:t.quantity_rules},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}})],1),o("div",{staticClass:"col"},[o("q-input",{staticClass:"q-ml-md",attrs:{type:"number",standout:"text-white","stack-label":"",label:t.order_item.ask.toString()},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1)])])],1),o("q-card-section",{staticStyle:{"background-color":"white"}},[o("q-btn",{staticClass:"bg-primary text-white",on:{click:function(e){return t.place_order()}}},[t._v("Buy")]),o("q-btn",{staticClass:"q-ml-md btn-danger",on:{click:function(e){return t.set_sheet_close()}}},[t._v("Close")])],1)],1)],1):t._e()])},X=[];const Z=[{title:"Home",caption:"HomePage",icon:"mdi-home",link:"https://quasar.dev"},{title:"Orders",caption:"See your orders",icon:"mdi-bag-checked",link:"https://github.com/quasarframework"},{title:"Favourites",caption:"See your favourites and compare",icon:"mdi-heart",link:"https://chat.quasar.dev"},{title:"Account",caption:"Settings for your account",icon:"mdi-account",link:"https://forum.quasar.dev"}];var tt={name:"BottomOrderDialog",computed:{logged_in:function(){const t=this.$q.localStorage.getItem("token");return""!==t&&null!==t&&"null"!==t},get_set_sheet:function(){return this.$store.getters.get_sheet},order_item:function(){return this.$store.getters.get_order_item}},methods:{set_sheet_close:function(){this.$store.state.bottom_sheet=!1},open_best_limit_sheet:function(){this.$store.state.bottom_sheet=!1,this.$store.state.bottom_best_limit_sheet=!0},place_order:function(){if(this.logged_in){if(console.log("logged in hence placing order"),console.log("placing order for "+this.order_item.instrument_id+this.quantity+this.price+this.tab+"BUY"),this.$store.state.bottom_sheet=!1,"MARKET"===this.tab)var t={side:"BUY",instrument_id:this.order_item.instrument_id,quantity:this.quantity,price:this.order_item.ask,type:this.tab,status:"OPEN"};else t={side:"BUY",instrument_id:this.order_item.instrument_id,quantity:this.quantity,price:this.price,type:this.tab,status:"WAITING_FOR_LIMIT"};const e=this.$store;Object(P["i"])(t).then((t=>{console.log(t);const o=this.$q.notify({spinner:!0,group:!1,message:"Please wait...",timeout:1e4,position:"top-right",color:"primary"});void 0!==t.order_id?(o({spinner:!1,html:!0,message:"<h6> Order has been placed </h6>",caption:"Please check orders for details",position:"top-right",color:"positive",timeout:2e3}),t.instrument=e.getters.get_instrument(t.instrument_id),e.state.order_details_selected=t,e.state.order_details_bottom_sheet=!0):o({spinner:!1,html:!0,message:"Order could not be placed due to :",caption:"<h6>"+t+"<h6>",position:"top-right",color:"negative",timeout:1e4})}))}else this.$router.push({name:"Login",params:{message:"Please login to place orders"}})}},data(){return{tab:"MARKET",quantity:100,price:"",imageSrc:"/logo.png",leftDrawerOpen:!1,essentialLinks:Z,quantity_rules:[t=>!!t||"* Required",t=>parseInt(t)%100===0||"Should be multiple of 100gms"]}}},et=tt,ot=o("24e8"),st=o("a370"),rt=o("429b"),it=o("7460"),nt=o("eb85"),at=o("adad"),lt=o("823b"),ct=o("27f9"),dt=Object(w["a"])(et,K,X,!1,null,"0ec6db78",null),ut=dt.exports;j()(dt,"components",{QDialog:ot["a"],QCard:A["a"],QCardSection:st["a"],QBtn:F["a"],QTabs:rt["a"],QTab:it["a"],QSeparator:nt["a"],QTabPanels:at["a"],QTabPanel:lt["a"],QInput:ct["a"]});var mt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:t.title}},[o("q-item",{attrs:{clickable:"",tag:"a",target:"_blank"}},[t.icon?o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{staticClass:"text-primary",attrs:{name:t.icon}})],1):t._e(),o("q-item-section",{staticClass:"text-primary"},[t._v("\n      "+t._s(t.title)+"\n    ")])],1)],1)},pt=[],_t={name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""}}},ht=_t,ft=o("66e5"),vt=o("4074"),gt=o("0016"),bt=Object(w["a"])(ht,mt,pt,!1,null,null,null),yt=bt.exports;j()(bt,"components",{QItem:ft["a"],QItemSection:vt["a"],QIcon:gt["a"]});var qt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-dialog",{staticStyle:{width:"50%"},attrs:{position:"bottom"},model:{value:t.$store.state.bottom_best_limit_sheet,callback:function(e){t.$set(t.$store.state,"bottom_best_limit_sheet",e)},expression:"$store.state.bottom_best_limit_sheet"}},[o("q-card",{},[o("q-card-section",{staticClass:"bg-primary",staticStyle:{color:"white"}},[o("div",{staticClass:"q-pa-md"},[o("span",{staticClass:"text-h6"},[t._v("Best limit order")]),o("q-select",{attrs:{filled:"",multiple:"",options:t.order_items,"use-chips":"","stack-label":"",label:"Multiple selection"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)]),o("q-separator"),o("div",{staticClass:"q-ma-md row"},[o("div",{staticClass:"col"},[o("q-input",{attrs:{type:"number",standout:"text-white",label:"Quantity(gms)",rules:t.quantity_rules},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}})],1),o("div",{staticClass:"col"},[o("q-input",{staticClass:"q-ml-md",attrs:{standout:"text-white",type:"number"},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1)]),o("q-card-section",{staticStyle:{"background-color":"white"}},[o("q-btn",{staticClass:"bg-primary text-white",on:{click:function(e){return t.place_order()}}},[t._v("Buy")]),o("q-btn",{staticClass:"q-ml-md btn-danger",on:{click:function(e){return t.set_sheet_close()}}},[t._v("Close")])],1)],1)],1)},wt=[];const kt=[{title:"Home",caption:"HomePage",icon:"mdi-home",link:"https://quasar.dev"},{title:"Orders",caption:"See your orders",icon:"mdi-bag-checked",link:"https://github.com/quasarframework"},{title:"Favourites",caption:"See your favourites and compare",icon:"mdi-heart",link:"https://chat.quasar.dev"},{title:"Account",caption:"Settings for your account",icon:"mdi-account",link:"https://forum.quasar.dev"}];var Ct={name:"BestLimitBottomOrderDialog",computed:{min_quantity:function(){var t=100;return this.selected.forEach((e=>{parseInt(e.value.quantity)>t&&(t=parseInt(e.value.quantity))})),console.log(t),t},logged_in:function(){const t=this.$q.localStorage.getItem("token");return""!==t&&null!==t&&"null"!==t},favourite_items:function(){return this.$store.state.instruments.filter((t=>!0===t.is_favourite))},get_set_sheet:function(){return this.$store.getters.get_best_limit_sheet},order_item:function(){return this.$store.getters.get_order_item},order_items:function(){return this.$store.state.instruments.filter((t=>!0===t.is_favourite)).map((t=>({label:t.vendor+":"+t.name,value:t})))}},methods:{set_sheet_close:function(){this.$store.state.bottom_best_limit_sheet=!1},place_order:function(){if(this.logged_in){console.log("logged in hence placing order"),console.log(this.selected);var t={side:"BUY",instrument_id:this.selected.map((t=>t.value.instrument_id)),quantity:this.quantity,price:this.price,type:"BEST_LIMIT",status:"WAITING_FOR_LIMIT"};Object(P["i"])(t).then((t=>{console.log(t);const e=this.$q.notify({spinner:!0,group:!1,message:"Please wait...",timeout:1e4,position:"top-right",color:"primary"});void 0!==t.order_id?e({spinner:!1,html:!0,message:"<h6> Order has been placed </h6>",caption:"Please check orders for details",position:"top-right",color:"positive",timeout:2e3}):e({spinner:!1,html:!0,message:"Order could not be placed due to :",caption:"<h6>"+t+"<h6>",position:"top-right",color:"negative",timeout:1e4})}))}else this.$router.push({name:"Login",params:{message:"Please login to place orders"}})}},data(){return{tab:"MARKET",quantity:100,price:"",imageSrc:"/logo.png",leftDrawerOpen:!1,essentialLinks:kt,quantity_rules:[t=>!!t||"* Required",t=>parseInt(t)%100===0||"Should be multiple of 100gms",t=>parseInt(t)>=this.min_quantity||"Min Quantity for this order is"+this.min_quantity],options:[],selected:[]}},created(){console.log("created best limit order form bottom ")}},xt=Ct,St=o("ddd8"),$t=Object(w["a"])(xt,qt,wt,!1,null,"633f6a70",null),Tt=$t.exports;j()($t,"components",{QDialog:ot["a"],QCard:A["a"],QCardSection:st["a"],QSelect:St["a"],QSeparator:nt["a"],QInput:ct["a"],QBtn:F["a"]});var Ot=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-dialog",{attrs:{position:"bottom"},model:{value:t.$store.state.order_details_bottom_sheet,callback:function(e){t.$set(t.$store.state,"order_details_bottom_sheet",e)},expression:"$store.state.order_details_bottom_sheet"}},[o("q-card",{},[o("q-card-section",{staticClass:"bg-white",staticStyle:{color:"white"}},[o("div",{staticClass:"q-pa-sm"},[o("span",{staticClass:"text-h6 text-grey-10"},[t._v("Order details")]),o("q-chip",{staticClass:"q-ml-lg",attrs:{outline:"",color:"black",dense:""}},[t._v("ID : "+t._s(t.order.transaction_id))]),o("q-chip",{attrs:{outline:"",color:"primary",dense:""}},[t._v(" Price : "+t._s(t.order.price))])],1)]),o("q-separator"),o("div",{staticClass:"row q-ma-sm"},[o("div",{staticClass:"col q-ml-sm"},[t._v(t._s(t.order.instrument.name))]),o("div",{staticClass:" q-ml-sm"},[o("q-chip",{attrs:{dense:"",outline:"",color:"orange"}},[t._v(t._s(t.order.side)+" ")]),t._v(t._s(t.order.quantity))],1)]),o("q-separator"),o("div",{staticClass:"row q-ma-sm"},[o("span",{staticClass:"q-ml-sm col",staticStyle:{color:"grey"}},[o("q-icon",{attrs:{name:"mdi-clock"}}),t._v(t._s(t.get_formated_time))],1),"EXECUTED"===t.order.status?o("div",["BEST_LIMIT"===t.order.type?o("q-chip",{attrs:{outline:"",color:"orange",dense:""}},[t._v("BEST_LIMIT")]):t._e(),o("q-chip",{attrs:{outline:"",size:"md",color:"green",dense:""}},[t._v("Payment confirmed")]),o("q-chip",{attrs:{outline:"",color:"blue",dense:""}},[t._v("OTP:"+t._s(t.order.otp))])],1):t._e(),"OPEN"===t.order.status?o("div",["BEST_LIMIT"===t.order.type?o("q-chip",{attrs:{outline:"",color:"orange",dense:""}},[t._v("BEST_LIMIT")]):t._e(),o("q-chip",{attrs:{outline:"",color:"blue",dense:""}},[t._v("Waiting for payment")])],1):t._e(),"WAITING_FOR_LIMIT"===t.order.status?o("div",["BEST_LIMIT"===t.order.type?o("q-chip",{attrs:{outline:"",color:"orange",dense:""}},[t._v("BEST_LIMIT")]):t._e(),o("q-chip",{attrs:{outline:"",color:"blue",dense:""}},[t._v("Limit Order waiting")]),t.is_cancelled?o("q-chip",{attrs:{outline:"",color:"red",dense:""}},[t._v("Cancelled")]):o("q-btn",{attrs:{outline:"",color:"black",dense:""},on:{click:function(e){return t.cancel_limit_order()}}},[t._v("CANCEL")])],1):t._e(),"CLOSED"===t.order.status?o("div",[o("q-chip",{attrs:{outline:"",color:"green",dense:""}},[t._v("Closed")])],1):t._e()]),o("q-separator"),"OPEN"===this.order.status?o("strong",{staticClass:"q-ma-md"},[t._v("\n          Please make payment at\n      ")]):t._e(),"EXECUTED"===this.order.status?o("strong",{staticClass:"q-ma-md"},[t._v("\n          Please collect delivery using the otp from\n      ")]):t._e(),o("div",{staticClass:"q-pa-sm"},[o("q-card",[o("q-card-section",{style:{backgroundColor:t.vendor.theme.css_header_background_color}},[o("div",{staticClass:"row",on:{click:function(e){return t.open_vendor_dialog(t.vendor.vendor_id)}}},[o("div",{staticClass:"col-3"},[o("q-img",{attrs:{width:"80px",src:t.base_url+t.vendor.theme.logo}})],1),o("div",{staticClass:"col-9"},[o("div",{staticClass:"q-ml-sm text-white",staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.vendor.name))]),o("q-separator",{attrs:{color:"white"}}),o("div",{staticClass:"q-ml-sm text-white"},[t._v(t._s(t.vendor.vendor_details.collection_address))]),o("div",{staticClass:"q-ml-sm text-white"},[t._v("Bank: "+t._s(t.vendor.vendor_details.bank_details))]),o("div",{staticClass:"q-ml-sm text-white"},[t._v("Call: "+t._s(t.vendor.vendor_details.mobile_number_1)+" /"+t._s(t.vendor.vendor_details.mobile_number_2)+" ")])],1)])])],1)],1),o("q-separator")],1)],1)},It=[],Qt={name:"OrderDetailsBottom",computed:{logged_in:function(){const t=this.$q.localStorage.getItem("token");return""!==t&&null!==t&&"null"!==t},get_formated_time(){const t=new Date(this.order.created_at);return t.toLocaleString("en-GB")},get_set_sheet:function(){return this.$store.state.order_details_bottom_sheet},order_item:function(){return this.$store.getters.get_order_item},order_items:function(){return this.$store.state.instruments.filter((t=>!0===t.is_favourite)).map((t=>({label:t.vendor+":"+t.name,value:t})))},order:function(){return this.$store.state.order_details_selected},vendor:function(){return this.$store.getters.get_vendor_from_id(this.$store.state.order_details_selected.instrument.vendor_id)}},methods:{set_sheet_close:function(){this.$store.state.order_details_bottom_sheet=!1},cancel_limit_order(){console.log("limit order cancellation request for"+this.order),Object(P["e"])({order_id:this.order.order_id}).then((t=>{this.cancelled=!0})).then(this.$store.state.order_details_bottom_sheet=!1)},open_vendor_dialog:function(t){var e=this.$store.getters.get_vendor_instruments(t);this.$router.push({name:"Vendor",params:{vendor_object:e}})}},data(){return{base_url:P["c"]}},created(){}},Pt=Qt,Et=o("b047"),Dt=Object(w["a"])(Pt,Ot,It,!1,null,"3e18964c",null),Mt=Dt.exports;j()(Dt,"components",{QDialog:ot["a"],QCard:A["a"],QCardSection:st["a"],QChip:Et["a"],QSeparator:nt["a"],QIcon:gt["a"],QBtn:F["a"],QImg:B["a"]});var Lt=o("8e27");const At=[{title:"Vendors",icon:"mdi-gold",mobile:!1}],Bt=[{title:"Home",icon:"mdi-home",alias:"Home",mobile:!0},{title:"Favourites",alias:"Favs",icon:"mdi-star",mobile:!0},{title:"Orders",icon:"mdi-cart",alias:"Orders",mobile:!0},{title:"Account",icon:"mdi-account",alias:"Account",mobile:!0}];var Ft={name:"Main",components:{OrderDetailsBottom:Mt,BestLimitBottomOrderDialog:Tt,EssentialLink:yt,BottomOrderDialog:ut},computed:{is_activated:function(){return!this.$store.getters.get_is_activated},logged_in:function(){const t=this.$q.localStorage.getItem("token");return""===t||null===t||"null"===t?(console.log("returning false"),!1):(console.log("returning true"),!0)},currentRouteName:function(){return console.log(this.$route.name),this.$route.name}},methods:{applyFilters(){this.$store.state.selected_filters.delivery_to=this.custom_delivery_date},login_action:function(){console.log(this.email+this.password),this.connect_jwt()},connect_data:function(){const t=Object(Lt["io"])("http://209.59.158.15:3001/",{secure:!0,transports:["websocket"],rejectUnauthorized:!1,reconnect:!0});t.on("mcxratesupdate:App\\Events\\MCXRateUpdates",(function(t){t.updatedata})),t.io.on("connection",(function(t){console.log("connected")}))},connect_websocket:function(){const t=this.connect_websocket,e=this.$store;document.cookie="authorization="+this.$q.localStorage.getItem("token")+";";const o="wss://"+P["d"]+"/ws/ticker/?"+this.$q.localStorage.getItem("token"),s=new WebSocket(o);s.onopen=function(){a["a"].create({message:"Connected to high speed market data ",position:"top-right",timeout:1e3}),s.send(JSON.stringify({type:"ticker_request",message:"Please send all symbols"})),s.send(JSON.stringify({type:"vendor_request",message:"Please send all vendors"}))},s.onmessage=function(t){var o=JSON.parse(t.data);if(o.instruments){var s=JSON.parse(o.instruments);if(o.favourites){let t=JSON.parse(o.favourites);t=t.map((t=>t.instrument_id)),s=s.map((t=>(t.is_favourite=!1,t)));for(let e=0;e<s.length;e++)for(let o=0;o<t.length;o++)t[o]===s[e].instrument_id&&(s[e].is_favourite=!0)}e.dispatch("push_instruments",s),console.log("Done")}if(o.gold_tick&&e.dispatch("update_prices",o),o.instrument_update){console.log("instrument_update received");var r=JSON.parse(o.instrument_update);console.log(r),e.dispatch("update_instrument",r)}if(o.vendors){var i=o.vendors.map((t=>(t.theme=JSON.parse(t.theme)[0],t.vendor_details=JSON.parse(t.vendor_details)[0],t)));e.dispatch("push_vendors",i)}if(o.order_update){const t=JSON.parse(o.order_update);a["a"].create({message:"order update recieved "+t.status,position:"top-right"})}},s.onclose=function(e){console.log(e),setTimeout((function(){console.log("websocket disconnected reconnecting "),t()}),2e3)}},connect_jwt:function(){const t=this.$store,e=this.$router;var s=o("bc3a"),r={username:this.email,password:this.password},i={method:"post",url:"http://127.0.0.1:8000/api/rest-auth/login/",headers:{"Content-Type":"application/json"},data:r};const n=this.connect_websocket,a=this.$q;s(i).then((function(o){console.log(a.localStorage.getItem("token")),t.dispatch("set_token",o.data.key),console.log("before checking"+a.localStorage.getItem("token")),a.localStorage.set("token",o.data.key),console.log("pushing to home"),e.push("/"),n()})).catch((function(t){console.log(t)}))},get_orders(){return Object(P["f"])().then((t=>{this.orders=t,console.log(t),console.log("Inside get_orders")})).then((()=>{this.orders=this.orders.map((t=>(t.instrument_id=this.$store.getters.get_instrument(t.instrument_id),console.log(t.instrument_id),t)))})).then((()=>{this.orders_to_rate=this.orders.filter((t=>"CLOSED"===t.status&&!1===t.is_rated)),console.log("Orders to be rated"),console.log(this.orders_to_rate)}))},get_user_details(){},deliveryFilter(t){if("Today"===t){const t=new Date,e=t.getDate(),o=t.getMonth()+1,s=t.getFullYear();this.$store.state.selected_filters.delivery_to=s+"-"+o+"-"+e}else if("Tomorrow"===t){const t=new Date((new Date).getTime()+864e5),e=t.getDate(),o=t.getMonth()+1,s=t.getFullYear();this.$store.state.selected_filters.delivery_to=s+"-"+o+"-"+e}else if("Day After"===t){const t=new Date((new Date).getTime()+1728e5),e=t.getDate(),o=t.getMonth()+1,s=t.getFullYear();this.$store.state.selected_filters.delivery_to=s+"-"+o+"-"+e}else"Custom"===t?this.filterDialog=!0:"None"===t&&(this.$store.state.selected_filters.delivery_to="")}},data(){return{custom_delivery_date:"",active_label:"None",email:"",password:",",essentialLinks:Bt,extraLinks:At,imageSrc:"logo.png",leftDrawerOpen:!1,rightDrawerOpen:!1,tab:"Home",orders_to_rate:[],orders:[],filters:[{label:"Delivery",children:[{label:"Today",handler:()=>this.deliveryFilter("Today"),icon:"mdi-van"},{label:"Tommorow",handler:()=>this.deliveryFilter("Tomorrow"),icon:"room_service"},{label:"Day After",handler:()=>this.deliveryFilter("Day After"),icon:"room_service"},{label:"Custom",handler:()=>this.deliveryFilter("Custom"),icon:"photo"},{label:"None",handler:()=>this.deliveryFilter("None")}]}],filterDialog:!1,selected_filters:{delivery_to:""}}},created(){this.$router.push("Home"),this.connect_websocket();const t=this.$store;this.logged_in?Object(P["g"])().then((e=>{t.state.is_activated=e.is_activated,t.state.requested_registration=e.requested_registration,t.state.user_details=e})).catch((t=>{console.log(t),this.$store.state.token=""})):this.$q.is.mobile&&this.$router.push()}},Nt=Ft,jt=o("52ee"),zt=o("4d5a"),Rt=o("e359"),Ht=o("65c6"),Vt=o("6ac5"),Gt=o("9404"),Jt=o("cb32"),Ut=o("4983"),Wt=o("1c1c"),Yt=o("0170"),Kt=o("7f41"),Xt=o("09e3"),Zt=o("7ff0"),te=o("7f67"),ee=Object(w["a"])(Nt,W,Y,!1,null,null,null),oe=ee.exports;j()(ee,"components",{QDialog:ot["a"],QCard:A["a"],QCardSection:st["a"],QSpace:G["a"],QBtn:F["a"],QDate:jt["a"],QLayout:zt["a"],QHeader:Rt["a"],QToolbar:Ht["a"],QToolbarTitle:Vt["a"],QImg:B["a"],QIcon:gt["a"],QDrawer:Gt["a"],QAvatar:Jt["a"],QScrollArea:Ut["a"],QList:Wt["a"],QItemLabel:Yt["a"],QTree:Kt["a"],QPageContainer:Xt["a"],QFooter:Zt["a"],QTabs:rt["a"],QTab:it["a"]}),j()(ee,"directives",{ClosePopup:te["a"]});var se=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"q-pa-md"},[o("q-table",{attrs:{grid:"","card-class":"bg-primary text-white",title:"Margins from vendors",data:t.margins,columns:t.columns,"row-key":"name",filter:t.filter,"hide-header":""},scopedSlots:t._u([{key:"top-right",fn:function(){return[o("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[o("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"item",fn:function(e){return[o("div",{staticClass:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},[o("q-card",[o("q-card-section",{staticClass:"text-center"},[o("q-img",{attrs:{width:"40px",src:t.get_logo_url(e.row.vendor.theme.logo)}}),o("strong",{staticClass:"q-pa-sm"},[t._v(t._s(e.row.vendor.name))])],1),o("q-separator"),o("q-card-section",{},[o("div",{staticClass:"row"},[t._v("Margin: "+t._s(e.row.margin)+" gms")]),o("div",{staticClass:"row"},[t._v("Available: "+t._s(e.row.margin_available)+" gms")])])],1)],1)]}}])})],1)])},re=[],ie={name:"UserMargins",methods:{get_logo_url(t){return P["c"].concat(t)}},data:function(){return{margins:[],filter:"",columns:[{name:"vendor",required:!0,label:"Vendor",align:"left",field:t=>t.vendor.name,format:t=>`${t}`,sortable:!0},{name:"margin",align:"center",label:"Margin",field:"margin",sortable:!0},{name:"margin_available",label:"Margin Available",field:"margin_available",sortable:!0}]}},created(){console.log("requesting for margins"),Object(P["h"])().then((t=>{t.map((t=>{t.vendor=this.$store.getters.get_vendor_from_id(t.vendor)})),this.margins=t}))}},ne=ie,ae=o("eaac"),le=Object(w["a"])(ne,se,re,!1,null,"015e7b2c",null),ce=le.exports;j()(le,"components",{QTable:ae["a"],QInput:ct["a"],QIcon:gt["a"],QCard:A["a"],QCardSection:st["a"],QImg:B["a"],QSeparator:nt["a"]});const de=[{path:"/main",name:"Marketing",component:o.e(7).then(o.bind(null,"f559"))},{path:"/login",name:"Login",component:()=>Promise.all([o.e(0),o.e(3)]).then(o.bind(null,"013f")),props:!0},{path:"/register",name:"Register",component:Promise.all([o.e(0),o.e(9)]).then(o.bind(null,"56b4"))},{path:"/",component:oe,name:"Main",children:[{path:"home",component:U,name:"Home"},{path:"orders",component:()=>Promise.all([o.e(0),o.e(8)]).then(o.bind(null,"0b35")),name:"Orders"},{path:"favourites",component:()=>o.e(2).then(o.bind(null,"ddf4")),name:"Favourites"},{path:"account",name:"Account",component:()=>o.e(4).then(o.bind(null,"8c2d"))},{path:"vendor",name:"Vendor",component:()=>o.e(10).then(o.bind(null,"ed35")),props:!0},{path:"margins",name:"Margins",component:ce},{path:"registration",name:"Registration",component:()=>Promise.all([o.e(0),o.e(5)]).then(o.bind(null,"2f20"))},{path:"vendors",name:"Vendors",component:()=>o.e(11).then(o.bind(null,"30aa"))}]},{path:"*",component:()=>o.e(6).then(o.bind(null,"e51e"))}];var ue=de;s["a"].use($["a"]);var me=function(){const t=new $["a"]({scrollBehavior:()=>({x:0,y:0}),routes:ue,mode:"hash",base:""});return t},pe=async function(){const t="function"===typeof S?await S({Vue:s["a"]}):S,e="function"===typeof me?await me({Vue:s["a"],store:t}):me;t.$router=e;const o={router:e,store:t,render:t=>t(C),el:"#q-app"};return{app:o,store:t,router:e}},_e=o("bc3a"),he=o.n(_e);s["a"].prototype.$axios=he.a;const fe="";async function ve(){const{app:t,store:e,router:o}=await pe();let r=!1;const i=t=>{r=!0;const e=Object(t)===t?o.resolve(t).route.fullPath:t;window.location.href=e},n=window.location.href.replace(window.location.origin,""),a=[void 0];for(let c=0;!1===r&&c<a.length;c++)if("function"===typeof a[c])try{await a[c]({app:t,router:o,store:e,Vue:s["a"],ssrContext:null,redirect:i,urlPath:n,publicPath:fe})}catch(l){return l&&l.url?void(window.location.href=l.url):void console.error("[Quasar] boot error:",l)}!0!==r&&new s["a"](t)}ve()},"31cd":function(t,e,o){},"4bff":function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"q-ml-md q-mr-md q-mt-md row text-h6"},[o("div",{staticClass:"col"},[null==t.title?o("div",[t._v("\n            Watchlist\n        ")]):o("div",[t._v("\n        "+t._s(t.title)+"\n      ")])]),o("div",{staticClass:"row"},[o("q-input",{staticClass:"q-ml-sm",attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),o("q-btn",{staticClass:"q-ml-sm",staticStyle:{"max-height":"36px"},attrs:{dense:"",icon:"mdi-filter","text-color":"dark",color:"white"},on:{click:function(e){return t.openFilterDrawer()}}})],1)]),o("div",{staticClass:"row q-ml-md"},[t._v("\n          Please click on Bid/Ask to place orders\n      ")]),o("div",[o("q-tabs",{staticStyle:{width:"available"},attrs:{"no-caps":"",dense:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.types,(function(t){return o("div",{key:t},[o("q-tab",{attrs:{name:t,label:t,on:""}})],1)})),0)],1),t.render_best&&t.instruments_to_render.length>0?o("q-card",{staticClass:"bg-light-blue-2 row q-pa-sm",attrs:{square:"",bordered:"",flat:""}},[t.$q.platform.is.mobile?t._e():o("div",{staticClass:"col-3 vendor_link",on:{click:function(e){return t.open_vendor_dialog(t.lowest.vendor_id)}}},[t._v("\n            Best : "+t._s(t.lowest.vendor)+"\n          ")]),t.$q.platform.is.mobile?o("div",{staticClass:"col-6",on:{click:function(e){return t.open_vendor_dialog(t.lowest.vendor_id)}}},[o("div",{staticClass:"q-pl-md "},[o("div",{staticClass:"row vendor_link"},[o("span",{staticStyle:{"font-size":"small"}},[t._v("Best: "+t._s(t.lowest.vendor))])]),o("div",{staticClass:"row"},[o("span",{staticStyle:{"font-size":"small"}},[t._v(t._s(t.lowest.name))])])])]):o("div",{staticClass:"col",on:{click:function(e){return t.open_vendor_dialog(t.lowest.vendor_id)}}},[t._v("\n              "+t._s(t.lowest.name)+"\n            ")]),o("div",{staticClass:"col",on:{click:function(e){return t.open_order_sheet(t.lowest)}}},[t.$q.platform.is.mobile?o("div",[o("div",{staticClass:"row"},[o("span",{staticStyle:{"font-size":"large"}},[t._v(" "+t._s(t.lowest.bid))])]),o("div",{staticClass:"row"},[o("span",{staticStyle:{"font-size":"small"}},[t._v("L:"+t._s(t.lowest.low))])])]):o("div",[o("div",{staticClass:"col"},[t._v("\n              "+t._s(t.lowest.bid)+"\n                ")])])]),o("div",{staticClass:"col",on:{click:function(e){return t.open_order_sheet(t.lowest)}}},[t.$q.platform.is.mobile?o("div",[o("div",{staticClass:"row"},[o("span",{staticStyle:{"font-size":"large"}},[t._v(" "+t._s(t.lowest.ask))])]),o("div",{staticClass:"row"},[o("span",{staticStyle:{"font-size":"small"}},[t._v("H:"+t._s(t.lowest.high))])])]):o("div",[t._v("\n              "+t._s(t.lowest.ask)+"\n              ")])]),t.$q.platform.is.mobile?t._e():o("div",{staticClass:"col"},[t._v("\n              "+t._s(t.lowest.high)+"\n          ")]),t.$q.platform.is.mobile?t._e():o("div",{staticClass:"col"},[t._v("\n              "+t._s(t.lowest.low)+"\n          ")])]):t._e(),o("q-table",{directives:[{name:"touch-swipe",rawName:"v-touch-swipe.mouse.horizontal",value:t.handleSwipe,expression:"handleSwipe",modifiers:{mouse:!0,horizontal:!0}}],staticStyle:{"max-height":"600px"},attrs:{title:"Ticker Prices",data:t.data_render,columns:t.headers,filter:t.filter,"row-key":"instrument_id",bordered:"",flat:"",pagination:t.pagination,"virtual-scroll":"","hide-bottom":""},scopedSlots:t._u([{key:"top",fn:function(){},proxy:!0},{key:"header",fn:function(e){return[o("q-tr",{staticClass:"text-left",attrs:{props:e}},[t.$q.platform.is.mobile?t._e():o("q-th",[t._v("\n            Vendor\n          ")]),o("q-th",[t._v("\n            Symbol\n          ")]),o("q-th",[t._v("\n            Bid\n          ")]),o("q-th",[t._v("\n            Ask\n          ")]),t.$q.platform.is.mobile?t._e():o("q-th",[t._v("\n            High\n          ")]),t.$q.platform.is.mobile?t._e():o("q-th",[t._v("\n            Low\n          ")]),o("q-th"),o("q-th")],1)]}},{key:"body",fn:function(e){return[o("q-tr",{attrs:{props:e}},[t.$q.platform.is.mobile?t._e():o("q-td",{key:"Vendor",staticClass:"vendor_link",attrs:{props:e},on:{click:function(o){return t.open_vendor_dialog(e.row.vendor_id)}}},[t._v("\n            "+t._s(e.row.vendor)+"\n          ")]),o("q-td",{key:"Symbol",attrs:{props:e},on:{click:function(o){return t.open_vendor_dialog(e.row.vendor_id)}}},[t.$q.platform.is.mobile?o("div",[o("div",{staticClass:"col"},[o("div",{staticClass:"row vendor_link"},[o("span",{staticStyle:{"font-size":"small"}},[t._v(" "+t._s(e.row.vendor))])]),o("div",{staticClass:"row"},[o("span",{staticStyle:{"font-size":"small"}},[t._v(t._s(e.row.name))])])])]):o("div",[t._v("\n              "+t._s(e.row.name)+"\n            ")])]),o("q-td",{key:"Bid",attrs:{props:e},on:{click:function(o){return t.open_order_sheet(e.row)}}},[t.$q.platform.is.mobile?o("div",[o("div",{staticClass:"col"},[o("div",{staticClass:"row"},[o("span",{staticStyle:{"font-size":"large"}},[t._v(" "+t._s(e.row.bid))])]),o("div",{staticClass:"row"},[o("span",{staticStyle:{"font-size":"small"}},[t._v("L:"+t._s(e.row.low))])])])]):o("div",[t._v("\n              "+t._s(e.row.bid)+"\n            ")])]),o("q-td",{key:"Ask",attrs:{props:e},on:{click:function(o){return t.open_order_sheet(e.row)}}},[t.$q.platform.is.mobile?o("div",[o("div",{staticClass:"col"},[o("div",{staticClass:"row"},[o("span",{staticStyle:{"font-size":"large"}},[t._v(" "+t._s(e.row.ask))])]),o("div",{staticClass:"row"},[o("span",{staticStyle:{"font-size":"small"}},[t._v("H:"+t._s(e.row.high))])])])]):o("div",[t._v("\n              "+t._s(e.row.ask)+"\n              ")])]),t.$q.platform.is.mobile?t._e():o("q-td",{key:"High",attrs:{props:e}},[t._v("\n              "+t._s(e.row.high)+"\n          ")]),t.$q.platform.is.mobile?t._e():o("q-td",{key:"Low",attrs:{props:e}},[t._v("\n              "+t._s(e.row.low)+"\n          ")]),o("q-td",{key:"favourite",attrs:{props:e},on:{click:function(o){return t.toggleFavourite(e.row)}}},[e.row.is_favourite?o("div",[o("q-icon",{attrs:{size:"sm",name:"mdi-star"}})],1):o("div",[o("q-icon",{attrs:{size:"sm",name:"mdi-star-outline"}})],1)])],1)]}}])}),o("q-dialog",{model:{value:t.filterDialog,callback:function(e){t.filterDialog=e},expression:"filterDialog"}},[o("q-card",[o("q-card-section",{staticClass:"row items-center q-pb-none"},[o("div",{staticClass:"text-h6"},[t._v("Filters")]),o("q-space"),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),o("q-card-section",{attrs:{horizontal:""}},[o("q-card-section",[o("div",{staticClass:"text-h6"},[t._v("Delivery From")])]),o("q-separator",{attrs:{vertical:""}}),o("q-card-section",[o("div",{staticClass:"q-pa-md"},[o("div",{staticClass:"q-pb-sm"}),o("q-date",{model:{value:t.selected.delivery_from,callback:function(e){t.$set(t.selected,"delivery_from",e)},expression:"selected.delivery_from"}})],1)])],1)],1)],1)],1)},r=[],i=(o("ddb0"),o("4082")),n=o.n(i),a=o("c993"),l=o("2a19"),c={name:"TickerPriceTable",props:["instruments_to_render","title","render_best"],computed:{data_render:function(){var t=this.instruments_to_render;let e="";return"All"!==this.tab?(e=this.tab,t.filter((t=>t.type===e))):t},lowest:function(){let t="";var e=[];return"All"!==this.tab?(t=this.tab,e=this.instruments_to_render.filter((e=>e.type===t))):e=this.instruments_to_render,e.filter((t=>t.ask===Math.min(...e.map((t=>t.ask)))))[0]}},data(){return{pagination:{rowsPerPage:0},filter:"",tab:"All",tabIndex:0,filterDialog:!1,types:["All","Gold 999","Gold 999 1kg","Gold 995","Gold 995 1kg"],headers:[{name:"Vendor",align:"start",field:"vendor",label:"Vendor"},{name:"Symbol",align:"start",field:"name",label:"Symbol"},{name:"Bid",align:"start",field:"bid",filterable:!0,label:"Bid",sortable:!0},{name:"Ask",align:"start",field:"ask",filterable:!0,label:"Ask",sortable:!0},{name:"High",align:"start",field:"high",filterable:!0,label:"High",sortable:!0},{name:"Low",align:"start",field:"low",filterable:!0,label:"Low",sortable:!0},{name:"favourite",align:"start",field:"is_favourite",label:""}],selected:{delivery_from:null,delivery_to:null}}},methods:{openFilterDrawer(){this.$store.state.rightDrawerOpen=!this.$store.state.rightDrawerOpen},handleSwipe(t){let{evt:e}=t,o=n()(t,["evt"]);console.log(o),"right"===o.direction?(this.tabIndex=Math.max(0,this.tabIndex-1),this.tab=this.types[Math.min(this.tabIndex,this.types.length-1)]):"left"===o.direction&&(this.tabIndex=Math.min(this.types.length-1,this.tabIndex+1),this.tabIndex<0&&(this.tabIndex=0),this.tab=this.types[Math.max(this.tabIndex,0)])},toggleFavourite:function(t){console.log(t),t.is_favourite=!t.is_favourite,!1===t.is_favourite?Object(a["k"])(t.instrument_id).then((t=>{console.log(t),l["a"].create({message:"Removed from favourites ",position:"top-right"})})):Object(a["b"])(t).then((t=>{l["a"].create({message:"Added to favourites ",position:"top-right"})}))},open_order_sheet:function(t){this.$store.dispatch("set_order_item",t),this.$store.dispatch("set_sheet",!0)},open_vendor_dialog:function(t){var e=this.$store.getters.get_vendor_instruments(t);this.$router.push({name:"Vendor",params:{vendor_object:e}})}},created(){}},d=c,u=(o("02e2"),o("2877")),m=o("27f9"),p=o("9c40"),_=o("429b"),h=o("7460"),f=o("f09f"),v=o("0016"),g=o("eaac"),b=o("bd08"),y=o("db86"),q=o("357e"),w=o("24e8"),k=o("a370"),C=o("2c91"),x=o("eb85"),S=o("52ee"),$=o("12c5"),T=o("7f67"),O=o("eebe"),I=o.n(O),Q=Object(u["a"])(d,s,r,!1,null,"5f05f404",null);e["a"]=Q.exports;I()(Q,"components",{QInput:m["a"],QBtn:p["a"],QTabs:_["a"],QTab:h["a"],QCard:f["a"],QIcon:v["a"],QTable:g["a"],QTr:b["a"],QTd:y["a"],QTh:q["a"],QDialog:w["a"],QCardSection:k["a"],QSpace:C["a"],QSeparator:x["a"],QDate:S["a"]}),I()(Q,"directives",{TouchSwipe:$["a"],ClosePopup:T["a"]})},6428:function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("span",{staticClass:"q-ma-md row text-h6"},[t._v("All vendors")]),o("div",{staticClass:" row q-pa-md"},t._l(t.vendors,(function(e){return o("div",{key:e.vendor_id},[o("q-card",{staticClass:"q-ml-md",on:{click:function(o){return t.open_vendor_dialog(e.vendor_id)}}},[o("q-card-section",{style:{backgroundColor:e.theme.css_header_background_color,height:"150px",width:"120px"}},[o("q-img",{attrs:{width:"80px",src:t.base_url+e.theme.logo}}),o("span",{staticClass:"text-white",staticStyle:{"font-weight":"bold"}},[t._v(t._s(e.name))])],1)],1)],1)})),0)])},r=[],i=o("c993"),n={name:"TopVendors",props:["vendors"],data(){return{base_url:i["c"]}},methods:{open_vendor_dialog:function(t){var e=this.$store.getters.get_vendor_instruments(t);this.$router.push({name:"Vendor",params:{vendor_object:e}})}}},a=n,l=o("2877"),c=o("f09f"),d=o("a370"),u=o("068f"),m=o("eebe"),p=o.n(m),_=Object(l["a"])(a,s,r,!1,null,"f92127a2",null);e["a"]=_.exports;p()(_,"components",{QCard:c["a"],QCardSection:d["a"],QImg:u["a"]})},"6bb2":function(t,e,o){"use strict";o("bdbd")},ab80:function(t,e,o){"use strict";o("e6cf");var s=function(t,e){return void 0===e&&(e=[]),new Promise((function(o,s){window.cordova.exec(o,s,"FCMPlugin",t,e)}))},r=function(t,e,o,s){void 0===s&&(s={});var r=s.once,i=function(t){return o(t.detail)};return t.addEventListener(e,i,{passive:!0,once:r}),{dispose:function(){return t.removeEventListener(e,i)}}},i=function(t){var e=function(t){return console.log("FCM: Error listening to native events",t)},o=function(e){try{var o=JSON.parse(e),s=o[0],r=o[1];t.dispatchEvent(new CustomEvent(s,{detail:r}))}catch(i){console.log("FCM: Error parsing native event data",i)}};window.cordova.exec(o,e,"FCMPlugin","startJsEventBridge",[])},n=function(){function t(){var t=this;this.eventTarget=document.createElement("div"),s("ready").catch((function(t){return console.log("FCM: Ready error: ",t)})).then((function(){console.log("FCM: Ready!"),i(t.eventTarget)})),console.log("FCM: has been created")}return t.prototype.clearAllNotifications=function(){return s("clearAllNotifications")},t.prototype.createNotificationChannel=function(t){return"android"!==window.cordova.platformId?Promise.resolve():s("createNotificationChannel",[t])},t.prototype.deleteInstanceId=function(){return s("deleteInstanceId")},t.prototype.getAPNSToken=function(){return"ios"!==window.cordova.platformId?Promise.resolve(""):s("getAPNSToken")},t.prototype.getInitialPushPayload=function(){return s("getInitialPushPayload")},t.prototype.getToken=function(){return s("getToken")},t.prototype.hasPermission=function(){return"ios"!==window.cordova.platformId?Promise.resolve(!0):s("hasPermission")},t.prototype.onNotification=function(t,e){return r(this.eventTarget,"notification",t,e)},t.prototype.onTokenRefresh=function(t,e){return r(this.eventTarget,"tokenRefresh",t,e)},t.prototype.requestPushPermission=function(t){var e,o,r,i;if("ios"!==window.cordova.platformId)return Promise.resolve(!0);var n=null!==(o=null===(e=null===t||void 0===t?void 0:t.ios9Support)||void 0===e?void 0:e.timeout)&&void 0!==o?o:10,a=null!==(i=null===(r=null===t||void 0===t?void 0:t.ios9Support)||void 0===r?void 0:r.interval)&&void 0!==i?i:.3;return s("requestPushPermission",[n,a])},t.prototype.subscribeToTopic=function(t){return s("subscribeToTopic",[t])},t.prototype.unsubscribeFromTopic=function(t){return s("unsubscribeFromTopic",[t])},t}(),a=new n;t.exports=a},bdbd:function(t,e,o){},c993:function(t,e,o){"use strict";o.d(e,"c",(function(){return n})),o.d(e,"b",(function(){return l})),o.d(e,"k",(function(){return c})),o.d(e,"f",(function(){return d})),o.d(e,"i",(function(){return u})),o.d(e,"e",(function(){return m})),o.d(e,"h",(function(){return p})),o.d(e,"g",(function(){return _})),o.d(e,"d",(function(){return a})),o.d(e,"j",(function(){return h})),o.d(e,"a",(function(){return f}));var s=o("18d6");function r(t){return 204===t.status||404===t.status||400===t.status||500===t.status?t:t.data}function i(t,e,i){console.log("requesting with token"+s["a"].getItem("token"));var n=o("bc3a"),a={method:e||"GET",url:t,headers:{Authorization:"Token "+s["a"].getItem("token"),"Content-Type":"application/json"},data:i};return n(a).then((t=>r(t)))}const n="https://admin.deltabx.com",a="admin.deltabx.com";function l(t){const e=n+"/api/favourites/";return i(e,"POST",t)}function c(t){const e=n+"/api/favourites/";var o={instrument_id:t};return i(e,"DELETE",o)}function d(){const t=n+"/order/api/orders";return i(t,"GET",null)}function u(t){const e=n+"/order/api/orders";return i(e,"POST",t)}function m(t){const e=n+"/order/api/orders";return i(e,"DELETE",t)}function p(){const t=n+"/order/api/usermargins";return i(t,"GET",null)}function _(){const t=n+"/api/rest-auth/user";return i(t,"GET",null)}function h(t){const e=n+"/api/ratevendor/";return i(e,"POST",t)}function f(t){const e=n+"/user/api/activateUser";return i(e,"POST",t)}}});