(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"8c2d":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{},[t.logged_in?s("div",[s("div",{staticClass:"col"},[s("div",{staticClass:"col-12"}),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("q-card",{attrs:{square:"",flat:""}},[s("q-card-section",{},[s("strong",[t._v("  Account margins")])]),s("q-separator"),s("q-card-section",{},[s("q-item",{attrs:{clickable:"",tag:"a",target:"_blank"},on:{click:function(e){return t.$router.push("Margins")}}},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{staticClass:"text-primary",attrs:{name:"mdi-locker"}})],1),s("q-item-section",{staticClass:"text-primary"},[t._v("Margins available from each vendors")])],1)],1)],1)],1),s("div",{staticClass:"col-12"},[s("q-separator"),s("q-card",{staticClass:" ",attrs:{square:"",flat:""},on:{click:function(e){return t.support_request_method()}}},[s("q-card-section",{},[s("strong",[t._v("Support")])]),s("q-separator"),s("q-card-section",{},[s("q-item",{attrs:{clickable:"",tag:"a",target:"_blank"},on:{click:function(e){return t.support_request_method()}}},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{staticClass:"text-primary",attrs:{name:"mdi-account-arrow-right"}})],1),s("q-item-section",{staticClass:"text-primary"},[t._v("Send a request for support")])],1)],1)],1)],1),s("div",{staticClass:"col-12"},[s("q-separator"),s("q-card",{attrs:{square:"",flat:""}},[s("div",{staticClass:"col col-sm-6 col-md-6 col-xs-12"}),s("q-card-section",{},[s("strong",[t._v("Account Settings")])]),s("q-separator"),s("q-card-section",{},[s("q-list",[s("q-item",{attrs:{clickable:"",tag:"a",target:"_blank"},on:{click:function(e){return t.logout()}}},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{staticClass:"text-primary",attrs:{name:"mdi-logout"}})],1),s("q-item-section",{staticClass:"text-primary"},[t._v("Logout")])],1),s("q-item",{attrs:{clickable:"",tag:"a",target:"_blank"},on:{click:function(e){t.reset=!0}}},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{staticClass:"text-primary",attrs:{name:"mdi-lock-reset"}})],1),s("q-item-section",{staticClass:"text-primary"},[t._v("Reset Password")])],1)],1)],1)],1)],1)])])]):s("div",{},[s("LoginRequired",{attrs:{page:"Account Settings"}})],1),s("q-dialog",{model:{value:t.reset,callback:function(e){t.reset=e},expression:"reset"}},[s("q-card",{},[s("q-card-section",{staticClass:"bg-primary text-h6",staticStyle:{color:"white"}},[t._v("\n        Reset Password\n      ")]),s("q-card-section",{staticClass:"q-ma-md q-gutter-y-md",staticStyle:{"background-color":"white"}},[s("q-input",{attrs:{outlined:"",label:"Enter New Password"},model:{value:t.new_password1,callback:function(e){t.new_password1=e},expression:"new_password1"}}),s("q-input",{attrs:{outlined:"",label:"Re-enter new password"},model:{value:t.new_password2,callback:function(e){t.new_password2=e},expression:"new_password2"}})],1),s("q-card-section",[s("q-btn",{staticClass:"q-ml-md btn-danger",on:{click:function(e){t.reset=!1}}},[t._v("Close")]),s("q-btn",{staticClass:"q-ml-md btn-primary",attrs:{color:"primary"},on:{click:t.changePassword}},[t._v("Confirm")])],1)],1)],1),s("q-dialog",{model:{value:t.support,callback:function(e){t.support=e},expression:"support"}},[s("q-card",{},[s("q-card-section",{staticClass:"bg-primary text-h6",staticStyle:{color:"white"}},[t._v("\n        Support\n      ")]),s("q-card-section",[s("q-input",{attrs:{outlined:"",label:"Title"},model:{value:t.request_title,callback:function(e){t.request_title=e},expression:"request_title"}}),s("br"),s("q-input",{attrs:{outlined:"",label:"Message",type:"textarea",id:"",cols:"33",rows:"10"},model:{value:t.request_message,callback:function(e){t.request_message=e},expression:"request_message"}})],1),s("q-card-section",{staticStyle:{"background-color":"white"}},[s("q-btn",{staticClass:"q-ml-md btn-danger",on:{click:function(e){t.support=!1}}},[t._v("Close")]),s("q-btn",{staticClass:"q-ml-md btn-primary",attrs:{color:"primary"},on:{click:t.sendRequest}},[t._v("Send request")])],1)],1)],1)],1)])},o=[],r=s("2a19"),n=s("f3d6"),i={name:"Account",components:{LoginRequired:n["a"]},methods:{logout:function(){return this.$q.localStorage.set("token",""),r["a"].create({message:"You have been logged out",position:"top-right"}),this.$router.push("Home")},reset_password:function(){},support_request_method:function(){this.support=!0},changePassword(){const t=s("bc3a"),e={new_password1:this.new_password1,new_password2:this.new_password2},a={method:"post",url:"http://127.0.0.1:8000/api/rest-auth/password/change/",headers:{Authorization:`Token ${this.$q.localStorage.getItem("token")}`},data:e};t(a).then((t=>{console.log(t),r["a"].create({message:"New password has been set!",position:"top-right",timeout:1e3})})).catch((function(t){t.response&&(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)),r["a"].create({message:t.response.data.new_password2,position:"top-right",timeout:1e3})}))},sendRequest(){const t=s("bc3a"),e={title:this.request_title,message:this.request_message},a={method:"post",url:"http://127.0.0.1:8000/api/support/",headers:{Authorization:`Token ${this.$q.localStorage.getItem("token")}`},data:e};t(a).then((t=>{console.log(t),r["a"].create({message:"Request has been succesfully sent!",position:"top-right",timeout:1e3})})).catch((t=>{console.log(t),r["a"].create({message:"Error while sending the request",position:"top-right",timeout:1e3})}))}},data:function(){return{reset:!1,support:!1,new_password1:"",new_password2:"",request_title:"",request_message:""}},created(){this.$store.state.rightDrawerOpen=!1},computed:{logged_in:function(){const t=this.$q.localStorage.getItem("token");return""===t||null===t||"null"===t?(console.log("returning false"),!1):(console.log("returning true"),!0)}}},c=i,l=s("2877"),u=s("f09f"),d=s("a370"),p=s("eb85"),m=s("9c40"),g=s("66e5"),q=s("4074"),h=s("0016"),w=s("1c1c"),_=s("24e8"),v=s("27f9"),b=s("eebe"),f=s.n(b),k=Object(l["a"])(c,a,o,!1,null,"21d149b4",null);e["default"]=k.exports;f()(k,"components",{QCard:u["a"],QCardSection:d["a"],QSeparator:p["a"],QBtn:m["a"],QItem:g["a"],QItemSection:q["a"],QIcon:h["a"],QList:w["a"],QDialog:_["a"],QInput:v["a"]})},f3d6:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row q-ma-md text-center justify-center items-center align-middle"},[s("div",{staticClass:"column q-pa-lg"},[s("q-card",{attrs:{flat:""}},[s("div",{staticClass:"row"},[s("q-img",{attrs:{width:"",src:"laptop.png"}})],1),s("div",{staticClass:"row q-mt-md"},[s("strong",{staticClass:"text-h6"},[t._v("Please login to view "+t._s(t.page))])]),s("div",{staticClass:"row justify-center"},[s("q-btn",{staticClass:"bg-primary text-white",attrs:{align:"",flat:""},on:{click:function(e){return t.$router.push("Login")}}},[t._v("Login")])],1)])],1)])},o=[],r={name:"LoginRequired",props:["page"]},n=r,i=s("2877"),c=s("f09f"),l=s("068f"),u=s("9c40"),d=s("eebe"),p=s.n(d),m=Object(i["a"])(n,a,o,!1,null,"4a57fb93",null);e["a"]=m.exports;p()(m,"components",{QCard:c["a"],QImg:l["a"],QBtn:u["a"]})}}]);