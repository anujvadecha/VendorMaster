(function(t){function e(e){for(var a,r,n=e[0],l=e[1],c=e[2],d=0,u=[];d<n.length;d++)r=n[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&u.push(o[r][0]),o[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);m&&m(e);while(u.length)u.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,r=1;r<s.length;r++){var n=s[r];0!==o[n]&&(a=!1)}a&&(i.splice(e--,1),t=l(l.s=s[0]))}return t}var a={},r={1:0},o={1:0},i=[];function n(t){return l.p+"js/"+({}[t]||t)+"."+{2:"e2e7804a",3:"af8ce3ec",4:"17bc3bc4",5:"f9ab3586",6:"8ae18d2c",7:"78f37a6a",8:"41881a67",9:"09180e80",10:"5349d8f0"}[t]+".js"}function l(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.e=function(t){var e=[],s={2:1,3:1};r[t]?e.push(r[t]):0!==r[t]&&s[t]&&e.push(r[t]=new Promise((function(e,s){for(var a="css/"+({}[t]||t)+"."+{2:"6ddf1cd1",3:"0d3d9aad",4:"31d6cfe0",5:"31d6cfe0",6:"31d6cfe0",7:"31d6cfe0",8:"31d6cfe0",9:"31d6cfe0",10:"31d6cfe0"}[t]+".css",o=l.p+a,i=document.getElementsByTagName("link"),n=0;n<i.length;n++){var c=i[n],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===a||d===o))return e()}var u=document.getElementsByTagName("style");for(n=0;n<u.length;n++){c=u[n],d=c.getAttribute("data-href");if(d===a||d===o)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var a=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[t],m.parentNode.removeChild(m),s(i)},m.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){r[t]=0})));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,s){a=o[t]=[e,s]}));e.push(a[2]=i);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=n(t);var u=new Error;c=function(e){d.onerror=d.onload=null,clearTimeout(m);var s=o[t];if(0!==s){if(s){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",u.name="ChunkLoadError",u.type=a,u.request=r,s[1](u)}o[t]=void 0}};var m=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(e)},l.m=t,l.c=a,l.d=function(t,e,s){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(s,a,function(e){return t[e]}.bind(null,a));return s},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var m=d;i.push([0,0]),s()})({0:function(t,e,s){t.exports=s("2f39")},"231f":function(t,e,s){},"23fc":function(t,e,s){},"2f39":function(t,e,s){"use strict";s.r(e);s("e6cf"),s("5319"),s("9f29"),s("e54f"),s("985d"),s("31cd");var a=s("2b0e"),r=s("1f91"),o=s("42d2"),i=s("b05d"),n=s("2a19"),l=s("18d6"),c=s("a639");a["a"].use(i["a"],{config:{notify:{}},lang:r["a"],iconSet:o["a"],plugins:{Notify:n["a"],LocalStorage:l["a"],SessionStorage:c["a"]}});var d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"q-app"}},[s("router-view")],1)},u=[],m={name:"App",created(){}},p=m,_=s("2877"),h=Object(_["a"])(p,d,u,!1,null,null,null),f=h.exports,v=(s("4e82"),s("2f62"));a["a"].use(v["a"]);var g=new v["a"].Store({state:{instruments:[],vendors:[],bottom_sheet:!1,bottom_best_limit_sheet:!1,order_details_bottom_sheet:!1,order_details_selected:void 0,snackbar_message:"",snackbar:!1,token:"",order_item:null,user_details:null,gold_ask:0,silver_ask:0,dollar:0,gold_comex:0,selected_filters:{delivery_to:""},orders:null,active_orders:[],executed_orders_waiting:[],executed_orders_confirmed:[],closed_orders:[],orders_to_rate:[]},mutations:{push_instruments(t,e){t.instruments=e},update_prices(t,e){t.gold_comex=e.gold_comex.ask,t.gold_ask=e.gold_tick.ask,t.silver_ask=e.silver_tick.ask,t.dollar=e.dollar.ask,t.instruments=t.instruments.map((function(t){return"gold_fut"===t.source_symbol?(t.bid=e.gold_tick.bid+t.buy_premium,t.ask=e.gold_tick.ask+t.sell_premium):"gold_bank"===t.source_symbol&&(t.bid=parseInt(e.gold_comex.ask*e.dollar.ask*31.1035*1.12875/.999/100)+t.buy_premium,t.ask=parseInt(e.gold_comex.ask*e.dollar.ask*31.1035*1.12875/.999/100)+t.sell_premium),t.high=Math.max(t.bid,t.high,t.ask),t.low=Math.min(t.bid,t.low,t.ask),t}))},set_token(t,e){t.token=e},set_sheet(t,e){t.bottom_sheet=e},update_instrument(t,e){for(var s=0;s<t.instruments.length;s++)t.instruments[s].instrument_id===e.instrument_id&&(t.instruments[s]=e,console.log("updating instrument"))},show_snackbar(t,e){t.snackbar=!0,t.snackbar_message=e},push_vendors(t,e){t.vendors=e},set_selected(t,e){t.order_item=e},set_best_limit_sheet(t,e){t.bottom_best_limit_sheet=e},set_order_details(t,e){t.order_details_selected=e},set_orders(t,e){new Promise((function(s){t.orders=e.map((e=>(e.instrument=t.instruments.find((t=>t.instrument_id===e.instrument_id)),e))),s()})).then((()=>{t.orders.sort(((t,e)=>new Date(e.created_at)-new Date(t.created_at)))})).then((()=>{console.log("setting orders as per state"),t.active_orders=t.orders.filter((t=>"WAITING_FOR_LIMIT"===t.status)),t.executed_orders_waiting=t.orders.filter((t=>"OPEN"===t.status)),t.executed_orders_waiting.sort(((t,e)=>new Date(e.created_at)-new Date(t.created_at))),t.executed_orders_confirmed=t.orders.filter((t=>"EXECUTED"===t.status)),t.closed_orders=t.orders.filter((t=>"CLOSED"===t.status)),t.orders_to_rate=t.orders.filter((t=>"CLOSED"===t.status&&!1===t.is_rated))}))}},actions:{push_instruments({commit:t},e){t("push_instruments",e)},update_prices({commit:t},e){t("update_prices",e)},update_instrument({commit:t},e){t("update_instrument",e)},push_vendors({commit:t},e){t("push_vendors",e)},set_sheet({commit:t},e){t("set_sheet",e)},set_best_limit_sheet({commit:t},e){t("set_best_limit_sheet",e)},set_order_item({commit:t},e){t("set_selected",e)},show_snackbar({commit:t},e){t("show_snackbar",e)},set_token({commit:t},e){t("set_token",e)},set_order_details({commit:t},e){t("set_order_details",e)},set_orders({commit:t},e){t("set_orders",e)}},modules:{},getters:{get_instruments:t=>t.instruments,get_filtered_instruments:t=>{console.log(t.selected_filters.delivery_to);var e={};return e=t.selected_filters.delivery_to.length>0?t.instruments.filter((e=>new Date(e.delivery_to)>=new Date(t.selected_filters.delivery_to))):t.instruments,e},get_instrument:t=>e=>t.instruments.find((t=>t.instrument_id===e)),get_all_vendors:t=>t.vendors,get_vendor_instruments:t=>e=>{var s={};return s.instruments=t.instruments.filter((t=>t.vendor_id===e)),console.log(e),console.log(t.vendors),s.vendor=t.vendors.find((t=>t.vendor_id===e)),s},get_favourite_instruments:t=>{console.log(t)},get_order_item:t=>t.order_item,get_sheet:t=>t.bottom_sheet,get_vendor_from_id:t=>e=>{const s=t.vendors.find((t=>t.vendor_id===e));return s},get_best_limit_sheet:t=>t.bottom_best_limit_sheet}}),b=s("8c4f"),q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{},[t.logged_in?s("div",[t.$store.state.is_activated?t._e():s("q-card",{attrs:{square:""}},[s("div",{staticClass:"q-pa-sm bg-primary"},[s("div",{staticClass:"text-white",staticStyle:{"font-weight":"bold"}},[t.$store.state.requested_registration?s("div",[t._v("We will register this account as soon as possible")]):s("div",[s("q-btn",{staticClass:"text-black bg-white",on:{click:function(e){return t.$router.push("Registration")}}},[t._v(" Activate ")]),t._v(" Â  your account to place orders")],1)])])])],1):t._e()]),s("div",{staticClass:"row"},[s("q-space")],1),s("TickerPriceTable",{attrs:{render_best:!0,title:"Live Rate",instruments_to_render:t.instruments_to_render}}),s("TopVendors",{staticClass:"mobile-hide",attrs:{vendors:t.vendors_computed}}),s("MobileMarketing")],1)},y=[],w=s("6428"),k=s("4bff"),C=s("c993"),x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.$q.platform.is.mobile?t._e():s("q-card",{staticClass:"q-ma-sm"},[s("q-card-section",[s("div",{staticClass:"bg-light-blue-2"},[s("div",{staticClass:"bg-white row  text-white"},[s("div",{},[s("span",{staticClass:"q-ma-sm font-bold text-primary row text-h6"},[t._v("\n        Experience zlato on the go\n      ")]),s("span",{staticClass:"q-ma-sm font-bold text-primary row "},[t._v("\n        Convenience is garunteed with our robust order placement engines\n        and high priority on experience\n      ")]),s("q-btn",{staticClass:"q-pl-sm q-pr-sm q-ma-sm bg-primary",attrs:{dense:"",flat:"",icon:"mdi-apple"}},[t._v("IOS")]),s("q-btn",{staticClass:"q-pl-sm q-pr-sm q-ma-sm bg-primary",attrs:{dense:"",flat:"",icon:"mdi-android"}},[t._v("Android")])],1)])])])],1)],1)},S=[],$={name:"MobileMarketing"},O=$,T=s("f09f"),Q=s("a370"),I=s("068f"),D=s("9c40"),E=s("eebe"),L=s.n(E),A=Object(_["a"])(O,x,S,!1,null,"5edc2fa6",null),P=A.exports;L()(A,"components",{QCard:T["a"],QCardSection:Q["a"],QImg:I["a"],QBtn:D["a"]});var M={name:"Home",components:{MobileMarketing:P,TickerPriceTable:k["a"],TopVendors:w["a"]},data(){return{slide:"gold 999",tab:"All",filter:!1,headers:[{name:"Vendor",align:"start",field:"vendor",label:"Vendor"},{name:"Symbol",align:"start",field:"name",label:"Symbol"},{name:"Bid",align:"start",field:"bid",filterable:!0,label:"Bid"},{name:"Ask",align:"start",field:"ask",filterable:!0,label:"Ask"},{name:"High",align:"start",field:"high",filterable:!0,label:"High"},{name:"Low",align:"start",field:"low",filterable:!0,label:"Low"},{name:"favourite",align:"start",field:"is_favourite",label:""}],instruments:[]}},computed:{instruments_to_render:function(){return this.$store.getters.get_filtered_instruments},bottom_sheet:function(){return this.$store.getters.get_sheet},vendors_computed:function(){return this.$store.getters.get_all_vendors},logged_in:function(){const t=this.$q.localStorage.getItem("token");return""!==t&&null!==t&&"null"!==t}},methods:{setFilters:function(){},toggleFavourite:function(t){t.is_favourite=!t.is_favourite,!1===t.is_favourite?Object(C["k"])(t.instrument_id).then((e=>{this.$q.notify({message:"Removed "+t.vendor+" "+t.name+" from favourites",timeout:2e3,position:"top-right",color:"primary"})})):Object(C["b"])(t).then((e=>{this.$q.notify({message:"Added "+t.vendor+" "+t.name+" from favourites",timeout:2e3,position:"top-right",color:"primary"})}))},open_order_sheet:function(t){console.log("open order sheet called"),this.$store.dispatch("set_order_item",t),this.$store.dispatch("set_sheet",!0)}},created(){this.$store.state.rightDrawerOpen=!1}},B=M,j=(s("e8bc"),s("2c91")),N=Object(_["a"])(B,q,y,!1,null,"3bf5a89e",null),z=N.exports;L()(N,"components",{QCard:T["a"],QBtn:D["a"],QSpace:j["a"]});var F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"q-app"}},[s("q-dialog",{model:{value:t.filterDialog,callback:function(e){t.filterDialog=e},expression:"filterDialog"}},[s("q-card",[s("q-card-section",{staticClass:"row items-center q-pb-none"},[s("div",{staticClass:"text-h6"},[t._v("Filters")]),s("q-space"),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),s("q-card-section",[s("div",{staticClass:"text-h6"},[t._v("Delivery Till")]),s("div",{staticClass:"q-pa-md"},[s("div",{staticClass:"q-pb-sm"}),s("q-date",{model:{value:t.custom_delivery_date,callback:function(e){t.custom_delivery_date=e},expression:"custom_delivery_date"}})],1)]),s("q-card-section",[s("q-btn",{attrs:{label:"Apply"},on:{click:function(e){return t.applyFilters()}}})],1)],1)],1),s("q-layout",{attrs:{view:"lHh Lpr fFf"}},[s("q-header",{staticClass:"bg-white text-dark",attrs:{elevated:"",bordered:""}},[s("q-toolbar",{staticClass:"shadow-2"},[s("q-toolbar-title",{staticClass:"font-bold"},[s("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"menu"},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}}),s("q-img",{attrs:{src:t.imageSrc,transition:"scale-transition",width:"50px"}}),"Home"===t.currentRouteName?s("span",{staticClass:"font-extrabold q-ml-sm "},[t._v("DeltaBX")]):s("span",{staticClass:"font-extrabold q-ml-sm "},[t._v(" "+t._s(t.currentRouteName))])],1),s("div",[s("span",{staticClass:"color:grey mobile-hide"},[s("q-btn",{attrs:{flat:""}},[s("router-link",{staticClass:"text-primary",staticStyle:{"text-decoration":"None"},attrs:{to:"Home"}},[s("q-icon",{staticClass:"lt-md",attrs:{size:"md",name:"mdi-home"}})],1)],1),s("q-btn",{attrs:{flat:""}},[s("router-link",{staticClass:"text-primary",staticStyle:{"text-decoration":"None"},attrs:{to:"Orders"}},[s("q-icon",{staticClass:"lt-md",attrs:{size:"md",name:"mdi-cart"}})],1)],1),s("q-btn",{attrs:{flat:""}},[s("router-link",{staticClass:"text-primary",staticStyle:{"text-decoration":"None"},attrs:{to:"Favourites"}},[s("q-icon",{staticClass:"lt-md",attrs:{size:"md",name:"mdi-star"}})],1)],1),s("q-btn",{attrs:{flat:""}},[s("router-link",{staticClass:"text-primary",staticStyle:{"text-decoration":"None"},attrs:{to:"Account"}},[s("q-icon",{staticClass:"lt-md",attrs:{size:"md",name:"mdi-account"}})],1)],1)],1)])],1),s("q-toolbar",{staticClass:"text-dark bg-white justify-evenly",staticStyle:{"font-weight":"bold"}},[s("div",{},[t._v("Gold($) :"+t._s(t.$store.state.gold_comex))]),t.$q.platform.is.mobile?t._e():s("div",{},[t._v("Gold :"+t._s(t.$store.state.gold_ask))]),s("div",{},[t._v("Silver: "+t._s(t.$store.state.silver_ask))]),s("div",{},[t._v("Dollar: "+t._s(t.$store.state.dollar))])])],1),s("q-drawer",{attrs:{"show-if-above":"",bordered:"","content-class":"bg-grey-1"},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[s("q-img",{staticClass:"absolute-top",staticStyle:{height:"150px"},attrs:{src:"https://source.unsplash.com/featured?nature,water"}},[s("div",{staticClass:"absolute-bottom "},[t.$store.state.user_details?s("div",{staticClass:"text-weight-bold"},[t._v(t._s(t.$store.state.user_details.username))]):s("div",{staticClass:"text-weight-bold"},[t._v("DeltaBX")]),s("div",[t._v("Mumbai")])])]),s("q-scroll-area",{staticStyle:{height:"calc(100% - 150px)","margin-top":"150px","border-right":"1px solid #ddd"}},[s("q-list",[t._l(t.essentialLinks,(function(e){return s("EssentialLink",t._b({key:e.title},"EssentialLink",e,!1))})),t._l(t.extraLinks,(function(e){return s("EssentialLink",t._b({key:e.title},"EssentialLink",e,!1))}))],2)],1)],1),s("q-drawer",{attrs:{side:"right","show-if-above":"",bordered:"","content-class":"bg-grey-1"},model:{value:t.$store.state.rightDrawerOpen,callback:function(e){t.$set(t.$store.state,"rightDrawerOpen",e)},expression:"$store.state.rightDrawerOpen"}},[s("q-scroll-area",{staticStyle:{height:"calc(100% - 0px)","margin-top":"0px","border-right":"1px solid #ddd"}},[s("q-list",[s("q-tree",{attrs:{"default-expand-all":"",nodes:t.filters,"selected-color":"primary",selected:t.active_label,"node-key":"label","no-connectors":""},on:{"update:selected":function(e){t.active_label=e}},scopedSlots:t._u([{key:"default-header",fn:function(e){return[s("div",{staticClass:"row items-center"},[s("div",{staticClass:"text-weight-bold text-primary"},[t._v(t._s(e.node.label))])])]}}])})],1)],1)],1),s("q-page-container",[s("router-view")],1),t.$q.platform.is.mobile?s("q-footer",{staticClass:" bg-white text-white"},[s("q-tabs",{staticClass:"bg-white text-grey-9 shadow-2",attrs:{"indicator-color":"transparent","active-color":"primary",align:"justify"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.essentialLinks,(function(e){return s("q-tab",{key:e.title,attrs:{name:e.title,icon:e.icon,label:e.alias,"indicator-color":"transparent","active-color":"white"},on:{click:function(s){return t.$router.push(e.title)}}})})),1)],1):t._e()],1),s("BottomOrderDialog"),s("BestLimitBottomOrderDialog"),s("OrderDetailsBottom")],1)])},H=[],R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-dialog",{staticStyle:{width:"50%"},attrs:{position:"bottom"},model:{value:t.$store.state.bottom_sheet,callback:function(e){t.$set(t.$store.state,"bottom_sheet",e)},expression:"$store.state.bottom_sheet"}},[t.order_item?s("div",[s("q-card",{},[s("q-card-section",{staticClass:"bg-primary",staticStyle:{color:"white"}},[s("div",{staticClass:"q-pa-md"},[s("span",{staticClass:"text-h6"},[t._v(t._s(t.order_item.vendor))]),s("span",{staticClass:"q-ml-md font-bold"},[t._v(t._s(t.order_item.name))]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("span",{staticClass:" text-right q-ml-sm"},[t._v("B:"+t._s(t.order_item.bid))]),s("span",{staticClass:"text-right q-ml-sm"},[t._v("A:"+t._s(t.order_item.ask))])]),s("div",{staticClass:"col-6"},[s("q-btn",{staticClass:"bg-white text-primary text-right q-pl-sm q-pr-sm",attrs:{size:"sm",flat:"",dense:""},on:{click:function(e){return t.open_best_limit_sheet()}}},[t._v("Add multiple")])],1)])])]),s("q-tabs",{staticClass:"text-grey",attrs:{"active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab",{attrs:{name:"MARKET",label:"MARKET"}}),s("q-tab",{attrs:{name:"LIMIT",label:"LIMIT"}})],1),s("q-separator"),s("q-tab-panels",{attrs:{swipeable:"",animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab-panel",{attrs:{name:"MARKET"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{type:"number",standout:"text-white",label:"Quantity(gms)",rules:t.quantity_rules},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}})],1),s("div",{staticClass:"col"},[s("q-input",{staticClass:"q-ml-lg",attrs:{type:"number","stack-label":"",readonly:"",label:"Price"},model:{value:t.order_item.ask,callback:function(e){t.$set(t.order_item,"ask",e)},expression:"order_item.ask"}})],1)])]),s("q-tab-panel",{attrs:{name:"LIMIT"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{type:"number",standout:"text-white",label:"Quantity(gms)",rules:t.quantity_rules},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}})],1),s("div",{staticClass:"col"},[s("q-input",{staticClass:"q-ml-md",attrs:{type:"number",standout:"text-white","stack-label":"",label:t.order_item.ask.toString()},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1)])])],1),s("q-card-section",{staticStyle:{"background-color":"white"}},[s("q-btn",{staticClass:"bg-primary text-white",on:{click:function(e){return t.place_order()}}},[t._v("Buy")]),s("q-btn",{staticClass:"q-ml-md btn-danger",on:{click:function(e){return t.set_sheet_close()}}},[t._v("Close")])],1)],1)],1):t._e()])},V=[];const U=[{title:"Home",caption:"HomePage",icon:"mdi-home",link:"https://quasar.dev"},{title:"Orders",caption:"See your orders",icon:"mdi-bag-checked",link:"https://github.com/quasarframework"},{title:"Favourites",caption:"See your favourites and compare",icon:"mdi-heart",link:"https://chat.quasar.dev"},{title:"Account",caption:"Settings for your account",icon:"mdi-account",link:"https://forum.quasar.dev"}];var G={name:"BottomOrderDialog",computed:{logged_in:function(){const t=this.$q.localStorage.getItem("token");return""!==t&&null!==t&&"null"!==t},get_set_sheet:function(){return this.$store.getters.get_sheet},order_item:function(){return this.$store.getters.get_order_item}},methods:{set_sheet_close:function(){this.$store.state.bottom_sheet=!1},open_best_limit_sheet:function(){this.$store.state.bottom_sheet=!1,this.$store.state.bottom_best_limit_sheet=!0},place_order:function(){if(this.logged_in){if(console.log("logged in hence placing order"),console.log("placing order for "+this.order_item.instrument_id+this.quantity+this.price+this.tab+"BUY"),this.$store.state.bottom_sheet=!1,"MARKET"===this.tab)var t={side:"BUY",instrument_id:this.order_item.instrument_id,quantity:this.quantity,price:this.order_item.ask,type:this.tab,status:"OPEN"};else t={side:"BUY",instrument_id:this.order_item.instrument_id,quantity:this.quantity,price:this.price,type:this.tab,status:"WAITING_FOR_LIMIT"};const e=this.$store;Object(C["i"])(t).then((t=>{console.log(t);const s=this.$q.notify({spinner:!0,group:!1,message:"Please wait...",timeout:1e4,position:"top-right",color:"primary"});void 0!==t.order_id?(s({spinner:!1,html:!0,message:"<h6> Order has been placed </h6>",caption:"Please check orders for details",position:"top-right",color:"positive",timeout:2e3}),t.instrument=e.getters.get_instrument(t.instrument_id),e.state.order_details_selected=t,e.state.order_details_bottom_sheet=!0):s({spinner:!1,html:!0,message:"Order could not be placed due to :",caption:"<h6>"+t+"<h6>",position:"top-right",color:"negative",timeout:1e4})}))}else this.$router.push({name:"Login",params:{message:"Please login to place orders"}})}},data(){return{tab:"MARKET",quantity:1e3,price:"",imageSrc:"/logo.png",leftDrawerOpen:!1,essentialLinks:U,quantity_rules:[t=>!!t||"* Required",t=>parseInt(t)%100===0||"Should be multiple of 100gms"]}}},J=G,W=s("24e8"),K=s("429b"),X=s("7460"),Y=s("eb85"),Z=s("adad"),tt=s("823b"),et=s("27f9"),st=Object(_["a"])(J,R,V,!1,null,"514baf8c",null),at=st.exports;L()(st,"components",{QDialog:W["a"],QCard:T["a"],QCardSection:Q["a"],QBtn:D["a"],QTabs:K["a"],QTab:X["a"],QSeparator:Y["a"],QTabPanels:Z["a"],QTabPanel:tt["a"],QInput:et["a"]});var rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:t.title}},[s("q-item",{attrs:{clickable:"",tag:"a",target:"_blank"}},[t.icon?s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{staticClass:"text-primary",attrs:{name:t.icon}})],1):t._e(),s("q-item-section",{staticClass:"text-primary"},[t._v("\n      "+t._s(t.title)+"\n    ")])],1)],1)},ot=[],it={name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""}}},nt=it,lt=s("66e5"),ct=s("4074"),dt=s("0016"),ut=Object(_["a"])(nt,rt,ot,!1,null,null,null),mt=ut.exports;L()(ut,"components",{QItem:lt["a"],QItemSection:ct["a"],QIcon:dt["a"]});var pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-dialog",{staticStyle:{width:"50%"},attrs:{position:"bottom"},model:{value:t.$store.state.bottom_best_limit_sheet,callback:function(e){t.$set(t.$store.state,"bottom_best_limit_sheet",e)},expression:"$store.state.bottom_best_limit_sheet"}},[s("q-card",{},[s("q-card-section",{staticClass:"bg-primary",staticStyle:{color:"white"}},[s("div",{staticClass:"q-pa-md"},[s("span",{staticClass:"text-h6"},[t._v("Best limit order")]),s("q-select",{attrs:{filled:"",multiple:"",options:t.order_items,"use-chips":"","stack-label":"",label:"Multiple selection"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)]),s("q-separator"),s("div",{staticClass:"q-ma-md row"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{type:"number",standout:"text-white",label:"Quantity(gms)",rules:t.quantity_rules},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}})],1),s("div",{staticClass:"col"},[s("q-input",{staticClass:"q-ml-md",attrs:{standout:"text-white",type:"number"},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1)]),s("q-card-section",{staticStyle:{"background-color":"white"}},[s("q-btn",{staticClass:"bg-primary text-white",on:{click:function(e){return t.place_order()}}},[t._v("Buy")]),s("q-btn",{staticClass:"q-ml-md btn-danger",on:{click:function(e){return t.set_sheet_close()}}},[t._v("Close")])],1)],1)],1)},_t=[];const ht=[{title:"Home",caption:"HomePage",icon:"mdi-home",link:"https://quasar.dev"},{title:"Orders",caption:"See your orders",icon:"mdi-bag-checked",link:"https://github.com/quasarframework"},{title:"Favourites",caption:"See your favourites and compare",icon:"mdi-heart",link:"https://chat.quasar.dev"},{title:"Account",caption:"Settings for your account",icon:"mdi-account",link:"https://forum.quasar.dev"}];var ft={name:"BestLimitBottomOrderDialog",computed:{min_quantity:function(){var t=100;return this.selected.forEach((e=>{parseInt(e.value.quantity)>t&&(t=parseInt(e.value.quantity))})),console.log(t),t},logged_in:function(){const t=this.$q.localStorage.getItem("token");return""!==t&&null!==t&&"null"!==t},favourite_items:function(){return this.$store.state.instruments.filter((t=>!0===t.is_favourite))},get_set_sheet:function(){return this.$store.getters.get_best_limit_sheet},order_item:function(){return this.$store.getters.get_order_item},order_items:function(){return this.$store.state.instruments.filter((t=>!0===t.is_favourite)).map((t=>({label:t.vendor+":"+t.name,value:t})))}},methods:{set_sheet_close:function(){this.$store.state.bottom_best_limit_sheet=!1},place_order:function(){if(this.logged_in){console.log("logged in hence placing order"),console.log(this.selected);var t={side:"BUY",instrument_id:this.selected.map((t=>t.value.instrument_id)),quantity:this.quantity,price:this.price,type:"BEST_LIMIT",status:"WAITING_FOR_LIMIT"};Object(C["i"])(t).then((t=>{console.log(t);const e=this.$q.notify({spinner:!0,group:!1,message:"Please wait...",timeout:1e4,position:"top-right",color:"primary"});void 0!==t.order_id?e({spinner:!1,html:!0,message:"<h6> Order has been placed </h6>",caption:"Please check orders for details",position:"top-right",color:"positive",timeout:2e3}):e({spinner:!1,html:!0,message:"Order could not be placed due to :",caption:"<h6>"+t+"<h6>",position:"top-right",color:"negative",timeout:1e4})}))}else this.$router.push({name:"Login",params:{message:"Please login to place orders"}})}},data(){return{tab:"MARKET",quantity:100,price:"",imageSrc:"/logo.png",leftDrawerOpen:!1,essentialLinks:ht,quantity_rules:[t=>!!t||"* Required",t=>parseInt(t)%100===0||"Should be multiple of 100gms",t=>parseInt(t)>=this.min_quantity||"Min Quantity for this order is"+this.min_quantity],options:[],selected:[]}},created(){console.log("created best limit order form bottom ")}},vt=ft,gt=s("ddd8"),bt=Object(_["a"])(vt,pt,_t,!1,null,"633f6a70",null),qt=bt.exports;L()(bt,"components",{QDialog:W["a"],QCard:T["a"],QCardSection:Q["a"],QSelect:gt["a"],QSeparator:Y["a"],QInput:et["a"],QBtn:D["a"]});var yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-dialog",{attrs:{position:"bottom"},model:{value:t.$store.state.order_details_bottom_sheet,callback:function(e){t.$set(t.$store.state,"order_details_bottom_sheet",e)},expression:"$store.state.order_details_bottom_sheet"}},[s("q-card",{},[s("q-card-section",{staticClass:"bg-white",staticStyle:{color:"white"}},[s("div",{staticClass:"q-pa-sm"},[s("span",{staticClass:"text-h6 text-grey-10"},[t._v("Order details")]),s("q-chip",{staticClass:"q-ml-lg",attrs:{outline:"",color:"black",dense:""}},[t._v("ID : "+t._s(t.order.transaction_id))]),s("q-chip",{attrs:{outline:"",color:"primary",dense:""}},[t._v(" Price : "+t._s(t.order.price))])],1)]),s("q-separator"),s("div",{staticClass:"row q-ma-sm"},[s("div",{staticClass:"col q-ml-sm"},[t._v(t._s(t.order.instrument.name))]),s("div",{staticClass:" q-ml-sm"},[s("q-chip",{attrs:{dense:"",outline:"",color:"orange"}},[t._v(t._s(t.order.side)+" ")]),t._v(t._s(t.order.quantity))],1)]),s("q-separator"),s("div",{staticClass:"row q-ma-sm"},[s("span",{staticClass:"q-ml-sm col",staticStyle:{color:"grey"}},[s("q-icon",{attrs:{name:"mdi-clock"}}),t._v(t._s(t.get_formated_time))],1),"EXECUTED"===t.order.status?s("div",["BEST_LIMIT"===t.order.type?s("q-chip",{attrs:{outline:"",color:"orange",dense:""}},[t._v("BEST_LIMIT")]):t._e(),s("q-chip",{attrs:{outline:"",size:"md",color:"green",dense:""}},[t._v("Payment confirmed")]),s("q-chip",{attrs:{outline:"",color:"blue",dense:""}},[t._v("OTP:"+t._s(t.order.otp))])],1):t._e(),"OPEN"===t.order.status?s("div",["BEST_LIMIT"===t.order.type?s("q-chip",{attrs:{outline:"",color:"orange",dense:""}},[t._v("BEST_LIMIT")]):t._e(),s("q-chip",{attrs:{outline:"",color:"blue",dense:""}},[t._v("Waiting for payment")])],1):t._e(),"WAITING_FOR_LIMIT"===t.order.status?s("div",["BEST_LIMIT"===t.order.type?s("q-chip",{attrs:{outline:"",color:"orange",dense:""}},[t._v("BEST_LIMIT")]):t._e(),s("q-chip",{attrs:{outline:"",color:"blue",dense:""}},[t._v("Limit Order waiting")]),t.is_cancelled?s("q-chip",{attrs:{outline:"",color:"red",dense:""}},[t._v("Cancelled")]):s("q-btn",{attrs:{outline:"",color:"black",dense:""},on:{click:function(e){return t.cancel_limit_order()}}},[t._v("CANCEL")])],1):t._e(),"CLOSED"===t.order.status?s("div",[s("q-chip",{attrs:{outline:"",color:"green",dense:""}},[t._v("Closed")])],1):t._e()]),s("q-separator"),"OPEN"===this.order.status?s("strong",{staticClass:"q-ma-md"},[t._v("\n          Please make payment at\n      ")]):t._e(),"EXECUTED"===this.order.status?s("strong",{staticClass:"q-ma-md"},[t._v("\n          Please collect delivery using the otp from\n      ")]):t._e(),s("div",{staticClass:"q-pa-sm"},[s("q-card",[s("q-card-section",{style:{backgroundColor:t.vendor.theme.css_header_background_color}},[s("div",{staticClass:"row",on:{click:function(e){return t.open_vendor_dialog(t.vendor.vendor_id)}}},[s("div",{staticClass:"col-3"},[s("q-img",{attrs:{width:"80px",src:t.base_url+t.vendor.theme.logo}})],1),s("div",{staticClass:"col-9"},[s("div",{staticClass:"q-ml-sm text-white",staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.vendor.name))]),s("q-separator",{attrs:{color:"white"}}),s("div",{staticClass:"q-ml-sm text-white"},[t._v(t._s(t.vendor.vendor_details.collection_address))]),s("div",{staticClass:"q-ml-sm text-white"},[t._v("Bank: "+t._s(t.vendor.vendor_details.bank_details))]),s("div",{staticClass:"q-ml-sm text-white"},[t._v("Call: "+t._s(t.vendor.vendor_details.mobile_number_1)+" /"+t._s(t.vendor.vendor_details.mobile_number_2)+" ")])],1)])])],1)],1),s("q-separator")],1)],1)},wt=[],kt={name:"OrderDetailsBottom",computed:{logged_in:function(){const t=this.$q.localStorage.getItem("token");return""!==t&&null!==t&&"null"!==t},get_formated_time(){const t=new Date(this.order.created_at);return t.toLocaleString("en-GB")},get_set_sheet:function(){return this.$store.state.order_details_bottom_sheet},order_item:function(){return this.$store.getters.get_order_item},order_items:function(){return this.$store.state.instruments.filter((t=>!0===t.is_favourite)).map((t=>({label:t.vendor+":"+t.name,value:t})))},order:function(){return this.$store.state.order_details_selected},vendor:function(){return this.$store.getters.get_vendor_from_id(this.$store.state.order_details_selected.instrument.vendor_id)}},methods:{set_sheet_close:function(){this.$store.state.order_details_bottom_sheet=!1},cancel_limit_order(){console.log("limit order cancellation request for"+this.order),Object(C["e"])({order_id:this.order.order_id}).then((t=>{this.cancelled=!0})).then(this.$store.state.order_details_bottom_sheet=!1)},open_vendor_dialog:function(t){var e=this.$store.getters.get_vendor_instruments(t);this.$router.push({name:"Vendor",params:{vendor_object:e}})}},data(){return{base_url:C["c"]}},created(){}},Ct=kt,xt=s("b047"),St=Object(_["a"])(Ct,yt,wt,!1,null,"3e18964c",null),$t=St.exports;L()(St,"components",{QDialog:W["a"],QCard:T["a"],QCardSection:Q["a"],QChip:xt["a"],QSeparator:Y["a"],QIcon:dt["a"],QBtn:D["a"],QImg:I["a"]});var Ot=s("8e27");const Tt=[{title:"Vendors",icon:"mdi-gold",mobile:!1}],Qt=[{title:"Home",icon:"mdi-home",alias:"Home",mobile:!0},{title:"Favourites",alias:"Favs",icon:"mdi-star",mobile:!0},{title:"Orders",icon:"mdi-cart",alias:"Orders",mobile:!0},{title:"Account",icon:"mdi-account",alias:"Account",mobile:!0}];var It={name:"Main",components:{OrderDetailsBottom:$t,BestLimitBottomOrderDialog:qt,EssentialLink:mt,BottomOrderDialog:at},computed:{is_activated:function(){return!this.$store.getters.get_is_activated},logged_in:function(){const t=this.$q.localStorage.getItem("token");return""===t||null===t||"null"===t?(console.log("returning false"),!1):(console.log("returning true"),!0)},currentRouteName:function(){return console.log(this.$route.name),this.$route.name}},methods:{applyFilters(){this.$store.state.selected_filters.delivery_to=this.custom_delivery_date},login_action:function(){console.log(this.email+this.password),this.connect_jwt()},connect_data:function(){const t=Object(Ot["io"])("http://209.59.158.15:3001/",{secure:!0,transports:["websocket"],rejectUnauthorized:!1,reconnect:!0});t.on("mcxratesupdate:App\\Events\\MCXRateUpdates",(function(t){t.updatedata})),t.io.on("connection",(function(t){console.log("connected")}))},connect_websocket:function(){const t=this.connect_websocket,e=this.$store;document.cookie="authorization="+this.$q.localStorage.getItem("token")+";";const s="wss://"+C["d"]+"/ws/ticker/?"+this.$q.localStorage.getItem("token"),a=new WebSocket(s);a.onopen=function(){n["a"].create({message:"Connected to high speed market data ",position:"top-right",timeout:1e3}),a.send(JSON.stringify({type:"ticker_request",message:"Please send all symbols"})),a.send(JSON.stringify({type:"vendor_request",message:"Please send all vendors"}))},a.onmessage=function(t){var s=JSON.parse(t.data);if(s.instruments){var a=JSON.parse(s.instruments);if(s.favourites){let t=JSON.parse(s.favourites);t=t.map((t=>t.instrument_id)),console.log(a),a=a.map((t=>(t.is_favourite=!1,t)));for(let e=0;e<a.length;e++)for(let s=0;s<t.length;s++)t[s]===a[e].instrument_id&&(a[e].is_favourite=!0)}e.dispatch("push_instruments",a),Object(C["f"])().then((t=>{e.dispatch("set_orders",t)}))}if(s.gold_tick&&e.dispatch("update_prices",s),s.instrument_update){console.log("instrument_update received");var r=JSON.parse(s.instrument_update);console.log(r),e.dispatch("update_instrument",r)}if(s.vendors){var o=s.vendors.map((t=>(t.theme=JSON.parse(t.theme)[0],t.vendor_details=JSON.parse(t.vendor_details)[0],t)));e.dispatch("push_vendors",o)}if(s.order_update){const t=JSON.parse(s.order_update);n["a"].create({message:"order update recieved "+t.status,position:"top-right"})}},a.onclose=function(e){console.log(e),setTimeout((function(){console.log("websocket disconnected reconnecting "),t()}),2e3)}},connect_jwt:function(){const t=this.$store,e=this.$router;var a=s("bc3a"),r={username:this.email,password:this.password},o={method:"post",url:"http://127.0.0.1:8000/api/rest-auth/login/",headers:{"Content-Type":"application/json"},data:r};const i=this.connect_websocket,n=this.$q;a(o).then((function(s){console.log(n.localStorage.getItem("token")),t.dispatch("set_token",s.data.key),console.log("before checking"+n.localStorage.getItem("token")),n.localStorage.set("token",s.data.key),console.log("pushing to home"),e.push("/"),i()})).catch((function(t){console.log(t)}))},get_orders(){},get_user_details(){},deliveryFilter(t){if("Today"===t){const t=new Date,e=t.getDate(),s=t.getMonth()+1,a=t.getFullYear();this.$store.state.selected_filters.delivery_to=a+"-"+s+"-"+e}else if("Tomorrow"===t){const t=new Date((new Date).getTime()+864e5),e=t.getDate(),s=t.getMonth()+1,a=t.getFullYear();this.$store.state.selected_filters.delivery_to=a+"-"+s+"-"+e}else if("Day After"===t){const t=new Date((new Date).getTime()+1728e5),e=t.getDate(),s=t.getMonth()+1,a=t.getFullYear();this.$store.state.selected_filters.delivery_to=a+"-"+s+"-"+e}else"Custom"===t?this.filterDialog=!0:"None"===t&&(this.$store.state.selected_filters.delivery_to="")}},data(){return{custom_delivery_date:"",active_label:"None",email:"",password:",",essentialLinks:Qt,extraLinks:Tt,imageSrc:"logo.png",leftDrawerOpen:!1,rightDrawerOpen:!1,tab:"Home",orders_to_rate:[],orders:[],filters:[{label:"Delivery",children:[{label:"Today",handler:()=>this.deliveryFilter("Today"),icon:"mdi-van"},{label:"Tommorow",handler:()=>this.deliveryFilter("Tomorrow"),icon:"room_service"},{label:"Day After",handler:()=>this.deliveryFilter("Day After"),icon:"room_service"},{label:"Custom",handler:()=>this.deliveryFilter("Custom"),icon:"photo"},{label:"None",handler:()=>this.deliveryFilter("None")}]}],filterDialog:!1,selected_filters:{delivery_to:""}}},created(){this.$router.push("Home"),this.connect_websocket();const t=this.$store;this.logged_in?Object(C["g"])().then((e=>{t.state.is_activated=e.is_activated,t.state.requested_registration=e.requested_registration,t.state.user_details=e})).catch((t=>{console.log(t),this.$store.state.token=""})):this.$q.is.mobile&&this.$router.push()}},Dt=It,Et=s("52ee"),Lt=s("4d5a"),At=s("e359"),Pt=s("65c6"),Mt=s("6ac5"),Bt=s("9404"),jt=s("cb32"),Nt=s("4983"),zt=s("1c1c"),Ft=s("0170"),Ht=s("7f41"),Rt=s("09e3"),Vt=s("7ff0"),Ut=s("7f67"),Gt=Object(_["a"])(Dt,F,H,!1,null,null,null),Jt=Gt.exports;L()(Gt,"components",{QDialog:W["a"],QCard:T["a"],QCardSection:Q["a"],QSpace:j["a"],QBtn:D["a"],QDate:Et["a"],QLayout:Lt["a"],QHeader:At["a"],QToolbar:Pt["a"],QToolbarTitle:Mt["a"],QImg:I["a"],QIcon:dt["a"],QDrawer:Bt["a"],QAvatar:jt["a"],QScrollArea:Nt["a"],QList:zt["a"],QItemLabel:Ft["a"],QTree:Ht["a"],QPageContainer:Rt["a"],QFooter:Vt["a"],QTabs:K["a"],QTab:X["a"]}),L()(Gt,"directives",{ClosePopup:Ut["a"]});var Wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"q-pa-md"},[s("q-table",{attrs:{grid:"","card-class":"bg-primary text-white",title:"Margins from vendors",data:t.margins,columns:t.columns,"row-key":"name",filter:t.filter,"hide-header":""},scopedSlots:t._u([{key:"top-right",fn:function(){return[s("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"item",fn:function(e){return[s("div",{staticClass:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},[s("q-card",[s("q-card-section",{staticClass:"text-center"},[s("q-img",{attrs:{width:"40px",src:t.get_logo_url(e.row.vendor.theme.logo)}}),s("strong",{staticClass:"q-pa-sm"},[t._v(t._s(e.row.vendor.name))])],1),s("q-separator"),s("q-card-section",{},[s("div",{staticClass:"row"},[t._v("Margin: "+t._s(e.row.margin)+" gms")]),s("div",{staticClass:"row"},[t._v("Available: "+t._s(e.row.margin_available)+" gms")])])],1)],1)]}}])})],1)])},Kt=[],Xt={name:"UserMargins",methods:{get_logo_url(t){return C["c"].concat(t)}},data:function(){return{margins:[],filter:"",columns:[{name:"vendor",required:!0,label:"Vendor",align:"left",field:t=>t.vendor.name,format:t=>`${t}`,sortable:!0},{name:"margin",align:"center",label:"Margin",field:"margin",sortable:!0},{name:"margin_available",label:"Margin Available",field:"margin_available",sortable:!0}]}},created(){console.log("requesting for margins"),Object(C["h"])().then((t=>{t.map((t=>{t.vendor=this.$store.getters.get_vendor_from_id(t.vendor)})),this.margins=t}))}},Yt=Xt,Zt=s("eaac"),te=Object(_["a"])(Yt,Wt,Kt,!1,null,"015e7b2c",null),ee=te.exports;L()(te,"components",{QTable:Zt["a"],QInput:et["a"],QIcon:dt["a"],QCard:T["a"],QCardSection:Q["a"],QImg:I["a"],QSeparator:Y["a"]});var se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"window-height window-width row justify-center items-center"},[s("div",{staticClass:"column q-pa-lg"},[s("strong",{staticClass:"text-h6"},[t._v(t._s(t.message))]),s("q-card-section",{},[s("div",{staticClass:"row"},[s("q-img",{attrs:{src:t.imageSrc,transition:"scale-transition",width:"50px"}}),s("strong",{staticClass:"text-h6 q-ml-md q-my-md"},[t._v("DeltaBX")])],1)]),s("q-separator",{attrs:{color:"orange",size:"5px"}}),s("q-card-section",[s("q-form",{staticClass:"q-px-sm q-pt-xl"},[s("q-input",{attrs:{square:"",clearable:"",type:"text",label:"Username","lazy-rules":"",rules:[function(t){return!!t||"Please provide a username"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"email"}})]},proxy:!0}]),model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("q-input",{attrs:{square:"",clearable:"",type:"email",label:"Email","lazy-rules":"",rules:[function(t){return!!t||"Email is missing!"},t.isValidEmail]},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"email"}})]},proxy:!0}]),model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("q-input",{attrs:{square:"",clearable:"",type:"password",label:"Password","lazy-rules":"",rules:[function(t){return t.length>=8||"Please enter a minimum of 8 characters"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"lock"}})]},proxy:!0}]),model:{value:t.password1,callback:function(e){t.password1=e},expression:"password1"}}),s("q-input",{attrs:{square:"",clearable:"",type:"password",label:"Re-type your password"},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"lock"}})]},proxy:!0}]),model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}})],1)],1),s("q-card-actions",{staticClass:"q-px-lg"},[s("q-btn",{staticClass:"full-width text-white",attrs:{unelevated:"",size:"lg",color:"primary",label:"Sign Up"},on:{click:function(e){return t.registerUser()}}})],1),s("q-card-section",{staticClass:"text-center q-pa-sm"},[s("p",{staticClass:"text-grey-6"},[t._v(" Forgot your password? ")])])],1)])])},ae=[],re={data(){return{username:"",email:"",password1:"",password2:"",imageSrc:"logo.png"}},methods:{registerUser(){if(this.password1!==this.password2)return void n["a"].create({message:"The passwords entered do not match!"});const t=s("bc3a"),e=this.$router,a={username:this.username,email:this.email,password1:this.password1,password2:this.password2,imageSrc:"logo.png"},r=this.$q,o={method:"post",url:"http://127.0.0.1:8000/api/rest-auth/registration",headers:{"Content-Type":"application/json"},data:a};t(o).then((t=>{r.localStorage.set("token",t.data.key),console.log("Pushed to home"),e.push("Home")})).catch((function(t){console.log(t),n["a"].create({message:"The password entered is too common",position:"top-right",timeout:1e3})}))},isValidEmail(){const t=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return t.test(this.email)||"Invalid email entered!"}}},oe=re,ie=s("0378"),ne=s("4b7e"),le=Object(_["a"])(oe,se,ae,!1,null,"51cb5d64",null),ce=le.exports;L()(le,"components",{QCardSection:Q["a"],QImg:I["a"],QSeparator:Y["a"],QForm:ie["a"],QInput:et["a"],QIcon:dt["a"],QCardActions:ne["a"],QBtn:D["a"]});const de=[{path:"/main",name:"Marketing",component:s.e(7).then(s.bind(null,"f559"))},{path:"/login",name:"Login",component:()=>s.e(3).then(s.bind(null,"013f")),props:!0},{path:"/register",name:"Register",component:ce},{path:"/",component:Jt,name:"Main",children:[{path:"home",component:z,name:"Home"},{path:"orders",component:()=>Promise.all([s.e(0),s.e(8)]).then(s.bind(null,"0b35")),name:"Orders"},{path:"favourites",component:()=>s.e(2).then(s.bind(null,"ddf4")),name:"Favourites"},{path:"account",name:"Account",component:()=>s.e(4).then(s.bind(null,"8c2d"))},{path:"vendor",name:"Vendor",component:()=>s.e(9).then(s.bind(null,"ed35")),props:!0},{path:"margins",name:"Margins",component:ee},{path:"registration",name:"Registration",component:()=>Promise.all([s.e(0),s.e(5)]).then(s.bind(null,"2f20"))},{path:"vendors",name:"Vendors",component:()=>s.e(10).then(s.bind(null,"30aa"))}]},{path:"*",component:()=>s.e(6).then(s.bind(null,"e51e"))}];var ue=de;a["a"].use(b["a"]);var me=function(){const t=new b["a"]({scrollBehavior:()=>({x:0,y:0}),routes:ue,mode:"hash",base:""});return t},pe=async function(){const t="function"===typeof g?await g({Vue:a["a"]}):g,e="function"===typeof me?await me({Vue:a["a"],store:t}):me;t.$router=e;const s={router:e,store:t,render:t=>t(f),el:"#q-app"};return{app:s,store:t,router:e}},_e=s("bc3a"),he=s.n(_e);a["a"].prototype.$axios=he.a;const fe="";async function ve(){const{app:t,store:e,router:s}=await pe();let r=!1;const o=t=>{r=!0;const e=Object(t)===t?s.resolve(t).route.fullPath:t;window.location.href=e},i=window.location.href.replace(window.location.origin,""),n=[void 0];for(let c=0;!1===r&&c<n.length;c++)if("function"===typeof n[c])try{await n[c]({app:t,router:s,store:e,Vue:a["a"],ssrContext:null,redirect:o,urlPath:i,publicPath:fe})}catch(l){return l&&l.url?void(window.location.href=l.url):void console.error("[Quasar] boot error:",l)}!0!==r&&new a["a"](t)}ve()},"31cd":function(t,e,s){},"4bff":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"q-ml-md q-mr-md q-mt-md row text-h6"},[s("div",{staticClass:"col"},[null==t.title?s("div",[t._v("\n            Watchlist\n        ")]):s("div",[t._v("\n        "+t._s(t.title)+"\n      ")])]),s("div",{staticClass:"row justify-center"},[t.search_selected?s("q-input",{staticClass:"q-ml-sm",attrs:{clearable:"",outlined:"",dense:"",debounce:"300",placeholder:"Search"},on:{clear:function(e){t.search_selected=!1}},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}):t._e(),t.search_selected?t._e():s("q-btn",{staticClass:"q-ml-sm",staticStyle:{"max-height":"36px"},attrs:{dense:"",icon:"mdi-magnify","text-color":"dark",color:"white"},on:{click:function(e){t.search_selected=!0}}}),s("q-btn",{staticClass:"q-ml-sm",staticStyle:{"max-height":"36px"},attrs:{dense:"",icon:"mdi-filter","text-color":"dark",color:"white"},on:{click:function(e){return t.openFilterDrawer()}}})],1)]),s("div",[s("q-tabs",{staticStyle:{width:"available"},attrs:{"no-caps":"",dense:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.types,(function(t){return s("div",{key:t},[s("q-tab",{attrs:{name:t,label:t,on:""}})],1)})),0)],1),t.render_best&&t.instruments_to_render.length>0?s("div",{staticClass:"bg-light-blue-2 row q-pa-sm"},[t.$q.platform.is.mobile?t._e():s("div",{staticClass:"col-3 vendor_link",on:{click:function(e){return t.open_vendor_dialog(t.lowest.vendor_id)}}},[t._v("\n            Best : "+t._s(t.lowest.vendor)+"\n          ")]),t.$q.platform.is.mobile?s("div",{staticClass:"col-6",on:{click:function(e){return t.open_vendor_dialog(t.lowest.vendor_id)}}},[s("div",{staticClass:"q-pl-md "},[s("div",{staticClass:"row vendor_link"},[s("span",{staticStyle:{"font-size":"small"}},[t._v("Best: "+t._s(t.lowest.vendor))])]),s("div",{staticClass:"row"},[s("span",{staticStyle:{"font-size":"small"}},[t._v(t._s(t.lowest.name))])])])]):s("div",{staticClass:"col",on:{click:function(e){return t.open_vendor_dialog(t.lowest.vendor_id)}}},[t._v("\n              "+t._s(t.lowest.name)+"\n            ")]),s("div",{staticClass:"col",on:{click:function(e){return t.open_order_sheet(t.lowest)}}},[t.$q.platform.is.mobile?s("div",[s("div",{staticClass:"row"},[s("span",{staticStyle:{"font-size":"large"}},[t._v(" "+t._s(t.lowest.bid))])]),s("div",{staticClass:"row"},[s("span",{staticStyle:{"font-size":"small"}},[t._v("L:"+t._s(t.lowest.low))])])]):s("div",[s("div",{staticClass:"col"},[t._v("\n              "+t._s(t.lowest.bid)+"\n                ")])])]),s("div",{staticClass:"col",on:{click:function(e){return t.open_order_sheet(t.lowest)}}},[t.$q.platform.is.mobile?s("div",[s("div",{staticClass:"row"},[s("span",{staticStyle:{"font-size":"large"}},[t._v(" "+t._s(t.lowest.ask))])]),s("div",{staticClass:"row"},[s("span",{staticStyle:{"font-size":"small"}},[t._v("H:"+t._s(t.lowest.high))])])]):s("div",[t._v("\n              "+t._s(t.lowest.ask)+"\n              ")])]),t.$q.platform.is.mobile?t._e():s("div",{staticClass:"col"},[t._v("\n              "+t._s(t.lowest.high)+"\n          ")]),t.$q.platform.is.mobile?t._e():s("div",{staticClass:"col"},[t._v("\n              "+t._s(t.lowest.low)+"\n          ")]),s("div",{staticClass:"col"})]):t._e(),s("q-table",{directives:[{name:"touch-swipe",rawName:"v-touch-swipe.mouse.horizontal",value:t.handleSwipe,expression:"handleSwipe",modifiers:{mouse:!0,horizontal:!0}}],staticStyle:{"max-height":"600px"},attrs:{title:"Ticker Prices",data:t.data_render,columns:t.headers,filter:t.filter,"row-key":"instrument_id",bordered:"",flat:"",pagination:t.pagination,"virtual-scroll":"","hide-bottom":""},scopedSlots:t._u([{key:"top",fn:function(){},proxy:!0},{key:"header",fn:function(e){return[s("q-tr",{staticClass:"text-left",attrs:{props:e}},[t.$q.platform.is.mobile?t._e():s("q-th",[t._v("\n            Vendor\n          ")]),s("q-th",[t._v("\n            Symbol\n          ")]),s("q-th",[t._v("\n            Bid\n          ")]),s("q-th",[t._v("\n            Ask\n          ")]),t.$q.platform.is.mobile?t._e():s("q-th",[t._v("\n            High\n          ")]),t.$q.platform.is.mobile?t._e():s("q-th",[t._v("\n            Low\n          ")]),s("q-th"),s("q-th")],1)]}},{key:"body",fn:function(e){return[s("q-tr",{attrs:{props:e}},[t.$q.platform.is.mobile?t._e():s("q-td",{key:"Vendor",staticClass:"vendor_link",attrs:{props:e},on:{click:function(s){return t.open_vendor_dialog(e.row.vendor_id)}}},[t._v("\n            "+t._s(e.row.vendor)+"\n          ")]),s("q-td",{key:"Symbol",attrs:{props:e},on:{click:function(s){return t.open_vendor_dialog(e.row.vendor_id)}}},[t.$q.platform.is.mobile?s("div",[s("div",{staticClass:"col"},[s("div",{staticClass:"row vendor_link"},[s("span",{staticStyle:{"font-size":"small"}},[t._v(" "+t._s(e.row.vendor))])]),s("div",{staticClass:"row"},[s("span",{staticStyle:{"font-size":"small"}},[t._v(t._s(e.row.name))])])])]):s("div",[t._v("\n              "+t._s(e.row.name)+"\n            ")])]),s("q-td",{key:"Bid",attrs:{props:e},on:{click:function(s){return t.open_order_sheet(e.row)}}},[t.$q.platform.is.mobile?s("div",[s("div",{staticClass:"col"},[s("div",{staticClass:"row"},[s("span",{staticStyle:{"font-size":"large"}},[t._v(" "+t._s(e.row.bid))])]),s("div",{staticClass:"row"},[s("span",{staticStyle:{"font-size":"small"}},[t._v("L:"+t._s(e.row.low))])])])]):s("div",[t._v("\n              "+t._s(e.row.bid)+"\n            ")])]),s("q-td",{key:"Ask",attrs:{props:e},on:{click:function(s){return t.open_order_sheet(e.row)}}},[t.$q.platform.is.mobile?s("div",[s("div",{staticClass:"col"},[s("div",{staticClass:"row"},[s("span",{staticStyle:{"font-size":"large"}},[t._v(" "+t._s(e.row.ask))])]),s("div",{staticClass:"row"},[s("span",{staticStyle:{"font-size":"small"}},[t._v("H:"+t._s(e.row.high))])])])]):s("div",[t._v("\n              "+t._s(e.row.ask)+"\n              ")])]),t.$q.platform.is.mobile?t._e():s("q-td",{key:"High",attrs:{props:e}},[t._v("\n              "+t._s(e.row.high)+"\n          ")]),t.$q.platform.is.mobile?t._e():s("q-td",{key:"Low",attrs:{props:e}},[t._v("\n              "+t._s(e.row.low)+"\n          ")]),s("q-td",{key:"favourite",attrs:{props:e},on:{click:function(s){return t.toggleFavourite(e.row)}}},[e.row.is_favourite?s("div",[s("q-icon",{attrs:{size:"sm",name:"mdi-star"}})],1):s("div",[s("q-icon",{attrs:{size:"sm",name:"mdi-star-outline"}})],1)])],1)]}}])}),s("q-dialog",{model:{value:t.filterDialog,callback:function(e){t.filterDialog=e},expression:"filterDialog"}},[s("q-card",[s("q-card-section",{staticClass:"row items-center q-pb-none"},[s("div",{staticClass:"text-h6"},[t._v("Filters")]),s("q-space"),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),s("q-card-section",{attrs:{horizontal:""}},[s("q-card-section",[s("div",{staticClass:"text-h6"},[t._v("Delivery From")])]),s("q-separator",{attrs:{vertical:""}}),s("q-card-section",[s("div",{staticClass:"q-pa-md"},[s("div",{staticClass:"q-pb-sm"}),s("q-date",{model:{value:t.selected.delivery_from,callback:function(e){t.$set(t.selected,"delivery_from",e)},expression:"selected.delivery_from"}})],1)])],1)],1)],1)],1)},r=[],o=(s("ddb0"),s("4082")),i=s.n(o),n=s("c993"),l=s("2a19"),c={name:"TickerPriceTable",props:["instruments_to_render","title","render_best"],computed:{data_render:function(){var t=this.instruments_to_render;let e="";return"All"!==this.tab?(e=this.tab,t.filter((t=>t.type===e))):t},lowest:function(){let t="";var e=[];return"All"!==this.tab?(t=this.tab,e=this.instruments_to_render.filter((e=>e.type===t))):e=this.instruments_to_render,e.filter((t=>t.ask===Math.min(...e.map((t=>t.ask)))))[0]}},data(){return{pagination:{rowsPerPage:0},search_selected:!1,filter:"",tab:"All",tabIndex:0,filterDialog:!1,types:["All","Gold 999","Gold 999 1kg","Gold 995","Gold 995 1kg"],headers:[{name:"Vendor",align:"start",field:"vendor",label:"Vendor"},{name:"Symbol",align:"start",field:"name",label:"Symbol"},{name:"Bid",align:"start",field:"bid",filterable:!0,label:"Bid",sortable:!0},{name:"Ask",align:"start",field:"ask",filterable:!0,label:"Ask",sortable:!0},{name:"High",align:"start",field:"high",filterable:!0,label:"High",sortable:!0},{name:"Low",align:"start",field:"low",filterable:!0,label:"Low",sortable:!0},{name:"favourite",align:"start",field:"is_favourite",label:""}],selected:{delivery_from:null,delivery_to:null}}},methods:{openFilterDrawer(){this.$store.state.rightDrawerOpen=!this.$store.state.rightDrawerOpen},handleSwipe(t){let{evt:e}=t,s=i()(t,["evt"]);console.log(s),"right"===s.direction?(this.tabIndex=Math.max(0,this.tabIndex-1),this.tab=this.types[Math.min(this.tabIndex,this.types.length-1)]):"left"===s.direction&&(this.tabIndex=Math.min(this.types.length-1,this.tabIndex+1),this.tabIndex<0&&(this.tabIndex=0),this.tab=this.types[Math.max(this.tabIndex,0)])},toggleFavourite:function(t){console.log(t),t.is_favourite=!t.is_favourite,!1===t.is_favourite?Object(n["k"])(t.instrument_id).then((t=>{console.log(t),l["a"].create({message:"Removed from favourites ",position:"top-right"})})):Object(n["b"])(t).then((t=>{l["a"].create({message:"Added to favourites ",position:"top-right"})}))},open_order_sheet:function(t){this.$store.dispatch("set_order_item",t),this.$store.dispatch("set_sheet",!0)},open_vendor_dialog:function(t){var e=this.$store.getters.get_vendor_instruments(t);this.$router.push({name:"Vendor",params:{vendor_object:e}})}},created(){}},d=c,u=(s("b0d4"),s("2877")),m=s("27f9"),p=s("9c40"),_=s("429b"),h=s("7460"),f=s("eaac"),v=s("bd08"),g=s("db86"),b=s("0016"),q=s("357e"),y=s("24e8"),w=s("f09f"),k=s("a370"),C=s("2c91"),x=s("eb85"),S=s("52ee"),$=s("12c5"),O=s("7f67"),T=s("eebe"),Q=s.n(T),I=Object(u["a"])(d,a,r,!1,null,"5001bbc2",null);e["a"]=I.exports;Q()(I,"components",{QInput:m["a"],QBtn:p["a"],QTabs:_["a"],QTab:h["a"],QTable:f["a"],QTr:v["a"],QTd:g["a"],QIcon:b["a"],QTh:q["a"],QDialog:y["a"],QCard:w["a"],QCardSection:k["a"],QSpace:C["a"],QSeparator:x["a"],QDate:S["a"]}),Q()(I,"directives",{TouchSwipe:$["a"],ClosePopup:O["a"]})},6428:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"q-ma-md row text-h6"},[t._v("All vendors")]),s("div",{staticClass:" row q-pa-md"},t._l(t.vendors,(function(e){return s("div",{key:e.vendor_id},[s("q-card",{staticClass:"q-ml-md",on:{click:function(s){return t.open_vendor_dialog(e.vendor_id)}}},[s("q-card-section",{style:{backgroundColor:e.theme.css_header_background_color,height:"150px",width:"120px"}},[s("q-img",{attrs:{width:"80px",src:t.base_url+e.theme.logo}}),s("span",{staticClass:"text-white",staticStyle:{"font-weight":"bold"}},[t._v(t._s(e.name))])],1)],1)],1)})),0)])},r=[],o=s("c993"),i={name:"TopVendors",props:["vendors"],data(){return{base_url:o["c"]}},methods:{open_vendor_dialog:function(t){var e=this.$store.getters.get_vendor_instruments(t);this.$router.push({name:"Vendor",params:{vendor_object:e}})}}},n=i,l=s("2877"),c=s("f09f"),d=s("a370"),u=s("068f"),m=s("eebe"),p=s.n(m),_=Object(l["a"])(n,a,r,!1,null,"f92127a2",null);e["a"]=_.exports;p()(_,"components",{QCard:c["a"],QCardSection:d["a"],QImg:u["a"]})},b0d4:function(t,e,s){"use strict";s("23fc")},c993:function(t,e,s){"use strict";s.d(e,"c",(function(){return i})),s.d(e,"b",(function(){return l})),s.d(e,"k",(function(){return c})),s.d(e,"f",(function(){return d})),s.d(e,"i",(function(){return u})),s.d(e,"e",(function(){return m})),s.d(e,"h",(function(){return p})),s.d(e,"g",(function(){return _})),s.d(e,"d",(function(){return n})),s.d(e,"j",(function(){return h})),s.d(e,"a",(function(){return f}));var a=s("18d6");function r(t){return 204===t.status||404===t.status||400===t.status||500===t.status?t:t.data}function o(t,e,o){console.log("requesting with token"+a["a"].getItem("token"));var i=s("bc3a"),n={method:e||"GET",url:t,headers:{Authorization:"Token "+a["a"].getItem("token"),"Content-Type":"application/json"},data:o};return i(n).then((t=>r(t)))}const i="https://admin.deltabx.com",n="admin.deltabx.com";function l(t){const e=i+"/api/favourites/";return o(e,"POST",t)}function c(t){const e=i+"/api/favourites/";var s={instrument_id:t};return o(e,"DELETE",s)}function d(){const t=i+"/order/api/orders";return o(t,"GET",null)}function u(t){const e=i+"/order/api/orders";return o(e,"POST",t)}function m(t){const e=i+"/order/api/orders";return o(e,"DELETE",t)}function p(){const t=i+"/order/api/usermargins";return o(t,"GET",null)}function _(){const t=i+"/api/rest-auth/user";return o(t,"GET",null)}function h(t){const e=i+"/api/ratevendor/";return o(e,"POST",t)}function f(t){const e=i+"/user/api/activateUser";return o(e,"POST",t)}},e8bc:function(t,e,s){"use strict";s("231f")}});